# CSC ä¸Šçš„å½©ç¥¨æ™ºèƒ½åˆåŒ-ç¬¬ 1 éƒ¨åˆ†

> åŸæ–‡ï¼š<https://medium.com/coinmonks/lottery-smart-contract-on-csc-part1-138322a5913d?source=collection_archive---------31----------------------->

å˜¿å˜¿å˜¿ï¼

ZeroXlive æ˜¯ä¸º Coinex æ™ºèƒ½é“¾å­¦é™¢è€Œæ¥ğŸ˜ƒ

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬æƒ³å†™å½©ç¥¨æ™ºèƒ½åˆåŒä½¿ç”¨ Coinex æ™ºèƒ½é“¾ä¸Šçš„å¯é æ€§ã€‚ç•™åœ¨æˆ‘èº«è¾¹ï¼›)

![](img/ad5f5886c590e06e022a359764163a8c.png)

## æ™ºèƒ½åˆåŒ

**æ™ºèƒ½åˆåŒ**æ˜¯ä¸€ç§è®¡ç®—æœºç¨‹åºæˆ–äº¤æ˜“åè®®ï¼Œæ—¨åœ¨æ ¹æ®åˆåŒæˆ–åè®®çš„æ¡æ¬¾è‡ªåŠ¨æ‰§è¡Œã€æ§åˆ¶æˆ–è®°å½•ä¸æ³•å¾‹ç›¸å…³çš„äº‹ä»¶å’Œè¡Œä¸ºã€‚æ™ºèƒ½åˆåŒçš„ç›®æ ‡æ˜¯å‡å°‘å¯¹å¯ä¿¡ä¸­é—´äººçš„éœ€æ±‚ã€ä»²è£æˆæœ¬å’Œæ¬ºè¯ˆæŸå¤±ï¼Œä»¥åŠå‡å°‘æ¶æ„å’Œæ„å¤–ä¾‹å¤–ã€‚æ™ºèƒ½åˆçº¦é€šå¸¸ä¸åŠ å¯†è´§å¸ç›¸å…³è”ï¼Œä»¥å¤ªåŠæ¨å‡ºçš„æ™ºèƒ½åˆçº¦é€šå¸¸è¢«è®¤ä¸ºæ˜¯åˆ†æ•£é‡‘è(DeFi)å’Œ NFT åº”ç”¨ç¨‹åºçš„åŸºæœ¬æ„å»ºæ¨¡å—ã€‚

è‡ªåŠ¨å”®è´§æœºè¢«è®¤ä¸ºæ˜¯æœ€å¤è€çš„æŠ€æœ¯ï¼Œç›¸å½“äºæ™ºèƒ½åˆåŒçš„å®ç°ã€‚Vitalik Buterin åœ¨ 2014 å¹´å‘è¡¨çš„åŸå§‹ä»¥å¤ªåŠç™½çš®ä¹¦å°†æ¯”ç‰¹å¸åè®®æè¿°ä¸º Nick Szabo æœ€åˆå®šä¹‰çš„æ™ºèƒ½åˆçº¦æ¦‚å¿µçš„å¼±ç‰ˆæœ¬ï¼Œå¹¶åŸºäº Solidity è¯­è¨€æå‡ºäº†æ›´å¼ºçš„ç‰ˆæœ¬ï¼Œå³å›¾çµå®Œå¤‡ã€‚è‡ªæ¯”ç‰¹å¸ä»¥æ¥ï¼Œå„ç§åŠ å¯†è´§å¸éƒ½æ”¯æŒè„šæœ¬è¯­è¨€ï¼Œè¿™äº›è¯­è¨€å…è®¸ä¸å—ä¿¡ä»»æ–¹ä¹‹é—´ç­¾è®¢æ›´é«˜çº§çš„æ™ºèƒ½åˆåŒã€‚

æœ¬æ•™ç¨‹çš„ç›®çš„æ˜¯è®©ä½ ç†Ÿæ‚‰å¯é æ€§å’Œæ™ºèƒ½åˆåŒå†™ä½œçš„åŸºæœ¬æ¦‚å¿µï¼Œå¹¶å¼€å§‹ä½ çš„ç¬¬ä¸€ä»½æ™ºèƒ½åˆåŒã€‚åœ¨è¿™ç¯‡åšå®¢çš„ç»“å°¾ï¼Œä½ å°†æ‹¥æœ‰è‡ªå·±çš„å½©ç¥¨æ™ºèƒ½åˆçº¦ã€‚

## å½©ç¥¨æ™ºèƒ½åˆçº¦

æˆ‘ä»¬æ­£åœ¨å»ºç«‹ä¸€ä¸ªå½©ç¥¨æ™ºèƒ½åˆåŒï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªä¸»è¦å®ä½“ï¼Œåˆ›ä½œè€…å’Œå‚èµ›è€…ã€‚å‚èµ›è€…æ”¯ä»˜å°†å­˜å‚¨åœ¨æ™ºèƒ½åˆåŒä¸­çš„æŠ¥åè´¹ï¼Œå¹¶å‚åŠ æŠ½å¥–ã€‚åˆ›å»ºè€…å¯ä»¥è®¾ç½®è´¹ç”¨ï¼Œæ›´æ”¹è´¹ç”¨ï¼Œå¹¶å†³å®šä½•æ—¶å®£å¸ƒæŠ½å¥–ç»“æœã€‚å½“åˆ›å»ºè€…è‡ªåŠ¨ç»“æŸæŠ½å¥–æ—¶ï¼Œå­˜å‚¨åœ¨æ™ºèƒ½åˆåŒä¸­çš„å…¨éƒ¨é‡‘é¢å°†è¢«è½¬ç§»åˆ°æŠ½å¥–çš„è·èƒœè€…ï¼Œè¯¥è·èƒœè€…å°†ä»å‚èµ›è€…åˆ—è¡¨ä¸­éšæœºé€‰æ‹©ã€‚ä¸ä¼ ç»Ÿçš„å½©ç¥¨ç³»ç»Ÿä¸åŒï¼Œåœ¨ä¼ ç»Ÿçš„å½©ç¥¨ç³»ç»Ÿä¸­ï¼Œåˆ›å»ºè€…æŒæœ‰å‚èµ›è€…çš„èµ„é‡‘ï¼Œè€Œåœ¨åŸºäºåŒºå—é“¾çš„å½©ç¥¨ç³»ç»Ÿä¸­ï¼Œèµ„é‡‘ä¿å­˜åœ¨æ™ºèƒ½åˆåŒä¸­ï¼Œåªæœ‰åœ¨é€‰ä¸¾ç»“æŸæ—¶æ‰èƒ½ä»æ™ºèƒ½åˆåŒä¸­è§£é™¤ã€‚

å¯¹äºæœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬å°†æœ‰ä¸€ä¸ªéå¸¸ç®€å•çš„ç¯å¢ƒï¼Œå› ä¸ºæˆ‘ä»¬åªå¯¹æ™ºèƒ½å¥‘çº¦è¿›è¡Œç¼–ç å’Œæ‰‹åŠ¨æµ‹è¯•ï¼Œè€Œä¸ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ web IDEï¼Œåä¸º [Remix](https://ide.coinex.net) ã€‚å®ƒæ˜¯æ—©æœŸå¼€å‘äººå‘˜ä½¿ç”¨æœ€å¤šçš„å·¥å…·ä¹‹ä¸€ã€‚è¿™æ˜¯éå¸¸å‹å¥½å’Œç®€å•çš„åˆå­¦è€…ã€‚

## å‘å±•

ç²¾å½©çš„éƒ¨åˆ†ç»ˆäºæ¥äº†ã€‚æ¯ä¸ª solidity smart åˆåŒçš„ç¬¬ä¸€è¡Œéƒ½æœ‰ä¸€ä¸ªæ³¨é‡Šï¼Œæåˆ°äº†æ‰€ä½¿ç”¨çš„æ ‡å‡†å’Œè®¸å¯ã€‚ä¸‹ä¸€è¡Œæ˜¾ç¤ºäº†è¿™ä¸ªåˆåŒä½¿ç”¨çš„ solidity ç‰ˆæœ¬ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨å…³é”®å­— **contract** åè·ŸåˆåŒåç§°æ¥å®šä¹‰åˆåŒã€‚æˆ‘ä»¬æ‰€æœ‰ä¸æ­¤åˆåŒç›¸å…³çš„ä»£ç éƒ½å°†æ”¾åœ¨è¿™é‡Œã€‚

```
//SPDX-License-Identifier: MIT 
pragma solidity ^0.8.10;
contract Lottery{

}
```

**å˜é‡å’Œæ„é€ å‡½æ•°**

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®šä¹‰å°†è¦ä½¿ç”¨çš„å˜é‡å’Œæ„é€ å‡½æ•°ã€‚åœ¨æˆ‘ä»¬çš„èŒƒå›´å†…ï¼Œæˆ‘ä»¬å¿…é¡»å®šä¹‰çš„å”¯ä¸€å˜é‡æ˜¯æ‰€æœ‰è€…å’Œç«äº‰è€…çš„æ•°ç»„ã€‚æˆ‘ä»¬è¿˜åœ¨è¿™é‡Œå®šä¹‰äº†å½©ç¥¨çš„é»˜è®¤è´¹ç”¨ï¼Œä¸šä¸»å¯ä»¥éšæ—¶æ›´æ”¹è¿™äº›è´¹ç”¨ã€‚ç°åœ¨æ¥çœ‹æ„é€ å‡½æ•°ï¼Œè¿™æ®µä»£ç åªè¿è¡Œä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯éƒ¨ç½²å¥‘çº¦çš„æ—¶å€™ã€‚å½“æˆ‘ä»¬éƒ¨ç½²æ™ºèƒ½åˆåŒæ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›éƒ¨ç½²åˆåŒçš„äººæ˜¯å½©ç¥¨çš„åˆ›å»ºè€…ã€‚æœ¯è¯­ *msg.sender* è¡¨ç¤ºæ”¯ä»˜éƒ¨ç½²åˆåŒè´¹ç”¨çš„åœ°å€ã€‚

```
address public creator;
address payable[] public contestants;
uint fees= 1 ether;constructor(){
    creator = msg.sender;
}
```

å‚èµ›è€…çš„åœ°å€å±äº payable ç±»å‹ï¼Œè¿™æ„å‘³ç€æ™ºèƒ½åˆçº¦å°†èƒ½å¤Ÿæ”¯ä»˜è¿™äº›åœ°å€çš„è´¹ç”¨ã€‚è¿™æ˜¯å› ä¸ºä»»ä½•åœ°å€éƒ½å¯ä»¥èµ¢å¾—å½©ç¥¨ï¼Œæ™ºèƒ½åˆåŒåº”è¯¥èƒ½å¤Ÿå‘è¯¥åœ°å€ä»˜æ¬¾ã€‚

**å®åº¦ä¿®æ”¹å™¨**

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç¼–å†™æˆ‘ä»¬å°†åœ¨è¿™ä¸ªå¥‘çº¦ä¸­ä½¿ç”¨çš„å‡½æ•°ã€‚è¿™äº›å‡½æ•°ä¸­çš„å¤§éƒ¨åˆ†éƒ½å¯ä»¥è¢«ä»»ä½•äººè°ƒç”¨ï¼Œä½†æ˜¯åƒç»“æŸé€‰ä¸¾æˆ–æ”¹å˜è´¹ç”¨è®¾ç½®è¿™æ ·çš„ä¸€äº›å‡½æ•°åªèƒ½è¢«åˆ›å»ºè€…è°ƒç”¨ã€‚ä¸ºäº†ä¾¿äºç¼–ç å’Œä¸é‡å¤è¦æ±‚æ¡ä»¶ï¼Œåšå›ºæ€§æœ‰ä¿®é¥°è¯ã€‚å®ƒä»¬ç”¨äºå‘å‡½æ•°æ·»åŠ å…ˆå†³æ¡ä»¶ã€‚ä½œä¸ºç¼–ç å®è·µï¼Œæˆ‘ä»¬é€šå¸¸å°†ä¿®é¥°ç¬¦æ”¾åœ¨å¥‘çº¦çš„æœ«å°¾ã€‚

```
modifier onlyOwner() {
      require(msg.sender == creator);
      _;
    }
```

**ä¹¦å†™åŠŸèƒ½**

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç¼–å†™åŸºæœ¬å‡½æ•°ï¼Œå¦‚è·å–è´¹ç”¨å’Œè®¾ç½®è´¹ç”¨å‡½æ•°ã€‚å…¶é€»è¾‘éå¸¸ç®€å•ï¼Œè·å–è´¹ç”¨å‡½æ•°è°ƒç”¨è´¹ç”¨å˜é‡å¹¶è¿”å›è´¹ç”¨å€¼ã€‚ç”±äºè¯¥å‡½æ•°åªæŸ¥çœ‹å€¼ï¼Œä¸æ‰§è¡Œä»»ä½•äº‹åŠ¡ï¼Œå› æ­¤ä¸æ”¶å–ä»»ä½•è´¹ç”¨ï¼Œå¹¶ä¸”æˆ‘ä»¬æ·»åŠ äº† view å…³é”®å­—ã€‚å¯¹äºå›ºå®šè´¹ç”¨ï¼Œæˆ‘ä»¬æ”¹å˜è´¹ç”¨å˜é‡çš„å€¼å¹¶æ›´æ–°å®ƒã€‚å› ä¸ºåªæœ‰åˆ›é€ è€…å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œæ·»åŠ æˆ‘ä»¬çš„ä¿®æ”¹å™¨ã€‚

```
function setFees(uint _fees) public onlyOwner  {         fees=_fees;     } function getFees() public view returns (uint)  {         return fees;     }
```

> äº¤æ˜“æ–°æ‰‹ï¼Ÿå°è¯•[åŠ å¯†äº¤æ˜“æœºå™¨äºº](/coinmonks/crypto-trading-bot-c2ffce8acb2a)æˆ–[å¤åˆ¶äº¤æ˜“](/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c)
> 
> åŠ å…¥ Coinmonks [ç”µæŠ¥é¢‘é“](https://t.me/coincodecap)å’Œ [Youtube é¢‘é“](https://www.youtube.com/c/coinmonks/videos)è·å–æ¯æ—¥[åŠ å¯†æ–°é—»](http://coincodecap.com/)

## å¦å¤–ï¼Œé˜…è¯»

*   [å¤åˆ¶äº¤æ˜“](/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c) | [åŠ å¯†ç¨åŠ¡è½¯ä»¶](/coinmonks/crypto-tax-software-ed4b4810e338)
*   [ç½‘æ ¼äº¤æ˜“](https://coincodecap.com/grid-trading) | [åŠ å¯†ç¡¬ä»¶é’±åŒ…](/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069)
*   [å¯†ç ç”µæŠ¥ä¿¡å·](/coinmonks/top-3-telegram-channels-for-crypto-traders-in-2021-8385f4411ff4) | [å¯†ç äº¤æ˜“æœºå™¨äºº](/coinmonks/crypto-trading-bot-c2ffce8acb2a)
*   [æœ€ä½³åŠ å¯†äº¤æ˜“æ‰€](/coinmonks/crypto-exchange-dd2f9d6f3769) | [å°åº¦æœ€ä½³åŠ å¯†äº¤æ˜“æ‰€](/coinmonks/bitcoin-exchange-in-india-7f1fe79715c9)
*   [å¼€å‘äººå‘˜çš„æœ€ä½³åŠ å¯† API](/coinmonks/best-crypto-apis-for-developers-5efe3a597a9f)
*   æœ€ä½³[å¯†ç å€Ÿè´·å¹³å°](/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa)
*   [å…è´¹åŠ å¯†ä¿¡å·](/coinmonks/free-crypto-signals-48b25e61a8da) | [åŠ å¯†äº¤æ˜“æœºå™¨äºº](/coinmonks/crypto-trading-bot-c2ffce8acb2a)
*   æ æ†ä»£å¸çš„ç»ˆææŒ‡å—