<html>
<head>
<title>Local Development on CSC</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSC的本地开发</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/local-development-on-csc-647e03a05775?source=collection_archive---------58-----------------------#2022-07-01">https://medium.com/coinmonks/local-development-on-csc-647e03a05775?source=collection_archive---------58-----------------------#2022-07-01</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="fc08" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">本教程将帮助您熟悉如何使用Hardhat启动本地区块链，将智能合约示例部署到本地区块链，以及使用Metamask和Remix与区块链进行交互。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff jo"><img src="../Images/ad5f5886c590e06e022a359764163a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x0L4Tz25CV7a9RDg2bZXIA.png"/></div></div><figcaption class="ka kb fg fe ff kc kd bd b be z ek">coinex.org</figcaption></figure><h1 id="b2a0" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">为什么是区块链本地？</h1><ul class=""><li id="c0af" class="lc ld ht is b it le ix lf jb lg jf lh jj li jn lj lk ll lm dt translated">运行本地区块链非常有用，因为测试变得非常快速和高效。</li><li id="12dd" class="lc ld ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">只有你的机器在运行区块链，因此一致性很快，你不必等待其他节点同步或验证。</li><li id="e25c" class="lc ld ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">您还可以使用许多专门为本地测试构建的专门模块，如<a class="ae ls" href="https://hardhat.org/tutorial/debugging-with-hardhat-network.html" rel="noopener ugc nofollow" target="_blank"> Hardhat console.log </a>，它可以帮助您在合同中添加打印功能。(learnweb3.io)</li></ul><p id="b08b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了构建智能合同，我们将使用<a class="ae ls" href="https://hardhat.org/" rel="noopener ugc nofollow" target="_blank"> Hardhat </a>。Hardhat是一个以太坊开发环境和框架，设计用于Solidity中的全栈开发。简而言之，您可以编写您的智能契约，部署它们，运行测试，并调试您的代码。</p><p id="abcd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">打开终端并执行以下命令:</p><pre class="jp jq jr js fq lt lu lv lw aw lx dt"><span id="b44e" class="ly kf ht lu b fv lz ma l mb mc">npm init --yes<br/>npm install --save-dev hardhat</span></pre><p id="9746" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在安装Hardhat run的同一目录中:</p><pre class="jp jq jr js fq lt lu lv lw aw lx dt"><span id="414b" class="ly kf ht lu b fv lz ma l mb mc">npx hardhat</span></pre><ul class=""><li id="60b8" class="lc ld ht is b it iu ix iy jb md jf me jj mf jn lj lk ll lm dt translated">选择<code class="eh mg mh mi lu b">Create a basic sample project</code></li><li id="6f15" class="lc ld ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">对已经指定的<code class="eh mg mh mi lu b">Hardhat Project root</code>按回车键</li><li id="e8b7" class="lc ld ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">对于是否要添加一个<code class="eh mg mh mi lu b">.gitignore</code>的问题，按回车键</li><li id="6b35" class="lc ld ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">按回车键进入<code class="eh mg mh mi lu b">Do you want to install this sample project's dependencies with npm (@nomiclabs/hardhat-waffle ethereum-waffle chai @nomiclabs/hardhat-ethers ethers)?</code></li></ul><p id="c14f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在你有一个安全帽项目准备好了！</p><blockquote class="mj mk ml"><p id="a77c" class="iq ir mm is b it iu iv iw ix iy iz ja mn jc jd je mo jg jh ji mp jk jl jm jn hm dt translated">交易新手？尝试<a class="ae ls" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或<a class="ae ls" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote><p id="e12c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你不是在mac上，请做这个额外的步骤并且安装这些库:)</p><pre class="jp jq jr js fq lt lu lv lw aw lx dt"><span id="2531" class="ly kf ht lu b fv lz ma l mb mc">npm install --save-dev @nomiclabs/hardhat-waffle ethereum-waffle chai @nomiclabs/hardhat-ethers ethers</span></pre><p id="84d6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">并按下<code class="eh mg mh mi lu b">enter</code>询问所有问题。</p><p id="a40e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">基本的hardhat项目还附带了一个示例智能契约。我们将在我们的示例中使用这个智能契约。你应该在<code class="eh mg mh mi lu b">contracts\Greeter.sol</code>看到这份合同。它应该是这样的:</p><pre class="jp jq jr js fq lt lu lv lw aw lx dt"><span id="95ed" class="ly kf ht lu b fv lz ma l mb mc">//SPDX-License-Identifier: Unlicense<br/>pragma solidity ^0.8.0;</span><span id="094b" class="ly kf ht lu b fv mq ma l mb mc">import "hardhat/console.sol";</span><span id="d4ae" class="ly kf ht lu b fv mq ma l mb mc">contract Greeter {<br/>    string private greeting;</span><span id="f35e" class="ly kf ht lu b fv mq ma l mb mc">    constructor(string memory _greeting) {<br/>        console.log("Deploying a Greeter with greeting:", _greeting);<br/>        greeting = _greeting;<br/>    }</span><span id="0122" class="ly kf ht lu b fv mq ma l mb mc">    function greet() public view returns (string memory) {<br/>        return greeting;<br/>    }</span><span id="4bbe" class="ly kf ht lu b fv mq ma l mb mc">    function setGreeting(string memory _greeting) public {<br/>        console.log("Changing greeting from '%s' to '%s'", greeting, _greeting);<br/>        greeting = _greeting;<br/>    }<br/>}</span></pre><p id="0375" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，要在指向您的目录的终端中实际运行您的本地区块链，请执行以下命令:</p><pre class="jp jq jr js fq lt lu lv lw aw lx dt"><span id="a852" class="ly kf ht lu b fv lz ma l mb mc">npx hardhat node</span></pre><h1 id="2bd2" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">元掩码连接</h1><ul class=""><li id="c7ae" class="lc ld ht is b it le ix lf jb lg jf lh jj li jn lj lk ll lm dt translated">要使用元掩码连接到此网络，请单击您的个人资料，然后单击设置</li></ul><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff mr"><img src="../Images/54bdadf6c34859c956b1967e6b0b1d82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/0*9dO05M42b9bJTDQE.png"/></div><figcaption class="ka kb fg fe ff kc kd bd b be z ek">source:learnweb3.io</figcaption></figure><ul class=""><li id="7978" class="lc ld ht is b it iu ix iy jb md jf me jj mf jn lj lk ll lm dt translated">然后点击网络，接着点击<code class="eh mg mh mi lu b">Localhost 8545</code></li></ul><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff ms"><img src="../Images/aa8352b1e81676a0348a8ea9368721f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*v8UQd6X8K_aS7PzT.png"/></div></div></figure><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff mt"><img src="../Images/49959c66e55dcb1d3c34b77639647a8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-WVCtHtcCTh5B0JR.png"/></div></div></figure><ul class=""><li id="a914" class="lc ld ht is b it iu ix iy jb md jf me jj mf jn lj lk ll lm dt translated">将链Id更改为<code class="eh mg mh mi lu b">31337</code>(这是您正在运行的本地区块链的链ID)，然后单击<code class="eh mg mh mi lu b">Save</code></li></ul><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff mu"><img src="../Images/4cfdecf0baafd3b45111cea774b73e8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*o5AMJhVBQ-tBxAjZ.png"/></div></div></figure><h1 id="f64a" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">再搅拌</h1><p id="4c82" class="pw-post-body-paragraph iq ir ht is b it le iv iw ix lf iz ja jb mv jd je jf mw jh ji jj mx jl jm jn hm dt translated">我们现在将我们的合同部署到本地区块链，并使用Remix与之交互</p><p id="0617" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">转到remix.ethereum.org的<a class="ae ls" href="https://remix.ethereum.org/#optimize=false&amp;runs=200&amp;evmVersion=null&amp;version=soljson-v0.8.7+commit.e28d00a7.js" rel="noopener ugc nofollow" target="_blank"/>，在名为<code class="eh mg mh mi lu b">Greeter.sol</code>的合同文件夹中创建一个新文件</p><ul class=""><li id="04fd" class="lc ld ht is b it iu ix iy jb md jf me jj mf jn lj lk ll lm dt translated">将以下代码复制到其中:</li></ul><pre class="jp jq jr js fq lt lu lv lw aw lx dt"><span id="dfae" class="ly kf ht lu b fv lz ma l mb mc">//SPDX-License-Identifier: Unlicense<br/>pragma solidity ^0.8.0;</span><span id="6894" class="ly kf ht lu b fv mq ma l mb mc">import "hardhat/console.sol";</span><span id="7841" class="ly kf ht lu b fv mq ma l mb mc">contract Greeter {<br/>    string private greeting;</span><span id="8fb6" class="ly kf ht lu b fv mq ma l mb mc">    constructor(string memory _greeting) {<br/>        console.log("Deploying a Greeter with greeting:", _greeting);<br/>        greeting = _greeting;<br/>    }</span><span id="8311" class="ly kf ht lu b fv mq ma l mb mc">    function greet() public view returns (string memory) {<br/>        return greeting;<br/>    }</span><span id="90b4" class="ly kf ht lu b fv mq ma l mb mc">    function setGreeting(string memory _greeting) public {<br/>        console.log("Changing greeting from '%s' to '%s'", greeting, _greeting);<br/>        greeting = _greeting;<br/>    }<br/>}</span></pre><ul class=""><li id="d951" class="lc ld ht is b it iu ix iy jb md jf me jj mf jn lj lk ll lm dt translated">编译<code class="eh mg mh mi lu b">Greeter.sol</code></li></ul><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff my"><img src="../Images/af7f62f743bbb00a669616f865c54df5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sbKG4GT5gwqthjXT.png"/></div></div></figure><ul class=""><li id="874e" class="lc ld ht is b it iu ix iy jb md jf me jj mf jn lj lk ll lm dt translated">现在要部署，转到部署选项卡，在您的环境中选择<code class="eh mg mh mi lu b">Injected Web3</code>，确保连接的帐户是您在上面导入的帐户，并且网络是您的元掩码上的<code class="eh mg mh mi lu b">Localhost 8545</code></li></ul><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff mz"><img src="../Images/6a748945e363097e7bf8ac624bd98626.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/0*K3kD7T3zYzmUDObq.png"/></div></figure><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff na"><img src="../Images/dccb3c5e87bec6517b14661d323e1d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xohNn17hjUYc8FQg.png"/></div></div></figure><p id="2c3a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">恭喜你！</p><p id="762e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们成功地建立了一个本地区块链用于开发和测试</p></div></div>    
</body>
</html>