<html>
<head>
<title>What Are Smart Contracts And How To Write Them — A Complete Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是智能合同以及如何编写它们——一个完整的指南</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/what-are-smart-contracts-and-how-to-write-them-a-complete-guide-65fe3f5baf34?source=collection_archive---------38-----------------------#2022-11-08">https://medium.com/coinmonks/what-are-smart-contracts-and-how-to-write-them-a-complete-guide-65fe3f5baf34?source=collection_archive---------38-----------------------#2022-11-08</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><h1 id="0e68" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">智能合同</h1><div class="jo jp fm fo jq jr"><a href="https://koop360.com/blog/what-are-smart-contracts/" rel="noopener  ugc nofollow" target="_blank"><div class="js ab ej"><div class="jt ab ju cl cj jv"><h2 class="bd hu fv z el jw eo ep jx er et hs dt translated">什么是智能合约|区块链技术- KOOP360</h2><div class="jy l"><h3 class="bd b fv z el jw eo ep jx er et ek translated">智能合约是在满足特定条件时运行的程序，并记录在区块链上。</h3></div><div class="jz l"><p class="bd b gc z el jw eo ep jx er et ek translated">koop360.com</p></div></div><div class="ka l"><div class="kb l kc kd ke ka kf kg jr"/></div></div></a></div><blockquote class="kh ki kj"><p id="7283" class="kk kl km kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li hm dt translated"><em class="ht">区块链技术正在快速发展，并出现在各个行业。它将主宰未来的世界，大量的操作都依赖于它。区块链技术已经进入了金融领域和教育领域。最近，它已经将触角伸向了医疗保健领域。</em></p></blockquote><p id="630a" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated"><em class="km">然而，使用</em> <a class="ae lm" href="https://koop360.com/blog/what-is-blockchain/" rel="noopener ugc nofollow" target="_blank">区块链</a> <em class="km">对新手来说似乎有些吓人。它附带了一些术语，乍一看可能让人不知所措。这就是为什么我们在这里帮助即将到来的区块链开发者习惯与技术相关的术语。其中一个术语是“智能合约”</em>  <em class="km">在本文中，我们将讨论什么是</em> <strong class="kn hu"> <em class="km">【智能合约】</em> </strong> <em class="km">以及如何编写它们。</em></p><h1 id="5740" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">什么是智能合约？</h1><figure class="lo lp lq lr fq ls fe ff paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="fe ff ln"><img src="../Images/4fe0e314b4831f21d4e234b54d02edad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*J5WC2eizHanfTucz.jpg"/></div></div></figure><p id="bb42" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">智能合约是在特定条件得到满足时运行的程序，并被记录在区块链T21上。它们通常用于简化合同的执行，以便所有各方可以立即确定合同的缔结，而无需中间人的参与或时间的浪费。他们还可以通过在满足特定条件时触发下一个活动来简化工作流。</p><h1 id="db17" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">智能合同的优势</h1><h1 id="4ee1" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">快速、高效、准确</h1><p id="875c" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">当一个要求被满足时，协议立即被执行。由于智能合同是电子化和自动化的，因此不需要处理文档，也不需要花费时间来纠正手动填写表单时经常出现的错误。</p><h1 id="9ec6" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">值得信赖和透明</h1><p id="4124" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">没有理由怀疑信息是否被操纵以谋取私利，因为没有第三方参与，交易的加密记录在参与者之间传输。</p><h1 id="ea1c" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">安全性</h1><p id="7778" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">区块链交易数据经过加密，极难被黑客攻击。此外，由于分布式分类账中的每条记录都与之前和之后的条目相关联，黑客将不得不改变整个链来改变特定的文档。</p><h1 id="9b24" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">储蓄</h1><p id="49a2" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">智能合约不仅减少了相关的时间延迟和成本，还减少了完成交易的中介需求。</p><h1 id="cfe7" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">如何写你的第一份智能合同？</h1><figure class="lo lp lq lr fq ls fe ff paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="fe ff ln"><img src="../Images/3dfc9f8afec7ffe8a13a1739f4829f4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IuWtuW7IYgv-4ity.jpg"/></div></div></figure><h1 id="c89f" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">智能合同的结构</h1><p id="5637" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">博彩业对NFT的采用仍处于早期阶段，因此尽管它提供了许多好处，但仍面临相当大的挑战。尽管存在这些挑战，但NFT在游戏行业已经获得了突出地位，因为它们有能力彻底改变游戏玩家消费在线游戏和购买游戏内资产的方式</p><h1 id="4991" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">杂注指令</h1><p id="f08a" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">使用<strong class="kn hu">“pragma”</strong>关键字可以启用某些编译特性或检查。下面的句子指定源文件(智能合约)不能用0.4.0之前和0.6.0之后的编译器版本进行编译。这个声明确保了当引入新的编译器版本时，不会引入意外的行为。</p><p id="8a39" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">1</p><p id="7460" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">pragma实度&gt; =0.4.0 &lt;=0.6.0</p><h1 id="9246" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">Contract Declaration</h1><p id="1502" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">The keyword “contract” is used to declare the contract. This declaration creates an empty contract with the name “Purchase Order.”</p><p id="cc91" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">1</p><p id="1ddd" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">2</p><p id="a597" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">contract Purchase Order</p><p id="f019" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">{ }</p><h1 id="b520" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">Storing necessary information in the contract</h1><p id="b81f" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">Any contract, or more broadly, every program, may involve the storage of some data. Providing data to the application gives it more versatility. A key feature is a transition from hard-coded values in the software to user-supplied values. Variables enable you to store data, label data, retrieve data, and alter data.</p><h1 id="cafb" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">Smart Contract Development: Introducing Variables</h1><p id="ba61" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated"><strong class="kn hu">在实度中，变量有两种类型</strong></p><ol class=""><li id="7221" class="md me ht kn b ko kp ks kt lj mf lk mg ll mh li mi mj mk ml dt translated"><strong class="kn hu">值类型:</strong>这些变量由值提供，这意味着它们在用作函数参数或在赋值时总是被复制。整数、布尔值、地址等等。</li><li id="8975" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated"><strong class="kn hu">引用类型:</strong>这些变量种类复杂，通过引用传递；它们不适合256位，必须小心维护，因为复制它们的成本很高。</li></ol><h1 id="b588" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">将数据添加到智能合同</h1><p id="e2d9" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">让我们在契约中包含一个数据变量。每份订单都必须附有一定数量的商品。让我们添加一个名为product quantity的变量，数据类型为integer或number。</p><p id="ced3" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">我们现在添加的变量是一个由uint256表示的无符号整数，其中256表示256位存储。</p><ul class=""><li id="0acb" class="md me ht kn b ko kp ks kt lj mf lk mg ll mh li mr mj mk ml dt translated">U- unsigned(意味着该类型只能表示正整数，不能表示正负整数)</li><li id="baeb" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mr mj mk ml dt translated">整数</li><li id="8aa3" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mr mj mk ml dt translated">大小为256- 256位</li><li id="a098" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mr mj mk ml dt translated">可以分配给uint256的最小值是0</li><li id="23fe" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mr mj mk ml dt translated">uint256可以分配的最大值是2 ⁵⁶-1[一个非常大的数字]</li></ul><p id="e4d2" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">产品数量只是一个正变量，我们目前假设我们将满足库存水平的一个非常大的值。</p><p id="1f3c" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">指定的<strong class="kn hu">“产品数量”</strong>变量是合同状态的一部分，因此在合同空间中维护或存储。该变量当前的默认值为0。</p><p id="e17e" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">1</p><p id="177a" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">2</p><p id="e7c0" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">3</p><p id="b573" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">合同采购订单{</p><p id="438d" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">uint256产品_数量；</p><p id="8a65" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">}</p><h1 id="c6d2" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">定义构造函数</h1><p id="e7a7" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">部署协议时，调用函数Object(){[本机代码] }。function Object(){[本机代码] }用值填充契约。部署合同时，产品数量在当前情况下设置为100。可以通过提供一个变量并用所提供的值初始化产品数量来形成参数化的函数对象(){[本机代码] }。</p><p id="ed91" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">这里需要注意与function Object(){[本机代码] }链接的访问修饰符“public”。public关键字表示这个函数对每个人开放；不限。</p><p id="a672" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">1</p><p id="62fb" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">2</p><p id="26a0" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">3</p><p id="c1dd" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">构造函数()public{</p><p id="df08" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">产品_数量= 100；</p><p id="38be" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt">}</p><h1 id="681c" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">添加功能</h1><p id="f620" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">现在让我们给我们的软件添加一个功能，使它更具交互性。功能是可以引入的程序控制的能力。关键字函数在任何函数之前。函数声明看起来是这样的:<strong class="kn hu">"函数名&gt;访问修改后的&gt;状态赋值器&gt;返回值&gt; " </strong>。</p><p id="ad18" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">获取功能</p><p id="82d4" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">读取存储值是任何软件最基本的属性之一。我们需要阅读以下合同中的“产品数量”变量。引入了read函数或get函数来提供这种能力。我们没有在这个函数中操作存储的值；相反，我们只是简单地获得它。</p><p id="5f0b" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated"><strong class="kn hu">现在让我们剖析一下我们的get函数(get quantity)。</strong></p><p id="06b0" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated"><strong class="kn hu"> No.KeywordValue1. </strong> &lt;函数名&gt;get _ quantity(){无参数传递} <strong class="kn hu"> 2 .</strong> &lt;访问修饰符&gt;public {任何人都可以访问该函数} <strong class="kn hu"> 3 .</strong> &lt; state-mutator &gt; view表示该函数只是检查协议的状态，并不改变它；所以，观。<strong class="kn hu"> 4。</strong> &lt;返回&gt;返回由函数返回的内容定义的uint256类型的变量</p><p id="314d" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">1 <br/> 2 <br/> 3函数get _ quantity()public view returns(uint 256){<br/>return product _ quantity；<br/> }</p><h1 id="c4ee" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">Setter函数</h1><p id="2b6c" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">如前一节所示，查看数据是必需的，但是大多数场景也需要写入数据的机会。setter函数的添加提供了这个特定的特性。该函数接受来自用户的值作为输入参数。使用用户提供给该函数的值来写入/更新变量“产品数量”的值。</p><p id="6c7d" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">现在让我们解构我们的集合函数(更新数量)。</p><p id="e2b5" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">包括更新产品数量值的功能</p><p id="6348" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated"><strong class="kn hu"> No.KeywordValue1. </strong> &lt;函数名&gt;update _ quantity(uint256 value){传递uint 256类型的参数值} <strong class="kn hu"> 2 .</strong> &lt;访问修饰符&gt;public {任何人都可以访问该功能} <strong class="kn hu"> 3 .</strong> &lt;状态变异函数&gt;这是不必要的，因为函数会更新状态。<strong class="kn hu"> 4。</strong> &lt;返回&gt;返回由函数返回的内容定义的uint256类型的变量1 2 3函数update _ quantity(uint 256 value)public { product _ quantity = product _ quantity+value；}当所有信息加在一起时，这就是最终合同的样子。1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 pragma实度&gt;= 0 . 4 . 0&lt;= 0 . 6 . 0；合同采购订单{ uint256 product _ quantity//部署用协定调用的状态变量/*并初始化值*/constructor()public { product _ quantity = 100；} // Get函数Function Get _ quantity()public view returns(uint 256){ return product _ quantity；} // Set Function函数update _ quantity(uint 256 value)public { product _ quantity = product _ quantity+value；} }</p><h1 id="b5a3" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">部署智能合同</h1><p id="92ec" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">是时候测试智能合约了。我们将利用Remix Online IDE来测试这个智能合约。</p><p id="238b" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">remix是一个在线以太坊智能合约游乐场。混音完全基于浏览器。Remix为创建智能合约提供了一个在线IDE(集成开发环境)。remix包括一个在线可靠性编译器功能。Remix IDE中的智能合约可以使用指定的编译器版本轻松编译。</p><p id="b977" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">Remix还允许你快速测试智能合约。</p><p id="8aef" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">Remix提供了一个完整的工具包，用于启动智能契约开发和单元测试，而不需要在本地PC上进行任何安装。这对于刚开始使用solidity的开发人员来说非常有用，因为他们只需要专注于构建一个智能契约，而不是担心基础设施。</p><p id="bbc5" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">要开始使用Remix IDE进行智能合约开发，您需要的只是一个浏览器和一个互联网连接。智能合同概念的快速开发、测试和验证。</p><p id="9e34" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">Remix的用户界面刚刚更新。</p><figure class="lo lp lq lr fq ls fe ff paragraph-image"><div class="fe ff ms"><img src="../Images/baed81b841d24b426d530a9332d688d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/0*cvnYIKbEMd85mG_i.png"/></div></figure><p id="a04c" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated"><strong class="kn hu">当您点击上图中标记的文件图标时，将会打开一个文件浏览器窗口。</strong></p><ol class=""><li id="ce93" class="md me ht kn b ko kp ks kt lj mf lk mg ll mh li mi mj mk ml dt translated">通过单击+图标并将其命名为PurchaseOrder.sol，可以生成一个新文档。</li><li id="9f8e" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">这将生成一个名为PurchaseOrder.sol的空文件，您可以通过单击它来打开它。</li><li id="ad24" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">让我们将整个合同复制并粘贴到PurchaseOrder.sol中。</li><li id="831b" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">单击第二个图标，它应该出现在文件图标正下方的左侧菜单中。</li><li id="06c2" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">在编译器标题下选择编译器版本。目前使用的版本是0.5.8。</li><li id="1579" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">选择编译器版本后，单击“编译PurchaseOrder.sol”。智能合同将作为此操作的结果进行编译。</li></ol><figure class="lo lp lq lr fq ls fe ff paragraph-image"><div class="fe ff mt"><img src="../Images/f5a75e7386dde3719cf3b57453867ed9.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*mK0PdMB6W4tQz5oB.png"/></div></figure><p id="0c44" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">7.智能合同编译成功后，单击“编译详细信息”按钮，将出现以下信息。汇编之后，提供了两条关键信息。</p><ul class=""><li id="4cac" class="md me ht kn b ko kp ks kt lj mf lk mg ll mh li mr mj mk ml dt translated">ABI代表应用程序二进制接口。这是一个json文件，包含关于智能合约提供的所有方法的信息，以及关于这些方法的元数据。</li><li id="32b1" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mr mj mk ml dt translated">字节码是以太坊虚拟机的操作代码。智能契约逻辑在编译期间被转换成字节码。</li></ul><p id="f05d" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">8.必须首先部署智能合约才能进行测试。要部署智能合同，请导航到左侧菜单中的下一个图标，就在编译图标下方。将出现下面的屏幕。必须首先部署智能合约才能进行测试。单击左侧菜单中编译图标下方的下一个图标，以部署智能合同。将出现下面的屏幕。</p><figure class="lo lp lq lr fq ls fe ff paragraph-image"><div class="fe ff mt"><img src="../Images/975997e17bb2031e9b49f24d5fc6ca58.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*BrkqSwBI214jp98Q.png"/></div></figure><h1 id="09c8" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">部署选项</h1><p id="1e1a" class="pw-post-body-paragraph kk kl ht kn b ko ly kq kr ks lz ku kv lj ma ky kz lk mb lc ld ll mc lg lh li hm dt translated">部署屏幕提供了几个选项；让我们一个一个来看一下</p><ul class=""><li id="b0ac" class="md me ht kn b ko kp ks kt lj mf lk mg ll mh li mr mj mk ml dt translated">环境:这类似于决定从亚马逊、Flipkart或新蛋(这些都是在线零售商)购买笔记本电脑；您可以根据自己的需求选择购买地点。类似地，在Remix的情况下，您可以选择部署和测试智能合约。环境标签旁边的下拉列表中有三个选项。</li><li id="8678" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mr mj mk ml dt translated">JavaScript VM——在浏览器内存中，启动一个本地以太坊单个节点，提供5个预付测试帐户，可用于事务(部署、调用函数)</li><li id="a63b" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mr mj mk ml dt translated">2.注入的Web3提供—这取决于元掩码。Metamask充当经纪人或中间人的角色，允许web应用程序与智能合约对接。Metamask支持身份管理以及传输到以太网的交易签名。这个中间人或第三方将协助您确定智能合同将放在哪个区块链网络上。</li><li id="27ec" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mr mj mk ml dt translated">3.Web3 Provider —如果您正在运行本地以太坊节点并且RPC端点可用，则可以使用此选项。智能合约将安装在本地以太坊节点上。</li><li id="c3b5" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mr mj mk ml dt translated">帐户:选定的环境会填充此信息。举个例子，JavaScript VM附带了五个预先资助的测试账户。Web3提供商和注入的Web3不提供预先资助的测试帐户。</li><li id="faf3" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mr mj mk ml dt translated">汽油限额:这是发起人准备在任何交易中花费的最多汽油。在无限循环的情况下，这是防止清空账户中所有现金的地方。</li><li id="2b31" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mr mj mk ml dt translated">Value:建立智能合约时可能需要发送的值。这是一个布尔值。</li></ul><p id="4633" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">要部署合同，请选择JavaScript VM选项，然后从accounts下拉列表中选择初始帐户，注意帐户余额(100 ether)。</p><p id="899f" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated"><strong class="kn hu">确保显示的智能合同名称为PurchaseOrder，然后单击deploy。将要发生的关键事件</strong></p><ol class=""><li id="a6de" class="md me ht kn b ko kp ks kt lj mf lk mg ll mh li mi mj mk ml dt translated">从帐户余额中减去部署智能合约的交易费，帐户余额从100以太变为99.999999以太。</li><li id="10d3" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">在已部署的协定下，将出现一个新的智能协定磁贴，以及新智能协定的地址，如下所示(0x 692 a70 D2 e 424 a 56 D2 c6c 27 aa 97 D1 a 86395877 B3 a)</li><li id="86d1" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">控制台窗口中将显示以下信息:</li><li id="41a7" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">事务哈希—唯一标识合同部署</li><li id="597a" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">交易成本</li><li id="8434" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">合同地址</li></ol><figure class="lo lp lq lr fq ls fe ff paragraph-image"><div class="fe ff mt"><img src="../Images/b4269512796333b7dda74b98976fe0b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*YUCLb1e0rYcj7i0I.png"/></div></figure><h1 id="8d69" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">与已部署的合同交互</h1><ol class=""><li id="59da" class="md me ht kn b ko ly ks lz lj mu lk mv ll mw li mi mj mk ml dt translated">在已部署的合同下，可以访问以下两种交互方法:更新数量和获取数量。</li><li id="ed41" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">这两种交互方法在“采购订单”契约中被定义为公共方法。</li><li id="4e94" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">更新的数量“更新数量”方法需要一个输入参数，这就是输入框存在的原因。</li><li id="c1e0" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">“获取数量”方法返回产品数量的值。</li><li id="85f9" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">让我们看看当我们调用get quantity时会发生什么；显示在function Object(){[本机代码] }中设置的返回值100。这不会导致交易。</li><li id="9f4f" class="md me ht kn b ko mm ks mn lj mo lk mp ll mq li mi mj mk ml dt translated">让我们使用更新的数量30作为输入。这导致了一个交易。</li></ol><p id="b5e1" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">总之，任何触发对契约状态的写操作(即改变契约变量)的操作都会导致一个事务。</p><figure class="lo lp lq lr fq ls fe ff paragraph-image"><div class="fe ff mt"><img src="../Images/42feeb564853253e4c39bbedd86c7677.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*yUnK578Z7h2tSDd2.png"/></div></figure><p id="b645" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">任何只是读取契约状态的活动都不会导致交易。</p><p id="efe6" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated"><strong class="kn hu">智能合同开发结论</strong></p><figure class="lo lp lq lr fq ls fe ff paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="fe ff ln"><img src="../Images/18dd493ddf7fa72543d26cfbaaee23b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*I68wdAKhXo2e3oNR.jpg"/></div></div></figure><p id="7c84" class="pw-post-body-paragraph kk kl ht kn b ko kp kq kr ks kt ku kv lj kx ky kz lk lb lc ld ll lf lg lh li hm dt translated">通过创建我们的第一个智能合同，我们仅仅触及了坚实的表面。我们刚刚看到了测试智能合约所需的一切，从部署到开始交易。</p><blockquote class="mx"><p id="4459" class="my mz ht bd na nb nc nd ne nf ng li ek translated">交易新手？试试<a class="ae lm" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a>或<a class="ae lm" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>