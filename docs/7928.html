<html>
<head>
<title>EIP-712: How to Verify Typed Data On Chain</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">EIP-712:如何验证链上的类型化数据</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/eip-712-how-to-verify-typed-data-on-chain-4ea16548a45f?source=collection_archive---------6-----------------------#2022-12-24">https://medium.com/coinmonks/eip-712-how-to-verify-typed-data-on-chain-4ea16548a45f?source=collection_archive---------6-----------------------#2022-12-24</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="d26b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">实现EIP-712:类型化结构化数据散列和签名</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff jo"><img src="../Images/e2363cf262a119a9b578db329f1e61ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7rIoxoPUmgNUb1XkRaPB7g.png"/></div></div></figure><h1 id="525a" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">概观</h1><p id="53a1" class="pw-post-body-paragraph iq ir ht is b it ky iv iw ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn hm dt translated">EIP-712的想法是标准化类型化结构化数据的散列和签名，而不仅仅是字节串。以下是不同的签名方式</p><ul class=""><li id="f5f1" class="le lf ht is b it iu ix iy jb lg jf lh jj li jn lj lk ll lm dt translated">签署交易</li><li id="6566" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated"><a class="ae ld" href="https://blog.chainsafe.io/how-to-verify-a-signed-message-in-solidity-6b3100277424" rel="noopener ugc nofollow" target="_blank">签署消息</a>(十六进制字符串)。</li><li id="f743" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">签署类型化数据</li></ul><p id="26d2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">对类型化数据进行签名允许用户在确认之前查看人类可读的数据，而不是任意的十六进制字符串。</p><blockquote class="ls"><p id="58f6" class="lt lu ht bd lv lw lx ly lz ma mb jn ek translated">从顶级交易者那里复制交易机器人。免费试用<a class="ae ld" href="https://coincodecap.com/go/pionex-coinmonks" rel="noopener ugc nofollow" target="_blank"/>。</p></blockquote><h1 id="e5cc" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl mc kn ko kp md kr ks kt me kv kw kx dt translated">演示</h1><p id="57dd" class="pw-post-body-paragraph iq ir ht is b it ky iv iw ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn hm dt translated"><a class="ae ld" href="https://leon-do.github.io/eip712-generator/" rel="noopener ugc nofollow" target="_blank">https://leon-do.github.io/eip712-generator/</a></p><div class="mf mg fm fo mh mi"><a href="https://github.com/leon-do/eip712-generator" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab ej"><div class="mk ab ml cl cj mm"><h2 class="bd hu fv z el mn eo ep mo er et hs dt translated">GitHub -莱昂-多/EIP 712-发电机</h2><div class="mp l"><h3 class="bd b fv z el mn eo ep mo er et ek translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="mq l"><p class="bd b gc z el mn eo ep mo er et ek translated">github.com</p></div></div><div class="mr l"><div class="ms l mt mu mv mr mw jy mi"/></div></div></a></div><h1 id="cc26" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">签署</h1><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="mx my l"/></div></figure><p id="e105" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">消息参数分为:</p><p id="b0b7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">域</strong>:下面的值被散列以防止其他dapp使用相同的签名。</p><ul class=""><li id="d192" class="le lf ht is b it iu ix iy jb lg jf lh jj li jn lj lk ll lm dt translated"><code class="eh mz na nb nc b">name</code>:dapp的名称</li><li id="04b7" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated"><code class="eh mz na nb nc b">version</code>:dapp的版本</li><li id="8f6f" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated"><code class="eh mz na nb nc b">chainId</code>:防止<a class="ae ld" href="https://eips.ethereum.org/EIPS/eip-155" rel="noopener ugc nofollow" target="_blank">重放攻击</a></li><li id="affe" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated"><code class="eh mz na nb nc b">verifyingContract</code>:验证签名的合同地址</li></ul><p id="ebcd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">消息</strong>:要签名的键入数据(JSON)。在上面的例子中，数据是<code class="eh mz na nb nc b">{ "myValue": 123 }</code></p><p id="a5cd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">主类型</strong>:表示对象的顶层类型</p><p id="dd3e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">类型</strong>:定义所有的类型</p><h1 id="3f79" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">核查</h1><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff nd"><img src="../Images/ce253fae7ac77c32f196b368958c514a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P_F917KbSaqUz7VNJI9NDQ.png"/></div></div></figure><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="mx my l"/></div></figure><p id="0211" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">智能合同功能分为:</p><p id="769e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">定义类型</strong>以匹配签名(javascript)代码。</p><p id="7012" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">散列</strong>域分隔符和值。</p><p id="d819" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">将</strong>的签名拆分为<code class="eh mz na nb nc b">r</code>、<code class="eh mz na nb nc b">s</code>、<code class="eh mz na nb nc b">v</code></p><p id="f1a8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> ECRecover </strong>验证签名</p><blockquote class="ls"><p id="9089" class="lt lu ht bd lv lw lx ly lz ma mb jn ek translated"><em class="ne">加入Coinmonks </em> <a class="ae ld" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank"> <em class="ne">电报频道</em> </a> <em class="ne">和</em> <a class="ae ld" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> <em class="ne"> Youtube频道</em> </a> <em class="ne">了解加密交易和投资</em></p></blockquote><h1 id="6621" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl mc kn ko kp md kr ks kt me kv kw kx dt translated">另外，阅读</h1><ul class=""><li id="8300" class="le lf ht is b it ky ix kz jb nf jf ng jj nh jn lj lk ll lm dt translated"><a class="ae ld" rel="noopener" href="/coinmonks/3commas-review-an-excellent-crypto-trading-bot-2020-1313a58bec92">3商业评论</a> | <a class="ae ld" href="https://coincodecap.com/pionex-review-exchange-with-crypto-trading-bot" rel="noopener ugc nofollow" target="_blank"> Pionex评论</a> | <a class="ae ld" rel="noopener" href="/coinmonks/coinrule-review-2021-a-beginner-friendly-crypto-trading-bot-daf0504848ba"> Coinrule评论</a></li><li id="297d" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated"><a class="ae ld" rel="noopener" href="/coinmonks/ledger-vs-ngrave-zero-7e40f0c1d694">莱杰vs n rave</a>|<a class="ae ld" rel="noopener" href="/coinmonks/ledger-nano-s-vs-x-battery-hardware-price-storage-59a6663fe3b0">莱杰nano s vs x </a> | <a class="ae ld" rel="noopener" href="/coinmonks/binance-review-ee10d3bf3b6e">币安评论</a></li><li id="9f73" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated"><a class="ae ld" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a> | <a class="ae ld" href="https://coincodecap.com/bingbon-review" rel="noopener ugc nofollow" target="_blank"> Bingbon评论</a></li><li id="b93a" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated"><a class="ae ld" rel="noopener" href="/coinmonks/bybit-exchange-review-dbd570019b71"> Bybit Exchange审查</a> | <a class="ae ld" href="https://coincodecap.com/bityard-reivew" rel="noopener ugc nofollow" target="_blank"> Bityard审查</a> | <a class="ae ld" href="https://coincodecap.com/jet-bot-review" rel="noopener ugc nofollow" target="_blank"> Jet-Bot审查</a></li></ul></div></div>    
</body>
</html>