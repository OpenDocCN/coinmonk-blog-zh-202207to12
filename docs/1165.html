<html>
<head>
<title>Deploy Your NFT Contract to Goerli Testnet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将您的NFT合同部署到Goerli Testnet</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/deploy-your-nft-contract-to-goerli-testnet-523d4fef731b?source=collection_archive---------1-----------------------#2022-07-24">https://medium.com/coinmonks/deploy-your-nft-contract-to-goerli-testnet-523d4fef731b?source=collection_archive---------1-----------------------#2022-07-24</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/ee3a11e6e86a8d24d2de974c084ae02f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5XEqTlXoU_I10I_T.jpg"/></div></div></figure><p id="7626" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">大家好，我又带来了另一篇文章。我希望你们也会喜欢并从中学习。在本文中，我将告诉您如何将契约部署到网络。网络是不同的以太坊环境，您可以访问它们进行开发、测试和生产。由于以太坊是一种协议，因此可能会有多个以太坊网络，以下是一些抽象列表:</p><blockquote class="jz ka kb"><p id="f82e" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="ht">公共网络:</em> </strong> <em class="ht">任何人都可以通过互联网连接访问公共网络。任何人都可以在公共区块链上读取和创建事务，并验证正在执行的事务。</em></p><p id="fd53" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="ht">以太坊主网:</em> </strong> <em class="ht">主网是以太坊生产区块链的主网，实际交易发生在这里。</em></p><p id="d287" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="ht">以太坊测试网:</em> </strong> <em class="ht">区块链开发者在Mainnet上部署之前，会使用测试网络来测试他们的智能合约。您可以将测试网络视为舞台环境。</em></p></blockquote><p id="57b4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">有一个以太坊测试网的列表，但是我们将选择Goerli测试网。那么如何部署呢？它实际上是如何工作的？我会告诉你们的。和我联系。如果你有兴趣学习其他东西，不要犹豫，通过LinkedIn和shahirzain100@gmail.com联系我</p><p id="46a5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">因此，对于部署，您需要一份合同，所以我们从头开始。</p><p id="7e04" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们将通过创建和部署ERC-721，你应该有<br/>安全帽，坚固，元面具，和炼金术。</p><h1 id="ff28" class="kh ki ht bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated">第一步</h1><p id="d43b" class="pw-post-body-paragraph jb jc ht jd b je lf jg jh ji lg jk jl jm lh jo jp jq li js jt ju lj jw jx jy hm dt translated">制作一个目录<code class="eh lk ll lm ln b">mkdir rich-rhinos</code>并进入目录<code class="eh lk ll lm ln b">cd rich-rhinos</code></p><p id="e17e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">使用<code class="eh lk ll lm ln b">-y</code>运行命令<code class="eh lk ll lm ln b">npm init -y</code>进行默认配置。确保您的计算机上安装了Node.js。</p><p id="7a52" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">然后安装Hardhat命令<code class="eh lk ll lm ln b">npm i hardhat</code>，然后在你的终端运行<code class="eh lk ll lm ln b">npx hardhat</code>，你应该会看到一个欢迎信息和一些选项，选择<em class="kc">创建一个空的hardhat.config.js </em></p><figure class="lp lq lr ls fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lo"><img src="../Images/7d0799eaecf54568ed1dbef0dc6fd1a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sJPil6DzL0pDYhsP7gwcAg.png"/></div></div></figure><h1 id="3b4f" class="kh ki ht bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated">第二步</h1><p id="b21a" class="pw-post-body-paragraph jb jc ht jd b je lf jg jh ji lg jk jl jm lh jo jp jq li js jt ju lj jw jx jy hm dt translated">为合同和脚本创建一个文件夹。创建文件名rich_Rhinos.sol在合同文件夹中写下你的合同，就像我有我的一样</p><pre class="lp lq lr ls fq lt ln lu lv aw lw dt"><span id="dc8c" class="lx ki ht ln b fv ly lz l ma mb"><em class="kc">// SPDX-License-Identifier: MIT</em></span><span id="d671" class="lx ki ht ln b fv mc lz l ma mb"><strong class="ln hu"><em class="kc">pragma</em></strong> solidity <strong class="ln hu">&gt;=</strong> <em class="kc">0</em>.<em class="kc">7</em>.<em class="kc">0</em>;<br/><strong class="ln hu"><em class="kc">import</em></strong> "@openzeppelin/contracts/token/ERC721/ERC721.sol";<br/><strong class="ln hu"><em class="kc">import</em></strong> "@openzeppelin/contracts/utils/Counters.sol";<br/><strong class="ln hu"><em class="kc">import</em></strong> "@openzeppelin/contracts/access/Ownable.sol";<br/><strong class="ln hu"><em class="kc">import </em></strong>"@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";</span><span id="9633" class="lx ki ht ln b fv mc lz l ma mb"><em class="kc">contract</em> RichRhinos <em class="kc">is</em> ERC721URIStorage, Ownable {</span><span id="37af" class="lx ki ht ln b fv mc lz l ma mb">     using Counters for Counters.Counter;<br/>     Counters.Counter private _tokenIds;</span><span id="9e0a" class="lx ki ht ln b fv mc lz l ma mb">     <strong class="ln hu">constructor</strong>() <em class="kc">ERC721</em>("RichRhinos", "NFT"){}<br/> <br/>    <em class="kc">function</em> mintNFT(address recipient, string memory tokenUri)                     public onlyOwner returns (uint256){</span><span id="7700" class="lx ki ht ln b fv mc lz l ma mb">      _tokenIds.increment();<br/>      uint256 newItemId <strong class="ln hu">=</strong> _tokenIds.current();<br/>      _mint(recipient,newItemId);<br/>      _setTokenURI(newItemId,tokenUri);<br/>      return newItemId;<br/>    }<br/> }</span></pre><p id="35f1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">因此，在导入报表后，我们有了自定义的NFT合同。这个合同其实很短。如果你关注构造函数，我们传递两个参数，第一个是NFT名字，第二个是NFT符号。最后，我们有了函数<code class="eh lk ll lm ln b">mintNFT(address recipient, string memory tokenURI)</code>，它允许我们铸造一个NFT！</p><h1 id="8441" class="kh ki ht bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated">步骤03</h1><p id="c571" class="pw-post-body-paragraph jb jc ht jd b je lf jg jh ji lg jk jl jm lh jo jp jq li js jt ju lj jw jx jy hm dt translated">进入<a class="ae kg" href="https://www.alchemy.com/" rel="noopener ugc nofollow" target="_blank">炼金术</a>，如果你没有帐户，就创建你的帐户。一旦你登录，有一个应用程序标签，你必须悬停在上面，然后点击<code class="eh lk ll lm ln b">create App</code>。</p><figure class="lp lq lr ls fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff md"><img src="../Images/0a9a2bae9fe3cebeeb5566dac362ab68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xlOQeGEcgVzCsk2-VVqGgg.png"/></div></div></figure><p id="547e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">输入你的NFT的名字就像我选择了<strong class="jd hu">富有的犀牛</strong>和选择了网络就像我选择了<strong class="jd hu"> Goerli </strong> testnet</p><figure class="lp lq lr ls fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff me"><img src="../Images/90c367e654b118b43f3dd56c8a463f4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h7Tc-H7ekbU_yLdaTTW03w.png"/></div></div></figure><p id="ccf7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">从应用程序下拉列表转到您的应用程序，单击查看键</p><figure class="lp lq lr ls fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mf"><img src="../Images/3bdbf423a4f3ca0f73a2f38311480598.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vdgI_6wy0Gr4_gx7pGWVKA.png"/></div></div></figure><p id="2e9c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">复制API键和HTTPS到项目并安装dotenv <code class="eh lk ll lm ln b"> npm install dotenv --save</code>创建<code class="eh lk ll lm ln b">.env</code>文件并粘贴复制的项目</p><pre class="lp lq lr ls fq lt ln lu lv aw lw dt"><span id="e361" class="lx ki ht ln b fv ly lz l ma mb">API_URL="your-metamask-https-url"<br/>PRIVATE_KEY="your-metamask-private-key"</span></pre><p id="11ff" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">注意:不要提交您的。请将它添加到gitignore文件中。</p><h1 id="0722" class="kh ki ht bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated">步骤04</h1><p id="a4bd" class="pw-post-body-paragraph jb jc ht jd b je lf jg jh ji lg jk jl jm lh jo jp jq li js jt ju lj jw jx jy hm dt translated">在应用程序中安装Ether.js</p><pre class="lp lq lr ls fq lt ln lu lv aw lw dt"><span id="3db1" class="lx ki ht ln b fv ly lz l ma mb">npm install --save-dev @nomiclabs/hardhat-ethers ethers@^5.0.0</span></pre><p id="d9ef" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这个库提供了与以太坊区块链更简单的交互。到目前为止，我们已经添加了多个依赖项，所以我们需要更新我们的hardhat.config.js</p><pre class="lp lq lr ls fq lt ln lu lv aw lw dt"><span id="ace3" class="lx ki ht ln b fv ly lz l ma mb">require("dotenv").config();<br/>require("@nomiclabs/hardhat-ethers");<br/>const { API_URL, PRIVATE_KEY } = process.env;</span><span id="e558" class="lx ki ht ln b fv mc lz l ma mb">module.exports = {<br/>     solidity: "0.8.1",<br/>     defaultNetwork: "ropsten",<br/>     networks: {<br/>        hardhat: {},<br/>        ropsten: { <br/>            url: API_URL,<br/>            accounts: [`0x${PRIVATE_KEY}`],<br/>           },<br/>       },<br/>  };</span></pre><h1 id="88b0" class="kh ki ht bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated">第五步</h1><p id="093f" class="pw-post-body-paragraph jb jc ht jd b je lf jg jh ji lg jk jl jm lh jo jp jq li js jt ju lj jw jx jy hm dt translated">现在是编译和编写部署脚本的时候了。为了确保一切都是完美的，我们需要通过在终端中键入以下命令来编译我们的契约</p><pre class="lp lq lr ls fq lt ln lu lv aw lw dt"><span id="ef68" class="lx ki ht ln b fv ly lz l ma mb">npx hardhat compile</span></pre><p id="c580" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果一切正常，那么转到脚本文件夹，创建一个名为<code class="eh lk ll lm ln b">deploy.js</code>的文件和下面的语句</p><pre class="lp lq lr ls fq lt ln lu lv aw lw dt"><span id="53c3" class="lx ki ht ln b fv ly lz l ma mb">async function main() {</span><span id="b225" class="lx ki ht ln b fv mc lz l ma mb">const RichRhinos = await ethers.getContractFactory("RichRhinos");<br/>const gasPrice = await RichRhinos.signer.getGasPrice();<br/>console.log(`Current gas price: ${gasPrice}`);</span><span id="806d" class="lx ki ht ln b fv mc lz l ma mb">const estimatedGas = await RichRhinos.signer.estimateGas(<br/> RichRhinos.getDeployTransaction()<br/>);</span><span id="5e68" class="lx ki ht ln b fv mc lz l ma mb">console.log(`Estimated gas: ${estimatedGas}`);</span><span id="1be9" class="lx ki ht ln b fv mc lz l ma mb">const deploymentPrice = gasPrice.mul(estimatedGas);<br/>const deployerBalance = await RichRhinos.signer.getBalance();</span><span id="703c" class="lx ki ht ln b fv mc lz l ma mb">console.log(`Deployer balance:  ${ethers.utils.formatEther(deployerBalance)}`);</span><span id="36cc" class="lx ki ht ln b fv mc lz l ma mb">console.log( `Deployment price:  ${ethers.utils.formatEther(deploymentPrice)}`);</span><span id="9b80" class="lx ki ht ln b fv mc lz l ma mb">if (Number(deployerBalance) &lt; Number(deploymentPrice)) {</span><span id="5d75" class="lx ki ht ln b fv mc lz l ma mb">   throw new Error("You dont have enough balance to deploy.");</span><span id="7e5e" class="lx ki ht ln b fv mc lz l ma mb">}</span><span id="0398" class="lx ki ht ln b fv mc lz l ma mb"><em class="kc">// Start deployment, returning a promise that resolves to a contract object</em></span><span id="68a2" class="lx ki ht ln b fv mc lz l ma mb">const myNFT = await RichRhinos.deploy();</span><span id="3ee3" class="lx ki ht ln b fv mc lz l ma mb">await myNFT.deployed();</span><span id="f27e" class="lx ki ht ln b fv mc lz l ma mb">console.log("Contract deployed to address:", myNFT.address);</span><span id="5582" class="lx ki ht ln b fv mc lz l ma mb">}</span><span id="0738" class="lx ki ht ln b fv mc lz l ma mb">main().then(() =&gt; process.exit(0)).catch((error) =&gt; {</span><span id="5206" class="lx ki ht ln b fv mc lz l ma mb">console.error("Error:", error);</span><span id="325d" class="lx ki ht ln b fv mc lz l ma mb">process.exit(1);</span><span id="1e8c" class="lx ki ht ln b fv mc lz l ma mb">});</span></pre><p id="85f6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">但是对于部署，你要有一个类似metamask的数字钱包，下载metamask，选择网络为goerli。</p><figure class="lp lq lr ls fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mg"><img src="../Images/c6c9232174b4afb5839103b0426e9d39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gF-Kwv9SzML-hPy9NUWW0w.png"/></div></div></figure><p id="8794" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">第一次你有0个goerli Eth，所以部署需要一些气费，所以去这个网站<code class="eh lk ll lm ln b"><a class="ae kg" href="https://goerli-faucet.slock.it/for" rel="noopener ugc nofollow" target="_blank">https://goerli-faucet.slock.it/</a></code> <a class="ae kg" href="https://goerli-faucet.slock.it/for" rel="noopener ugc nofollow" target="_blank">找</a>水龙头Eth。</p><p id="f588" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在是时候在您的终端中运行部署命令了</p><pre class="lp lq lr ls fq lt ln lu lv aw lw dt"><span id="c97d" class="lx ki ht ln b fv ly lz l ma mb">npx hardhat --network ropsten run scripts/deploy.js</span></pre><p id="cd52" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">您应该会看到类似这样的内容。</p><figure class="lp lq lr ls fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mh"><img src="../Images/a15b312390e7f744c316bdd29c1ef780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qOjpVjQOXRQbHzdZA2s4Yw.png"/></div></div></figure><p id="dbba" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果我们去Goerli etherscan搜索我们的合同地址，我们应该能够看到它已经成功部署。</p><figure class="lp lq lr ls fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mi"><img src="../Images/9e24416e2d173bb0e64e920513882a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9jr7jxiy27sTkuN5-RSNCA.png"/></div></div></figure><p id="4799" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">呀呀呀呀！您刚刚将您的NFT智能合约部署到以太坊链！</p><p id="1e11" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">就这样，伙计们！希望对你来说是本好书。谢谢大家！✨</p><p id="b423" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">👉联系我:shahirzain100@gmail.com</p><p id="49fe" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">👉关注我:<a class="ae kg" href="https://github.com/ShahirZain" rel="noopener ugc nofollow" target="_blank">GitHub</a>T17】LinkedIn</p><blockquote class="mj"><p id="5748" class="mk ml ht bd mm mn mo mp mq mr ms jy ek translated">交易新手？试试<a class="ae kg" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或者<a class="ae kg" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>