<html>
<head>
<title>COMPILING THE SMART CONTRACTS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编译智能合同</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/compiling-the-smart-contracts-8dcda8071638?source=collection_archive---------19-----------------------#2022-07-12">https://medium.com/coinmonks/compiling-the-smart-contracts-8dcda8071638?source=collection_archive---------19-----------------------#2022-07-12</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/40c2c43427d3023546370e8b5492234e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qtXLhMH6ZRRAfUUUElpOaQ.png"/></div></div></figure><div class=""/><p id="5422" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">有许多方法可以将智能合约转换成ABI或字节码。我们将通过使用其中一个框架和使用IDE来了解。</p><blockquote class="jz ka kb"><p id="62fb" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated">你可以在这里阅读更多关于ABI和字节码的内容👇</p><p id="e72f" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated"><a class="ae kg" rel="noopener" href="/coinmonks/understanding-smart-contract-bytecode-abi-4747b1616450">https://medium . com/coin monks/understanding-smart-contract-bytecode-ABI-4747 b 1616450</a></p></blockquote><h1 id="e345" class="kh ki ie bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated">让我们开始…..</h1><p id="f4c1" class="pw-post-body-paragraph jb jc ie jd b je lf jg jh ji lg jk jl jm lh jo jp jq li js jt ju lj jw jx jy hm dt translated">💜<strong class="jd if">重述</strong></p><ul class=""><li id="5fca" class="lk ll ie jd b je jf ji jj jm lm jq ln ju lo jy lp lq lr ls dt translated">在前一篇文章中，我们了解到EVM需要ABI和字节码来理解任何智能合约。</li><li id="6d7f" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">ABI赋予了使用JavaScript与智能合约交互的能力</li><li id="a752" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">字节码为EVM提供了如何执行智能合同的命令。</li></ul><p id="56de" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果你想更深入地了解，请阅读我的上一篇文章。</p><blockquote class="jz ka kb"><p id="9709" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated">交易新手？尝试<a class="ae kg" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或<a class="ae kg" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote><p id="6d24" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">💜<strong class="jd if">转换成ABI和字节码</strong></p><ul class=""><li id="03e5" class="lk ll ie jd b je jf ji jj jm lm jq ln ju lo jy lp lq lr ls dt translated">我们可以通过许多框架将智能合约转换成ABI和字节码。其中，我们将研究其中的几个。</li><li id="d8af" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">在此之前，我们将需要智能合同转换。因此，将下面的代码复制到VS代码或者任何你喜欢的IDE中，然后跟着做。</li></ul><h1 id="d279" class="kh ki ie bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated">智能合同</h1><ul class=""><li id="abca" class="lk ll ie jd b je lf ji lg jm ly jq lz ju ma jy lp lq lr ls dt translated">创建一个名为“<strong class="jd if">simplesmartcontract . sol</strong>”的文件。</li><li id="37a1" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">。sol是用于实体文件的扩展。</li><li id="f965" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">这个智能合约非常简单，它更新一个数字，得到这个数字，然后乘以一个数字。</li></ul><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="9c5d" class="mk ki ie mg b fv ml mm l mn mo"><strong class="mg if">//SPDX-License-Identifier: MIT</strong></span><span id="ec73" class="mk ki ie mg b fv mp mm l mn mo"><strong class="mg if">pragma solidity ^0.8.7;</strong></span><span id="448d" class="mk ki ie mg b fv mp mm l mn mo"><strong class="mg if">contract SimpleSmartContract {<br/>    uint256 public number;</strong></span><span id="1490" class="mk ki ie mg b fv mp mm l mn mo"><strong class="mg if">    function getNumber() public view returns (uint256) {<br/>        return number;<br/>    }</strong></span><span id="ff25" class="mk ki ie mg b fv mp mm l mn mo"><strong class="mg if">    function updateNumber(uint128 _newNumber) public {<br/>        number = _newNumber;<br/>    }</strong></span><span id="bc45" class="mk ki ie mg b fv mp mm l mn mo"><strong class="mg if">    function multiplyNumber(uint8 _multiple) public {<br/>        number = number * _multiple;<br/>    }<br/>}</strong></span></pre><p id="8119" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">👉请记住，在VS代码中，Solidity有许多扩展。你可以使用任何人进行适当的智能感知和林挺。只需在扩展市场中搜索<strong class="jd if"> solidity </strong>。</p><p id="35ad" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">💜<strong class="jd if"> SOLCJS </strong></p><ul class=""><li id="5f5c" class="lk ll ie jd b je jf ji jj jm lm jq ln ju lo jy lp lq lr ls dt translated">它是一个用typescript编写的框架，可以用一个命令提供ABI和字节码。</li><li id="4215" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">我们必须使用<strong class="jd if"> npm或yarn </strong>来安装它，对于npm，我们需要<a class="ae kg" href="https://nodejs.org" rel="noopener ugc nofollow" target="_blank">‘node . js’</a>。因此，如果没有安装Node.js，首先安装它。</li><li id="78e6" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">打开任何终端，将目录更改为存储智能合同的位置。</li><li id="b504" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">使用<strong class="jd if"> NPM </strong></li></ul><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="a214" class="mk ki ie mg b fv ml mm l mn mo"><strong class="mg if">npm install solc</strong></span></pre><ul class=""><li id="03f4" class="lk ll ie jd b je jf ji jj jm lm jq ln ju lo jy lp lq lr ls dt translated">或者我们也可以用<strong class="jd if">纱</strong></li></ul><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="7406" class="mk ki ie mg b fv ml mm l mn mo"><strong class="mg if">yarn add solc</strong></span></pre><ul class=""><li id="d97a" class="lk ll ie jd b je jf ji jj jm lm jq ln ju lo jy lp lq lr ls dt translated">要检查是否安装了solc，请编写</li></ul><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="0996" class="mk ki ie mg b fv ml mm l mn mo"><strong class="mg if">solcjs --help</strong></span></pre><p id="cee8" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果没有错误，那么solc已经安装，否则我们需要重新安装。检查终端指向的位置。</p><p id="0c10" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了编译，我们使用以下命令:</p><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="dfc5" class="mk ki ie mg b fv ml mm l mn mo"><strong class="mg if">solcjs --bin --abi --include-path node_modules/ --base-path . SimpleSmartContract.sol</strong></span></pre><p id="3794" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">👉SimpleSmartContract.sol是智能协定的名称。将其替换为您自己的智能合约的名称。</p><p id="18e9" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">👉<strong class="jd if"> — bin </strong>和<strong class="jd if"> — abi </strong>告诉solcjs创建。斌以及。abi文件。如果您需要任何人，那么只需从命令中删除另一个。</p><p id="c628" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">💜字节码</p><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="7e6d" class="mk ki ie mg b fv ml mm l mn mo"><strong class="mg if">608060405234801561001057600080fd5b506102dd806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c8063297c8d7a1461005157806347a9ee3f1461006d5780638381f58a14610089578063f2c9ecd8146100a7575b600080fd5b61006b60048036038101906100669190610161565b6100c5565b005b61008760048036038101906100829190610134565b6100df565b005b6100916100fb565b60405161009e919061019d565b60405180910390f35b6100af610101565b6040516100bc919061019d565b60405180910390f35b8060ff166000546100d691906101b8565b60008190555050565b806fffffffffffffffffffffffffffffffff1660008190555050565b60005481565b60008054905090565b60008135905061011981610279565b92915050565b60008135905061012e81610290565b92915050565b60006020828403121561014a57610149610274565b5b60006101588482850161010a565b91505092915050565b60006020828403121561017757610176610274565b5b60006101858482850161011f565b91505092915050565b6101978161022e565b82525050565b60006020820190506101b2600083018461018e565b92915050565b60006101c38261022e565b91506101ce8361022e565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561020757610206610245565b5b828202905092915050565b60006fffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600060ff82169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600080fd5b61028281610212565b811461028d57600080fd5b50565b61029981610238565b81146102a457600080fd5b5056fea26469706673582212206ce7a9ae1c7536d9fe3d885a363d9f98f3dc8defb9d937459835ecac88104ca664736f6c63430008070033</strong></span></pre><p id="0c0e" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">💜ABI</p><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="84d7" class="mk ki ie mg b fv ml mm l mn mo"><strong class="mg if">[{"inputs":[],"name":"getNumber","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8","name":"_multiple","type":"uint8"}],"name":"multiplyNumber","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"number","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint128","name":"_newNumber","type":"uint128"}],"name":"updateNumber","outputs":[],"stateMutability":"nonpayable","type":"function"}]</strong></span></pre><p id="8ffe" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">👉记住，如果你想读ABI，只要把分机从。阿比托。json，文件会更新然后改回。又是abi。</p><ul class=""><li id="c699" class="lk ll ie jd b je jf ji jj jm lm jq ln ju lo jy lp lq lr ls dt translated">你可以在这里阅读更多关于solcjs的内容👉<a class="ae kg" href="https://github.com/ethereum/solc-js" rel="noopener ugc nofollow" target="_blank">‘solc js’</a></li></ul><p id="6041" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">💜<strong class="jd if">混音IDE </strong></p><ul class=""><li id="033b" class="lk ll ie jd b je jf ji jj jm lm jq ln ju lo jy lp lq lr ls dt translated">Remix IDE允许为以太坊(如区块链)开发、部署和管理智能合约。</li><li id="4403" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">你可以在这里参观👉<a class="ae kg" href="https://remix.ethereum.org" rel="noopener ugc nofollow" target="_blank">混音IDE </a></li><li id="b0b6" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">创建一个新文件，将其命名为“SimpleSmartContract.sol ”,然后粘贴智能合同，如图所示。</li></ul><figure class="mb mc md me fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mq"><img src="../Images/f2ea98c90f72cc7abd6384c1d9963167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4dX4tY1LMIP5PDs6.png"/></div></div></figure><p id="d817" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">👉确保编译器版本设置为^0.8.7.你可以通过点击最左边面板的Solidity编译器按钮来设置它。从下拉列表中选择编译器为0 . 8 . 7+提交..在智能合约中，我们定义了编译器版本，最好选择与智能合约中相同的编译器版本。</p><figure class="mb mc md me fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mr"><img src="../Images/2ea5cdd30b3b844497b5e512b2a70574.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qfSMo_0XuHmR3GSO.png"/></div></div></figure><ul class=""><li id="ed7f" class="lk ll ie jd b je jf ji jj jm lm jq ln ju lo jy lp lq lr ls dt translated">粘贴代码后，我们可以点击编译按钮，检查是否有错误。如果有任何错误，请检查编译器版本是否正确。</li><li id="0033" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">在Solidity编译器下面，我们部署并运行事务。选择它。保持选项不变。</li></ul><figure class="mb mc md me fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mq"><img src="../Images/66cf9260bc378306e5e5185dc474396c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*H735ePZuLwk4e19C.png"/></div></div></figure><ul class=""><li id="e56d" class="lk ll ie jd b je jf ji jj jm lm jq ln ju lo jy lp lq lr ls dt translated">我们按下部署按钮。</li><li id="56b8" class="lk ll ie jd b je lt ji lu jm lv jq lw ju lx jy lp lq lr ls dt translated">我们可以看到智能合约部署如下所示。</li></ul><figure class="mb mc md me fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ms"><img src="../Images/b7de164ba24cbf6dcdd63a928b9f554e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KI80L55IqB-YdEco.png"/></div></div></figure><ul class=""><li id="08d5" class="lk ll ie jd b je jf ji jj jm lm jq ln ju lo jy lp lq lr ls dt translated">现在在编译器选项卡中，我们可以看到ABI &amp;字节码按钮。从那里，人们可以复制ABI/字节码并查看它。</li></ul><figure class="mb mc md me fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mt"><img src="../Images/8db38fee6369d1d0af669798d457a899.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IgHXmonfKmSK97_p.png"/></div></div></figure><p id="c2e2" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这些是将智能合约转换成ABI和字节码的方法。</p><p id="bbcf" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">👉记住，对于同一个智能合约，字节码和ABI是相同的。无论采用何种转换方法，都不会有什么不同。只有智能合约改变了才会改变。</p><p id="db6c" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在下一篇文章中，我们将看到solidity的基础知识，以及如何编写和部署智能契约。</p><blockquote class="jz ka kb"><p id="1551" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated"><strong class="jd if">大家好，我是Tanisk Annpurna </strong></p><p id="e9b1" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated"><strong class="jd if">我发布关于</strong>的帖子</p><p id="bd18" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated"><strong class="jd if">🚀web3、区块链、以太坊</strong></p><p id="9c53" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated"><strong class="jd if">🐦智能合同，可靠性</strong></p><p id="ac52" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated"><strong class="jd if">🎉JavaScript，ReactJS，NodeJS </strong></p><p id="6979" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated"><strong class="jd if">关注并为更多此类帖子点赞。！！✌️!！</strong></p></blockquote></div></div>    
</body>
</html>