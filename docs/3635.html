<html>
<head>
<title>Smart Contract Hacking — Libraries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">智能合同黑客—图书馆</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/smart-contract-hacking-libraries-ab6e340c8882?source=collection_archive---------6-----------------------#2022-09-14">https://medium.com/coinmonks/smart-contract-hacking-libraries-ab6e340c8882?source=collection_archive---------6-----------------------#2022-09-14</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="6f7f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">好的，使用库的一个核心问题是，你不能在其中存储变量…通常情况下。</p><p id="0866" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我不确定这是否会导致漏洞，学习:D只是一种乐趣</p><p id="9173" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">不管怎样，通过使用汇编，我们可以绕过这个限制。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff jo"><img src="../Images/06d2ed523c92eb546f057ce601b4ffb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*pwKLdnNN7HxmaOKPpDJjwQ.png"/></div></figure><p id="2567" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">所以首先我们定义一个“常量”变量，我们只是把这个小小的善意谎言传递给编译器，这样它就不会对我们大喊大叫了。</p><p id="730d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">接下来，我们定义一个结构来存储我们的变量。</p><p id="5e59" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了检索我们的信息存储，我们需要定义一个用存储指针返回的结构的实例，然后我们给一个槽变量赋一个我们前面定义的“常量”变量。</p><p id="9da7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在我们的汇编函数中，我们在这里做的是将存储指针分配给返回的结构，在这种情况下，存储数据的存储槽是槽0。</p><p id="e0a9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了设置距离，我们通过调用distanceStore函数来初始化指向结构体的存储指针，并将变量赋给storage。</p><p id="1d6a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我没有弄清楚这个，特别感谢学习小组的托罗夫教我这个xD</p><p id="521d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">觉得这个有趣吗？看看这个！<a class="ae jw" rel="noopener" href="/p/a069b267c6e0">https://medium.com/p/a069b267c6e0</a></p><p id="d5d6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">想多学点扎实？<br/>加入学习小组！【https://discord.gg/KzbcGmrnfN T4】</p><p id="a02c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">-多边形联盟—<a class="ae jw" href="https://www.polygonalliance.com/" rel="noopener ugc nofollow" target="_blank">https://www.polygonalliance.com/</a></p><p id="def5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">——多边形联盟不和—<a class="ae jw" href="https://discord.gg/kJKPCGQu66" rel="noopener ugc nofollow" target="_blank">https://discord.gg/kJKPCGQu66</a></p><p id="bce1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你喜欢这篇文章吗？想请我喝杯咖啡吗？<br/>Polygon/Eth/Bsc—0x4a 581 E0 EAF 6b 71d 05905 e8e 6014 DC 0277 a1 b 10 ad</p><blockquote class="jx jy jz"><p id="6ee1" class="iq ir ka is b it iu iv iw ix iy iz ja kb jc jd je kc jg jh ji kd jk jl jm jn hm dt translated"><em class="ht">交易新手？试试</em> <a class="ae jw" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a"> <em class="ht">密码交易机器人</em> </a> <em class="ht">或</em> <a class="ae jw" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c"> <em class="ht">复制交易</em> </a> <em class="ht">上</em> <a class="ae jw" rel="noopener" href="/coinmonks/crypto-exchange-dd2f9d6f3769"> <em class="ht">最好的密码交易</em> </a></p></blockquote><blockquote class="ke"><p id="e056" class="kf kg ht bd kh ki kj kk kl km kn jn ek translated">加入Coinmonks <a class="ae jw" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jw" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>获取每日<a class="ae jw" href="http://coincodecap.com/" rel="noopener ugc nofollow" target="_blank">加密新闻</a></p></blockquote><h1 id="2e6f" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">另外，阅读</h1><ul class=""><li id="e75c" class="lm ln ht is b it lo ix lp jb lq jf lr jj ls jn lt lu lv lw dt translated"><a class="ae jw" rel="noopener" href="/coinmonks/free-crypto-signals-48b25e61a8da">免费加密信号</a> | <a class="ae jw" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a></li><li id="42a1" class="lm ln ht is b it lx ix ly jb lz jf ma jj mb jn lt lu lv lw dt translated">杠杆代币的终极指南</li><li id="55b1" class="lm ln ht is b it lx ix ly jb lz jf ma jj mb jn lt lu lv lw dt translated"><a class="ae jw" rel="noopener" href="/coinmonks/top-17-folding-electric-bikes-5e296f0918cb"> 16款最佳折叠电动自行车</a></li><li id="d79e" class="lm ln ht is b it lx ix ly jb lz jf ma jj mb jn lt lu lv lw dt translated"><a class="ae jw" rel="noopener" href="/coinmonks/the-28-best-electric-bikes-review-and-buying-guide-in-2023-7bb3146cb403"> 28款最佳电动自行车评选</a></li><li id="8894" class="lm ln ht is b it lx ix ly jb lz jf ma jj mb jn lt lu lv lw dt translated">前三名<a class="ae jw" rel="noopener" href="/coinmonks/top-3-binance-futures-trading-bots-e6031f84b3f9">币安期货交易机器人</a></li></ul></div></div>    
</body>
</html>