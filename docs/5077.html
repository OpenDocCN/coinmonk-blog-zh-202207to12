<html>
<head>
<title>Implementing Nested Arrays in Solidity Smart Contracts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨Solidityæ™ºèƒ½åˆçº¦ä¸­å®ç°åµŒå¥—æ•°ç»„</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/coinmonks/implementing-nested-arrays-in-solidity-smart-contracts-514e05d251b8?source=collection_archive---------3-----------------------#2022-10-16">https://medium.com/coinmonks/implementing-nested-arrays-in-solidity-smart-contracts-514e05d251b8?source=collection_archive---------3-----------------------#2022-10-16</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="c48a" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">å……åˆ†å‘æŒ¥ç»“æ„ã€æ•°ç»„å’Œæ˜ å°„çš„æ½œåŠ›</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/fbe5265e9641d2a50aceb7bb49730b4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-20CSPIoTl4MMv515DpRUg.png"/></div></div></figure><h2 id="9df2" class="ju jv ht bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">ä»‹ç»</h2><p id="9302" class="pw-post-body-paragraph ks kt ht ku b kv kw iu kx ky kz ix la kf lb lc ld kj le lf lg kn lh li lj lk hm dt translated">æ•°ç»„æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­æœ€æµè¡Œçš„æ•°æ®ç±»å‹ä¹‹ä¸€ã€‚æ ¹æ®å®šä¹‰ï¼Œæ•°ç»„æ˜¯ä¸€ç§åœ¨è‡ªèº«å†…éƒ¨å­˜å‚¨å…¶ä»–æ•°æ®ç±»å‹çš„å¤šä¸ªå˜é‡çš„æ•°æ®ç±»å‹ã€‚åœ¨å…¸å‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œæ•°ç»„éå¸¸å¼ºå¤§ï¼Œå› ä¸ºå®ƒä»¬è¿˜å¯ä»¥å°†æ•°ç»„å­˜å‚¨åˆ°å‡ ä¹æ— é™çš„çº§åˆ«ã€‚æ•°ç»„ä¸­çš„æ•°ç»„ç§°ä¸ºåµŒå¥—æ•°ç»„ï¼Œæ˜¯ç°å®ç”Ÿæ´»ä¸­æ•°æ®çš„ç»ä½³è¡¨ç¤ºã€‚</p><p id="6373" class="pw-post-body-paragraph ks kt ht ku b kv ll iu kx ky lm ix la kf ln lc ld kj lo lf lg kn lp li lj lk hm dt translated">ç„¶è€Œï¼ŒSolidityå¹¶ä¸æ˜¯çœŸæ­£çš„é¢å‘å¯¹è±¡è¯­è¨€(å®ƒæ˜¯<em class="lq"> contract </em>é¢å‘çš„),å®ƒçš„æ•°ç»„å®šä¹‰ä¸åŒã€‚é¦–å…ˆï¼Œsolidityä¸­çš„æ•°ç»„åªèƒ½æ¥å—å•ä¸€çš„é¢„å®šä¹‰æ•°æ®ç±»å‹çš„å˜é‡ã€‚å› æ­¤ï¼Œuintæ•°ç»„åªèƒ½æ¥å—uintå€¼ï¼Œstringæ•°ç»„åªèƒ½æ¥å—stringå˜é‡ï¼Œç­‰ç­‰ã€‚è€Œå®æ•°ç»„è‚¯å®šä¸èƒ½åœ¨è‡ªèº«å†…éƒ¨å®¹çº³å…¶ä»–æ•°ç»„ã€‚åµŒå¥—æ•°ç»„æ˜¯ä¸å¯èƒ½çš„ã€‚ä½œä¸ºä¸€ä¸ªä»Javaã€Pythonæˆ–JavaScriptè¿‡æ¸¡åˆ°Solidityçš„ç¨‹åºå‘˜ï¼Œä¸€ä¸ªè¿«åœ¨çœ‰ç«çš„é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬ç©¶ç«Ÿå¦‚ä½•å®ç°åŒ…å«æ•°ç»„çš„æ•°ç»„æ¥æ„å»ºç»“æ„è‰¯å¥½çš„é“¾ä¸Šå…ƒæ•°æ®ï¼Ÿç­”æ¡ˆå¾ˆç®€å•ã€‚æˆ‘ä»¬ç»“åˆäº†ä¸¤ç§ç‹¬ç‰¹çš„æ•°æ®ç±»å‹ï¼Œç§°ä¸ºæ˜ å°„å’Œæ•°ç»„ç»“æ„ã€‚</p><h2 id="224f" class="ju jv ht bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">ä»€ä¹ˆæ˜¯ç»“æ„ï¼Ÿ</h2><p id="50bd" class="pw-post-body-paragraph ks kt ht ku b kv kw iu kx ky kz ix la kf lb lc ld kj le lf lg kn lh li lj lk hm dt translated">ç»“æ„æ˜¯ç”¨äºå®šä¹‰è®°å½•çš„å®ä½“æ•°æ®ç±»å‹ã€‚æ¢å¥è¯è¯´ï¼Œç»“æ„åŒ…å«ç‰¹å®šæ•°é‡çš„å˜é‡ï¼Œæ‰€æœ‰å˜é‡éƒ½æ˜¯é¢„å…ˆå£°æ˜çš„æ•°æ®ç±»å‹ã€‚ç»“æ„çš„å£°æ˜å¦‚ä¸‹æ‰€ç¤º:</p><pre class="jj jk jl jm fq lr ls lt lu aw lv dt"><span id="dbca" class="ju jv ht ls b fv lw lx l ly lz">struct People {<br/>    string name;<br/>    uint height_in_cm;<br/>    bytes gender;<br/>}<br/>People memory yours_truly = People("Peter Ogwara", 155, "m");<br/></span></pre><p id="e5bd" class="pw-post-body-paragraph ks kt ht ku b kv ll iu kx ky lm ix la kf ln lc ld kj lo lf lg kn lp li lj lk hm dt translated">å› æ­¤ï¼Œstructå£°æ˜ä»…ä»…ç»™å‡ºäº†ä¸€ä¸ªå¯ä»¥åˆ›å»ºå®ƒçš„å®ä¾‹çš„æ¨¡å‹ï¼Œæ¯”å¦‚ä¸Šé¢çš„yours_tulyã€‚</p><h2 id="b536" class="ju jv ht bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">ä»€ä¹ˆæ˜¯æ˜ å°„ï¼Ÿ</h2><p id="b8d4" class="pw-post-body-paragraph ks kt ht ku b kv kw iu kx ky kz ix la kf lb lc ld kj le lf lg kn lh li lj lk hm dt translated">æ˜ å°„æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå®ƒä½¿ä¸€ç§æ•°æ®ç±»å‹çš„å®ä¾‹èƒ½å¤Ÿä¸å¦ä¸€ç§æ•°æ®ç±»å‹ç›¸åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œä»£è¡¨å”¯ä¸€ç”¨æˆ·idçš„uintå¯ä»¥ä¸ä»£è¡¨å¹´é¾„çš„uintçš„åœ°å€æˆ–ä»£è¡¨å§“åçš„å­—ç¬¦ä¸²é…å¯¹ã€‚ERCä»¤ç‰Œä½¿ç”¨è¯¥æ•°æ®ç±»å‹æ¥è®°å½•æ¯ä¸ªåœ°å€çš„ä»¤ç‰Œä½™é¢ã€‚æ˜ å°„çš„å£°æ˜å’Œè®¾ç½®å¦‚ä¸‹:</p><pre class="jj jk jl jm fq lr ls lt lu aw lv dt"><span id="8c6f" class="ju jv ht ls b fv lw lx l ly lz">mapping(uint=&gt;string) user_id_to_username;<br/>uint id = 1;<br/>user_id_to_username[id] = "peterogwara";</span></pre><p id="895c" class="pw-post-body-paragraph ks kt ht ku b kv ll iu kx ky lm ix la kf ln lc ld kj lo lf lg kn lp li lj lk hm dt translated">è¦è°ƒç”¨æ˜ å°„ä¸­çš„ä¿¡æ¯ï¼Œåªéœ€è¦ç¬¬ä¸€ä¸ªå˜é‡çš„å€¼ã€‚ä¾‹å¦‚ï¼Œè¦ä½¿ç”¨ä¸Šé¢çš„æ˜ å°„æ¥è·å–idä¸º1çš„ç”¨æˆ·çš„ç”¨æˆ·åï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œã€‚</p><pre class="jj jk jl jm fq lr ls lt lu aw lv dt"><span id="08a2" class="ju jv ht ls b fv lw lx l ly lz">uint id = 1;<br/>username = user_id_to_username[id] //This will return "peterogwara"</span></pre><h2 id="8bd2" class="ju jv ht bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">ç”¨ç»“æ„ç»„åˆæ•°ç»„å’Œæ˜ å°„</h2><p id="d5df" class="pw-post-body-paragraph ks kt ht ku b kv kw iu kx ky kz ix la kf lb lc ld kj le lf lg kn lh li lj lk hm dt translated">æœ‰è¶£çš„éƒ¨åˆ†æ¥äº†ã€‚ç»“æ„å’Œæ˜ å°„å¯ä»¥ç»„åˆï¼è¦åˆ›å»ºä¸€ä¸ªä¸€çº§åµŒå¥—æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä»»ä½•åŸå§‹æ•°æ®ç±»å‹åˆ°ç»“æ„çš„æ˜ å°„ã€‚ç»§ç»­ä¸Šé¢å®šä¹‰çš„äººå‘˜ç»“æ„å’ŒæƒŸä¸€idçš„æ¦‚å¿µï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:</p><pre class="jj jk jl jm fq lr ls lt lu aw lv dt"><span id="be90" class="ju jv ht ls b fv lw lx l ly lz">mapping(uint=&gt;People) user_id_to_details;</span></pre><p id="9399" class="pw-post-body-paragraph ks kt ht ku b kv ll iu kx ky lm ix la kf ln lc ld kj lo lf lg kn lp li lj lk hm dt translated">è¿™ä¸ªå”¯ä¸€çš„idå¯ä»¥ç”¨æ¥è°ƒç”¨æ¯”å•ä¸ªç”¨æˆ·åæ›´å¤šçš„ç»†èŠ‚ã€‚å½“ç„¶ï¼Œä»»ä½•æ•°é‡çš„å˜é‡éƒ½å¯ä»¥æ·»åŠ åˆ°è¿™ä¸ªç»“æ„ä¸­ï¼Œä½¿å®ƒåœ¨å®šä¹‰ä¸€ä¸ªäººæ—¶æ›´åŠ å…¨é¢ã€‚è¯·æ³¨æ„ï¼Œæ˜ å°„åŒ…æ‹¬ç»“æ„çš„ç‰¹å®šåç§°(People)ï¼Œè€Œä¸ä»…ä»…æ˜¯â€œstructâ€ã€‚</p><h2 id="a064" class="ju jv ht bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">æ·±å…¥åˆ°æ›´å¤šå±‚æ¬¡</h2><p id="f209" class="pw-post-body-paragraph ks kt ht ku b kv kw iu kx ky kz ix la kf lb lc ld kj le lf lg kn lh li lj lk hm dt translated">ç„¶è€Œï¼Œå‡è®¾æˆ‘ä»¬æƒ³åœ¨ä»–ä»¬çš„è¯¦ç»†ä¿¡æ¯ä¸­åŒ…å«æ¯ä¸ªäººçš„æŠ€æœ¯å †æ ˆåˆ—è¡¨å’Œä»–ä»¬å® ç‰©çŒ«çš„è¯¦ç»†ä¿¡æ¯ã€‚æˆ‘ä»¬å¿…é¡»å†æ·±å…¥ä¸€å±‚ã€‚è¿™å¯ä»¥é€šè¿‡åœ¨peopleç»“æ„ä¸­ä¸ºtechå †æ ˆå£°æ˜ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ¥å®ç°ã€‚ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨ç»“æ„ä¸­åŒ…å«ç»“æ„ï¼Œä¹Ÿä¸èƒ½åœ¨ç»“æ„ä¸­åŒ…å«åµŒå¥—æ˜ å°„ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºç›¸åŒçš„ç›®çš„æ„é€ å•ç‹¬çš„ç»“æ„ï¼Œå¹¶åœ¨åŸå§‹ç»“æ„ä¸­ä½¿ç”¨æ•°ç»„æ¥è·Ÿè¸ªå®ƒä»¬ï¼Œä»è€Œåœ¨Peopleç»“æ„ä¸­åˆ›å»ºCatDetailsç»“æ„å’ŒCatDetailsæ•°ç»„ã€‚æˆ‘ä»¬çš„ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„:</p><pre class="jj jk jl jm fq lr ls lt lu aw lv dt"><span id="3a48" class="ju jv ht ls b fv lw lx l ly lz">uint userCount;<br/>string[] _techstack;<br/>CatDetails[] _cats;</span><span id="b797" class="ju jv ht ls b fv ma lx l ly lz">struct People {<br/>    string name;<br/>    uint height;<br/>    bytes gender;<br/>    string[] tech_stack;<br/>    CatDetails[] cats;<br/>}<br/>struct CatDetails {<br/>    string name;<br/>    uint age;<br/>    string color;<br/>}<br/>mapping (uint=&gt;People) user_id_to_details;</span></pre><p id="ed9c" class="pw-post-body-paragraph ks kt ht ku b kv ll iu kx ky lm ix la kf ln lc ld kj lo lf lg kn lp li lj lk hm dt translated">ç„¶åï¼Œé€šè¿‡é¦–å…ˆå£°æ˜æœ€å†…éƒ¨çš„æ•°ç»„å¹¶è®¾ç½®å…¶å€¼ï¼Œç„¶åå¯¹æœ€å¤–å±‚çš„ç»“æ„è¿›è¡ŒåŒæ ·çš„æ“ä½œï¼Œå¯ä»¥è®¾ç½®å˜é‡å€¼ã€‚å¥‘çº¦å¼€å§‹æ—¶å£°æ˜çš„å…¨å±€æ•°ç»„ä¸ºå‡½æ•°å†…å£°æ˜æä¾›äº†ä¸€ä¸ªæŒ‡å‘çš„å­˜å‚¨ä½ç½®ã€‚</p><pre class="jj jk jl jm fq lr ls lt lu aw lv dt"><span id="e1e3" class="ju jv ht ls b fv lw lx l ly lz">function setUser() public {<br/>    uint userId = userCount++;<br/>    string[] storage my_techstack = _techstack;<br/>    my_techstack.push("Python");<br/>    my_techstack.push("JavaScript");<br/>    my_techstack.push("Solidity");<br/>    CatDetails[] storage cats = _cats;<br/>    CatDetails memory firstcat = CatDetails("Snuffles", 3, 'white');<br/>    cats.push(firstcat);<br/>        CatDetails memory secondcat = CatDetails("Garfield", 5, 'orange');<br/>    cats.push(secondcat);<br/>People memory yours_truly = People("Peter M. Ogwara", 155, "m", my_techstack, cats);<br/>    user_id_to_details[userId] = yours_truly;<br/>}</span></pre><p id="2c64" class="pw-post-body-paragraph ks kt ht ku b kv ll iu kx ky lm ix la kf ln lc ld kj lo lf lg kn lp li lj lk hm dt translated">å°±è¿™æ ·ï¼Œæˆ‘ä»¬æœ‰äº†åµŒå¥—çš„æ•°ç»„/ç»“æ„ï¼è°ƒç”¨æ•°æ®éå¸¸ç®€å•ï¼Œå¹¶ä¸”ä»¥ä¼ ç»Ÿçš„æ˜ å°„/ç»“æ„/æ•°ç»„è°ƒç”¨æ ¼å¼å®Œæˆã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„è¡Œå°†è¿”å›ç”¨æˆ·#1çš„ç¬¬äºŒåªçŒ«çš„åå­—ã€‚</p><pre class="jj jk jl jm fq lr ls lt lu aw lv dt"><span id="1b08" class="ju jv ht ls b fv lw lx l ly lz">return user_id_to_details[1].my_cats[1].name;</span></pre><p id="4484" class="pw-post-body-paragraph ks kt ht ku b kv ll iu kx ky lm ix la kf ln lc ld kj lo lf lg kn lp li lj lk hm dt translated">æœ€åï¼Œåœ¨è°ƒç”¨å€¼ä¹‹å‰ï¼Œç¡®ä¿åŒ…å«æ£€æŸ¥ä»¥ç¡®ä¿ç´¢å¼•å­˜åœ¨ã€‚</p></div><div class="ab cl mb mc hb md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="hm hn ho hp hq"><p id="0201" class="pw-post-body-paragraph ks kt ht ku b kv ll iu kx ky lm ix la kf ln lc ld kj lo lf lg kn lp li lj lk hm dt translated"><strong class="ku hu">ğŸŒŸæ¬¢è¿æé—®ï¼ğŸŒŸ</strong></p><p id="2b75" class="pw-post-body-paragraph ks kt ht ku b kv ll iu kx ky lm ix la kf ln lc ld kj lo lf lg kn lp li lj lk hm dt translated"><em class="lq">å…³æ³¨æˆ‘äº†è§£æ›´å¤šåŒºå—é“¾ã€Javascriptã€PHPã€Pythonæˆ–çº¯ç¼–ç¨‹æ•…äº‹ã€‚</em></p><p id="51a0" class="pw-post-body-paragraph ks kt ht ku b kv ll iu kx ky lm ix la kf ln lc ld kj lo lf lg kn lp li lj lk hm dt translated"><a class="ae mi" rel="noopener" href="/@peterogwara">ä¸­</a> | <a class="ae mi" href="https://twitter.com/petermarie_" rel="noopener ugc nofollow" target="_blank">æ¨ç‰¹</a> | <a class="ae mi" href="https://github.com/PeterMarie" rel="noopener ugc nofollow" target="_blank"> Github </a> | <a class="ae mi" href="https://www.amazon.com/author/peterogwara" rel="noopener ugc nofollow" target="_blank">äºšé©¬é€Š</a></p><blockquote class="mj"><p id="ddfe" class="mk ml ht bd mm mn mo mp mq mr ms lk ek translated">äº¤æ˜“æ–°æ‰‹ï¼Ÿå°è¯•<a class="ae mi" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">åŠ å¯†äº¤æ˜“æœºå™¨äºº</a>æˆ–<a class="ae mi" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">å¤åˆ¶äº¤æ˜“</a></p></blockquote></div></div>    
</body>
</html>