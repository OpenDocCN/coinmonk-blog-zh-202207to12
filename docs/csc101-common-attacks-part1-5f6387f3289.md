# CSC 101-常见攻击第 1 部分

> 原文：<https://medium.com/coinmonks/csc101-common-attacks-part1-5f6387f3289?source=collection_archive---------44----------------------->

在之前的教程中，我们已经讨论了智能合同审计和常见攻击。在本教程中，我们将深入解释智能合同的挑战。

![](img/78db353f85d00a7149d8bc2b6bc3c9de.png)

作为其核心功能之一，可靠性合同倾向于转移大量价值，因此暴露于攻击者的各种高风险攻击之下，这些攻击者试图从这些不可改变的参与者身上榨取资金。

强烈建议开发人员审计 mainnet 的智能合同。追溯修复安全漏洞可能非常困难！

潜在漏洞的类型以及执行这些攻击的方式本身就是一个完整的过程。让我们快速概述一下主要的漏洞。

## 重入攻击

这种类型的攻击极其危险，会让脆弱的智能合约耗尽所有乙醚，并且非常容易意外发生。可重入攻击的发生是因为坚固性的两个关键特征:

1.  智能合约强制执行，也就是说，它们在执行下一行之前等待每一行结束。
2.  智能协定可以调用外部的不受信任的协定，并在继续之前等待结果。

因此，当易受攻击的协定 A 对另一个不受信任的协定 B 进行外部调用时，另一个协定 B 可能会被恶意更改，从而对原始协定 A 进行递归调用。如果从协定 A 到 B 的调用涉及发送任何数量的以太网，则该无限循环会在函数完成之前耗尽协定 A 的所有资源。

## 领跑

智能合约和交易不是在区块链得到确认的时候完全公开，而是在你将它们作为待定交易提交给网络的那一秒。这些未决事务在整个网络的节点内存池中共享，允许区块的矿工选择具有最高天然气费用的事务。

这种设计的一个副作用是，智能合约的预期结果在确认进入区块链之前的一段时间内是可见的。假设你有一个智能合约，当它运行时，将执行一个套利，这将为你赢得 1 个 ETH，而部署它的成本是 0.05 个 ETH。观看 mempool 的恶意行为者可能会看到这一交易，认识到机会，并复制您的智能合同，以 0.06 ETH 的燃气费提交。然后，他们成功地“抢跑”了你的合约，通过先提交他们的交易窃取了你的套利机会。

为了防止这种类型的攻击:

[](https://forum.openzeppelin.com/t/protecting-against-front-running-and-transaction-reordering/1314) [## 防止提前运行和事务重新排序

### 这篇文章讨论了区块链联邦理工学院的抢注和交易排序攻击这两个密切相关的问题

forum.openzeppelin.com](https://forum.openzeppelin.com/t/protecting-against-front-running-and-transaction-reordering/1314) 

## 整数溢出和下溢

这是很多编程语言中常见的攻击！以下是这种类型的攻击如何在 Solidity 中发生的一般要点:

1.  Solidity 智能合约使用 256 位作为字长，相当于大约 43 亿。
2.  当减小无符号整数 0 的值时，它将循环回到最大值。
3.  因此，下溢攻击可以通过智能合约记录的恶意地址来执行，该恶意地址具有零余额，试图发送 1 个单位的以太网，强制其余额循环回到允许的最大值:43 亿。
4.  然后，因为智能合约认为该地址有 43 亿以太网的余额，所以它可以允许从该账户的任何提取继续，直到智能合约的资金被耗尽。

如您所见，这种攻击很容易被任何内部跟踪地址平衡的智能契约所利用。为了避免这种情况，只需确保您使用的是 0.8 版本的 Solidity 编译器，它会自动检查溢出和下溢。

> 交易新手？试试[加密交易机器人](/coinmonks/crypto-trading-bot-c2ffce8acb2a)或者[复制交易](/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c)