<html>
<head>
<title>How To Create Your Nft From Scratch And List It On Opensea</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从头开始创建你的Nft并在Opensea上列出它</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-create-your-nft-from-scratch-and-list-it-on-opensea-9f044c51e489?source=collection_archive---------21-----------------------#2022-07-15">https://medium.com/coinmonks/how-to-create-your-nft-from-scratch-and-list-it-on-opensea-9f044c51e489?source=collection_archive---------21-----------------------#2022-07-15</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div class="fe ff iq"><img src="../Images/c2daa0848b01f29861acd9cd6c2bf914.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*U_HJAmDtLiQ4rxAypCZ20A.png"/></div></figure><p id="4079" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">自从CryptoKitties游戏的出现，以及最近Twitter的创始人以大约300万美元的价格拍卖了其作为NFT的第一条推文，NFT越来越受欢迎。</p><p id="665d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在本帖中，我们将讨论如何开始你的NFT收藏，并以“数码艺术品”作为标志。我们将通过利用ERC-721标准和以太坊区块链来做到这一点。“艺术作品”(图片)将保存在IPFS，由于我们遵守ERC721 JSON模式元数据要求，NFT也可以在OpenSea中访问。</p><h1 id="2cbd" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">到底什么是Nft？</h1><p id="32e7" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">不可替换令牌，也称为NFT，是一种独特的数字资产，其有效性由区块链保证。这种令牌是一种奇妙的工具，可用于提供各种物品的平台或企业，它们必须展示特殊的品质和特征，如:</p><p id="abc5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">收藏品</p><p id="fd27" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">艺术</p><p id="55ba" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">游戏项目</p><p id="77d7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">虚拟世界</p><p id="839c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">文档和真实资产</p><h1 id="a11d" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">ERC721标准:它是什么？</h1><p id="ee8e" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">ERC-721是一个不可替代的令牌标准，它为智能合约中的令牌定义了一个API。它是由威廉·恩特里肯、迪特·雪莉、雅各布·埃文斯和纳斯塔西亚·萨克斯在2018年1月首次提出的。</p><p id="f6cb" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">它提供的功能包括在帐户之间移动不可替换的令牌、确定帐户的当前令牌余额、识别特定令牌的所有者，以及确定现在在网络上流通的令牌总数。</p><p id="11cf" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">还允许您的令牌实现可选的元数据。</p><p id="d760" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">先决条件:</p><p id="6059" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">节点JS &amp; NPM—<a class="ae ky" href="https://nodejs.org/es/download/" rel="noopener ugc nofollow" target="_blank">https://nodejs.org/es/download/</a></p><p id="55ac" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">块菌—【https://www.trufflesuite.com/truffle T2】</p><p id="66e1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">皮纳塔账户—【https://www.pinata.cloud/ T4】</p><p id="2e66" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">集成驱动电子设备</p><p id="e5e8" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">Metamask Chrome扩展和钱包-<a class="ae ky" href="https://metamask.io/download.html" rel="noopener ugc nofollow" target="_blank">https://metamask.io/download.html</a></p><blockquote class="kz la lb"><p id="3007" class="ix iy lc iz b ja jb jc jd je jf jg jh ld jj jk jl le jn jo jp lf jr js jt ju hm dt translated">交易新手？尝试<a class="ae ky" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或<a class="ae ky" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote><h1 id="a029" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">[计]元数据</h1><p id="4154" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">元数据存储问题可以通过多种方式解决。对于本文，我选择了离线托管元数据(即远离区块链)，但是我将以一种分散的方式使用IPFS来访问元数据。</p><p id="065a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">它可能是集中的，在这种情况下，我们会在几个方面受益，包括更快的反应或对项目更多的控制。或者直接上链，在这种情况下，由于目前对费用和汽油价格的限制，部署成本大大增加。</p><h1 id="64c0" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">ERC721 JSON模式参考:</h1><p id="d938" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt">{</p><p id="5e5a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"标题":"资产元数据"，</p><p id="cabd" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"类型":"对象"，</p><p id="6446" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"属性":{</p><p id="2898" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"名称":{</p><p id="39b6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"类型":"字符串"，</p><p id="d21b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"描述":"标识此NFT代表的资产"</p><p id="64a2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">},</p><p id="e7b2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"描述":{</p><p id="c7dd" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"类型":"字符串"，</p><p id="7c35" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"描述":"描述此NFT代表的资产"</p><p id="9aca" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">},</p><p id="41df" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"图像":{</p><p id="6ad1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"类型":"字符串"，</p><p id="eda6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">" description ":"指向mime类型为image/*的资源的URI</p><p id="06d7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">代表这个NFT所代表的资产。考虑制作宽度在320到1080像素之间、长宽比在1.91:1到4:5之间(含)的图像。"</p><h1 id="a56e" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">NFT元数据的真实示例:</h1><p id="f982" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt">{</p><p id="2d3c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">【描述】:“银河&amp;星辰照片”，</p><p id="eb91" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">" external _ URL ":" https://www . pexels . com/photo/milky-way-galaxy-during-night-1252890/"，</p><p id="7763" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">" image ":" https://gateway . pinata . cloud/ipfs/qmz 6 ijbupefkxuodwx 4d GAF 9 zquvrjjemxakh 8 ejtwplkm "，</p><p id="e58d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">【姓名】:《星夜#1》，</p><p id="1a0e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"属性":[</p><p id="cbbf" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">{</p><p id="0aa0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">" trait_type ":"作者"，</p><p id="be50" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">“价值”:“赫里斯托·菲达诺夫”</p><p id="a090" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">},</p><p id="e4c7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">{</p><p id="4fe3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">" trait_type ":"相机"，</p><p id="fd36" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">【价值】:尼康D750</p><p id="7e5f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">},</p><p id="f55a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">{</p><p id="d77d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">" trait_type ":"分辨率"，</p><p id="efb5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">"数值":" 6016像素x 3385像素"</p><p id="5665" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">},</p><p id="9eb6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">{</p><p id="31c4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">" display_type": "date "，</p><p id="4a77" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">" trait_type ":"已发布"，</p><p id="4d05" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">【价值】:1531951200</p><p id="0c5e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="0af3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">]</p><p id="4e4e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="3b6d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在下图中，我们可以看到如果我们遵循OpenSea约定，结果会是什么样子:</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lg"><img src="../Images/11b681e1fbc0917f64b150e2c6603994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DQLkLHEs8zXGyZsB"/></div></div></figure><h1 id="539e" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">将元数据上传到IPFS和皮纳塔</h1><p id="c8de" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">第一步是将我们希望链接到我们的令牌的图像提交给Pinata，这将让我们保持图像存储不变和分散。</p><p id="558d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">接下来，我们将在“我的文件”中看到我们的照片单击相应的元数据文本文件，输入该文件的Url。</p><p id="bb64" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">最后，我们应该有一个类似下面的文件夹，其中有保存元数据的各种文件。</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lp"><img src="../Images/79fb2e37673fb8741317bc724f8e2589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4uqJWdwTwTcIXsfN"/></div></div></figure><p id="2e9b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">最后，我们将把文件夹提交给Pinata。</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lg"><img src="../Images/3695661ff08d03e022c7e80a4a86f47b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x6-KhUhEwsUwGPAv"/></div></div></figure><p id="6497" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">此外，它将为您提供一个契约部署脚本的URL，稍后您将需要它。</p><p id="ff4f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">如果你点击它，你应该被发送到一个文件夹，看起来像这样:</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lg"><img src="../Images/335e7b4054ffc078e6a90752e17f4345.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gqXkbgFkoz-wy5Wu"/></div></div></figure><h1 id="cdf8" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">设置环境</h1><p id="2f83" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">您将需要WSL2来执行Windows操作系统上的每个命令</p><p id="6d66" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">开始创建新项目:</p><p id="031d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">mkdir&lt;FOLDER _ NAME _ PROJECT&gt;T1】</strong></p><p id="ef05" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">光盘&lt;文件夹_名称_项目&gt;T3】</strong></p><p id="cdc7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> npm init -y </strong></p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div class="fe ff lq"><img src="../Images/22fcff7d4876743787f1caada9d001c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/0*ep-Iy1HWPEOYbjhH"/></div></figure><p id="b205" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">然后，安装OpenZeppelin Contracts，它提供了各种Solidity文件，我们将利用这些文件来实现ERC721:</p><p id="74c6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> npm安装—save-dev @ open zeppelin/contracts</strong></p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lr"><img src="../Images/932b815f22c2c4ea255bf1f697d70bdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XqodfQxniAd4-Vja"/></div></div></figure><p id="7869" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">安装部署开发框架，在本例中是Truffle:</p><p id="9310" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> npm安装块菌</strong></p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff ls"><img src="../Images/eca77b519d5f56d77b00d48dd89e4e14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0LxaDUKlkQDuVmYd"/></div></div></figure><h1 id="9989" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">建立松露项目</h1><p id="e10b" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">大多数Truffle命令必须针对现有的Truffle项目执行才能使用。因此，第一步是建立一个松露项目。</p><p id="84d0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> npx块菌初始化</strong></p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div class="fe ff lt"><img src="../Images/af367eb4245aea95c2ced1762087f4ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/0*80sfjX67lH8eDsGy"/></div></figure><p id="d42e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">该程序将生成一个名为“contracts”的目录以及一个配置文件(“truffle-config.js”)，这是一个Javascript文件，可以运行必要的代码来构建和维护您的truffle环境设置，例如:</p><p id="bfff" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">脚本中使用的编译器和配置中选择的编译器之间的一致性。</p><p id="289d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">你的项目的网络配置(开发，林克比，科万，李二等。).</p><p id="b567" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们稍后会调查这份文件。</p><h1 id="db8c" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">智能合同和部署文件</h1><h1 id="dcf4" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">ERC721和扩展</h1><p id="340a" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">可靠性智能契约类似于OOP模型中的“类”概念。契约包括具有永久数据的状态变量和可以改变这些变量的函数。在单独的协定(实例)上调用函数将导致EVM函数调用，切换上下文并使调用协定中的状态变量不可用。</p><p id="4e17" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们将使用预设的ERC721 presetmtinterpauserautoid，这是一个已经使用ERC721标准及其扩展进行了预配置的ERC 721。</p><p id="a21b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">本质上，我们正在将许多具有不同功能的Solidity智能合约导入到一个文件中，该文件将所有这些合约组合在一起，为我们提供该标准的大部分功能。</p><p id="dc92" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们可以通过转到节点路径\ node _ modules \ @ openzeppelin \ contracts \ token \ ERC 721和/或open zeppelin的Github来检查ERC 721 presetmtinterpauserid . sol和用于此智能合约的所有其他Solidity文件。</p><p id="0cd6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//SPDX-许可证-标识符:MIT</p><p id="6c29" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//open zeppelin Contracts v 4 . 3 . 2(token/ERC 721/presets/ERC 721 presets tminterpauserutoid . sol)</p><p id="395e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">^0.8.0实用主义；</p><p id="0f6c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">导入"../ERC 721 . sol "；</p><p id="e87f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">导入"../extensions/ERC 721 enumerable . sol "；</p><p id="a0be" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">导入"../extensions/ERC 721 burnable . sol "；</p><p id="ee70" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">导入"../extensions/ERC 721 pausable . sol "；</p><p id="7c86" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">导入"../../../access/accesscontrolenumerable . sol "；</p><p id="639c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">导入"../../../utils/context . sol "；</p><p id="a3ba" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">导入"../../../utils/counters . sol "；</p><p id="e64b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">/**</p><p id="65b0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* @dev {ERC721}令牌，包括:</p><p id="71fd" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="cb06" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* —持有者能够烧毁(销毁)他们的代币</p><p id="d35e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* —允许令牌铸造(创建)的铸造者角色</p><p id="ed8b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* —允许停止所有令牌传输的暂停者角色</p><p id="7c09" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* —令牌ID和URI自动生成</p><p id="7c3c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="7758" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*此契约使用{AccessControl}来锁定使用</p><p id="a123" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*不同的角色——有关详细信息，请参阅其文档。</p><p id="e6dd" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="882e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*部署合同的帐户将被授予minter和pauser</p><p id="d08a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*角色，以及默认的管理员角色，这将允许它授予minter</p><p id="2ee9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*并将用户角色分配给其他客户。</p><p id="9f69" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*/</p><p id="69e9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">合同ERC721PresetMinterPauserAutoId为</p><p id="bd47" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">语境，</p><p id="596b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">AccessControlEnumerable，</p><p id="b0dc" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">ERC 721可数，</p><p id="5e35" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">ERC 721可燃，</p><p id="22a2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">ERC 721暂停</p><p id="e64a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">{</p><p id="8d99" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">为计数器使用计数器。柜台；</p><p id="bb38" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">bytes32公共常量MINTER _ ROLE = ke ccak 256(" MINTER _ ROLE ")；</p><p id="a0b7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">bytes32公共常量PAUSER _ ROLE = ke ccak 256(" PAUSER _ ROLE ")；</p><p id="66e9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">柜台。Counter private _ tokenIdTracker</p><p id="42c1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">string private _ baseTokenURI</p><p id="d3b8" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">/**</p><p id="4825" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* @dev将“DEFAULT_ADMIN_ROLE”、“MINTER_ROLE”和“PAUSER_ROLE”授予</p><p id="1d26" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*部署合同的客户。</p><p id="f1b4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="f23b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*令牌URIs将基于“baseURI”及其令牌id自动生成。</p><p id="b14e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*请参见{ERC721-tokenURI}。</p><p id="aa0f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*/</p><p id="9bf8" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">构造器(</p><p id="fb21" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">字符串内存名称，</p><p id="aa4c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">字符串存储符号，</p><p id="4e25" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">字符串内存baseTokenURI</p><p id="1a9c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">)ERC721(名称，符号){</p><p id="02b2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">_ baseTokenURI = baseTokenURI</p><p id="f84f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">_setupRole(DEFAULT_ADMIN_ROLE，_ msg sender())；</p><p id="ff3d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">_setupRole(MINTER_ROLE，_ msg sender())；</p><p id="be67" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">_setupRole(PAUSER_ROLE，_ msg sender())；</p><p id="48ee" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="7ade" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">function _baseURI()内部视图虚拟覆盖返回(字符串内存){</p><p id="dd31" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">return _ baseTokenURI</p><p id="cd54" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="10ca" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">/**</p><p id="2410" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* @dev为“to”创建一个新令牌。它的令牌ID将自动</p><p id="7db4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*已分配(在发出的{IERC721-Transfer}事件上可用)，以及令牌</p><p id="01d5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* URI基于URI在建造时通过的基础自动生成。</p><p id="8410" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="41f4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*参见{ERC721-_mint}。</p><p id="25ee" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="d580" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*要求:</p><p id="38c4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="f6f0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* —调用方必须具有“MINTER_ROLE”。</p><p id="4bc9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*/</p><p id="e3d2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">function mint(地址)public virtual {</p><p id="ce36" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">require(hasRole(MINTER_ROLE，_msgSender())，“ERC721PresetMinterPauserAutoId:必须有MINTER角色才能薄荷”)；</p><p id="94f1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//我们不能只使用balanceOf来创建新的tokenId，因为令牌</p><p id="702f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//可以烧(毁)，所以需要单独的计数器。</p><p id="83a4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">_mint(to，_ tokenidtracker . current())；</p><p id="f040" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">_ tokenidtracker . increment()；</p><p id="8c09" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="d39d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">/**</p><p id="3ffc" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* @dev暂停所有令牌传输。</p><p id="8b6e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="a8aa" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*参见{ERC721Pausable}和{Pausable-_pause}。</p><p id="13bc" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="6cf9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*要求:</p><p id="a952" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="3dd9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* —调用方必须具有“PAUSER_ROLE”。</p><p id="f191" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*/</p><p id="7c74" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">函数暂停()公共虚拟{</p><p id="ae8c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">require(hasRole(PAUSER_ROLE，_msgSender())，“ERC721PresetMinterPauserAutoId:必须有PAUSER角色才能暂停”)；</p><p id="3723" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">_ pause()；</p><p id="65a1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="da59" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">/**</p><p id="84e4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* @dev取消暂停所有令牌传输。</p><p id="18bc" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="b1d6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*请参阅{ERC721Pausable}和{Pausable-_unpause}。</p><p id="690c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="949c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*要求:</p><p id="db33" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="12d9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* —调用方必须具有“PAUSER_ROLE”。</p><p id="76d0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*/</p><p id="8b4d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">函数unpause() public virtual {</p><p id="49f6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">require(hasRole(PAUSER_ROLE，_msgSender())，“ERC721PresetMinterPauserAutoId:必须有PAUSER角色才能取消暂停”)；</p><p id="7045" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">_ un pause()；</p><p id="d7a2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="db5d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">function _beforeTokenTransfer(</p><p id="16ce" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">地址来自，</p><p id="4907" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">地址:</p><p id="81fc" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">uint256令牌Id</p><p id="b327" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">)内部虚拟覆盖(ERC721，ERC721Enumerable，ERC721Pausable) {</p><p id="2182" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">超级棒。_beforeTokenTransfer(from，to，token id)；</p><p id="e3a9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="a8f9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">/**</p><p id="7187" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* @ dev See { ierc 165-supports interface }。</p><p id="a5a3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*/</p><p id="bced" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">功能支持接口(字节4 interfaceId)</p><p id="3bcf" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">公众的</p><p id="48e9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">视角</p><p id="1edb" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">虚拟的</p><p id="d1a9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">覆盖(AccessControlEnumerable，ERC721，ERC721Enumerable)</p><p id="9e7f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">返回(布尔值)</p><p id="3813" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">{</p><p id="a6a7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">返回super . supports interface(interface id)；</p><p id="d14e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="dfcc" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="ff14" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">这些功能使我们能够执行许多与NFTs和ERC721标准相关的交易:</p><p id="6b0b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">薄荷</strong>。“铸造”一个NFT就是生产出某样东西的数字版本，并将其添加到区块链中。</p><p id="8f66" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">烧伤</strong>。这允许你将令牌转移到一个没有公共访问权限的“黑洞”账户，在那里你只能查看余额，而不能查看内容。</p><p id="344b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">停顿。</strong>允许您延迟NFT转让，如果您出于任何原因想要停止资产的适销性，这可能会很方便。</p><p id="a0e3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">转移。</strong>资产必须在区块链进行转移和跟踪。</p><p id="c034" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">插入元数据</strong>。提供象征性的URI。我们的令牌URI将是baseUri + tokenId，它将随着每次铸造自动添加和递增。</p><p id="356e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们只需要将工件复制到build/contracts目录，因为build/contracts目录已经编译好了:</p><p id="639e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> mkdir -p构建/合同/ </strong></p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div class="fe ff lq"><img src="../Images/f7778f09db69585cf1e9e793eaecd3cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/0*8vFxmm6tJPoj16DM"/></div></figure><p id="c427" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">CP node _ modules/@ open zeppelin/contracts/build/contracts/* build/contracts/</strong></p><h1 id="6a51" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">部署合同脚本</h1><p id="2c6e" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">使用您的IDE在<strong class="iz hu">迁移</strong>目录中创建<strong class="iz hu"> 2_deploy_token.js </strong>，内容如下:</p><p id="97aa" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//迁移/2_deploy_token.js</p><p id="63d3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//SPDX-许可证-标识符:MIT</p><p id="0cf2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">const ERC 721 prestminterpauserutoid = artifacts . require(" ERC 721 prestminterpauserutoid ")；</p><p id="11e8" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">module . exports = function(deployer){</p><p id="b270" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">deployer . deploy(ERC 721 prestminterpauserautoid，"我的NFT "，" NFT "，" https://gateway . pinata . cloud/ipfs/qmcdnhctupoazqg 8 ft 3 tsrq 6 rztob 6 Edgar 5 mo 3 LV 2 weif/")；</p><p id="b4a2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">};</p><p id="dd8e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们在这里设置(按顺序):</p><p id="fc09" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们正在使用的合同</p><p id="154e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">集合的名称</p><p id="d439" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">NFT的象征</p><p id="12a0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">指向IPFS的baseTokenURI，它指向我们的元数据。</p><h1 id="cd19" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">迁移</h1><p id="b332" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">正如Truffle文档中所述，迁移是帮助您将合同部署到以太网的Javascript文件。这些文件负责准备您的部署活动，创建这些文件的前提是您的部署需求会随着时间的推移而发展。</p><p id="5766" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">因此，在管理大型项目的交互和部署在不同时期相互依赖的多个智能合同时，迁移是极其重要的。</p><p id="05e5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">您可以在迁移目录中找到该文件，名为“1_initial_migrations.js”</p><p id="31a1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">const Migrations = artifacts . require(" Migrations ")；</p><p id="26d6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">module . exports = function(deployer){</p><p id="e505" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">deployer.deploy(迁移)；</p><p id="2774" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">};</p><p id="62be" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">pragma实度&gt; =0.4.22 &lt;0.9.0;</p><p id="35c3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">contract Migrations {</p><p id="ef1d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">address public owner = msg.sender;</p><p id="e121" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// A function with the signature `last_completed_migration()`, returning a uint, is required.</p><p id="3d19" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">uint public last_completed_migration;</p><p id="a7e7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">modifier restricted() {</p><p id="e683" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">require(</p><p id="7e66" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">msg.sender == owner,</p><p id="e28f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">“This function is restricted to the contract’s owner”</p><p id="3a00" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">);</p><p id="ca53" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">_;</p><p id="87ed" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="f3fb" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// A function with the signature `setCompleted(uint)` is required.</p><p id="103b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">function setCompleted(uint completed) public restricted {</p><p id="bb6b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">last_completed_migration = completed;</p><p id="d6ec" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="a97b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><h1 id="3442" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">Deploy To A Public Testnet (Rinkeby)</h1><p id="5d89" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">An Ethereum testnet is a network that is remarkably similar to the main network, except that the ether has no value and may be gained for free. This makes them particularly helpful for applications such as testing transaction costs.</p><p id="cb41" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">We will deploy to the Rinkeby public testnet because OpenSea enables testing on Rinkeby.</p><p id="9fee" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">What are the requirements for deploying on a public testnet?</p><p id="a697" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">Obtain a testnet node.</p><p id="1a41" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">Make a new account.</p><p id="1c68" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">In our Truffle configuration file, update our network configuration.</p><p id="1cc2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">Contribute to our testing account</p><h1 id="f324" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">Connect To A Testnet Node</h1><p id="fef6" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">The simplest way to connect to a testnet is using a public node service like Infura.</p><p id="860b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">Create an Infura account, create a new project, and save the ‘ProjectID’ since we’ll need it later.</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lg"><img src="../Images/e9896ead3e2bc476627885c5bf60470a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*izTwepGVLFZXGjDP"/></div></div></figure><h1 id="25cb" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">Set Up A New Tester Account</h1><p id="541f" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">An Ethereum account is required to send transactions on a testnet. This is included in the Truffle and Mnemonics package:</p><p id="ac7a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> npx助记符</strong></p><p id="a4fe" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">这将在您的终端屏幕上输出一系列短语，您将需要用您的帐户签署交易，因此保存它们以便稍后写入secrets.json文件。</p><h1 id="d85d" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">在我们的Truffle配置文件中，更新您的网络设置</h1><p id="7015" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">因为我们正在利用公共节点，所以我们必须在本地签署所有交易。</p><p id="e408" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们将把@truffle/hdwallet-provider与我们之前准备的助记短语列表结合起来。</p><p id="59be" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们将指导提供者通过Infura端点连接到Rinkeby testnet。</p><p id="a914" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> npm安装—save-dev @ truffle/HD wallet-provider</strong></p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div class="fe ff lu"><img src="../Images/3cda01d5ee13385a8cf802ba2c22fdb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/0*k6MEoQJaFfb1HSal"/></div></figure><p id="9771" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">安装完成后，我们将使用到Rinkeby的testnet的新连接来更新truffle-config.js文件。</p><p id="41c0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">它应该是这样的:</p><p id="31e4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">/**</p><p id="ed63" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*使用此文件来配置您的truffle项目。它被播种了一些</p><p id="0796" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*不同网络的通用设置和迁移等功能，</p><p id="65e4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*编译和测试。取消需要的注释或修改</p><p id="9d41" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*根据需要调整以适合您的项目。</p><p id="b39f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="a70f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*有关配置的更多信息，请访问:</p><p id="ed04" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="b6ee" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* trufflesuite.com/docs/advanced/configuration</p><p id="7f0e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="4655" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*要通过Infura部署，您需要一个钱包提供者(如@truffle/hdwallet-provider)</p><p id="a681" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*在将事务发送到远程公共节点之前对其进行签名。Infura账户</p><p id="d9ad" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*可在infura.io/register.免费获得</p><p id="d0bd" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="a2f5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*你还需要一个助记符——钱包用来生成的12个单词短语</p><p id="6813" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*公钥/私钥对。如果你要发布你的代码到GitHub，确保你加载了这个</p><p id="5619" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*来自您已创建的文件的短语。gitignored，这样就不会意外公开。</p><p id="3669" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="0f7d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*/</p><p id="84a2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">const HDWalletProvider = require(@ truffle/HD wallet-provider))；</p><p id="a522" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">const { projectId，助记符} = require('。/secrets . JSON’)；</p><p id="83e5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">模块.导出= {</p><p id="65d9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">/**</p><p id="05a4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*网络定义了如何连接到以太坊客户端，并允许您设置</p><p id="380b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">web3用于发送交易的默认值。如果你不指定一个块菌</p><p id="a257" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*当您执行以下操作时，将在端口9545上为您启动开发区块链</p><p id="7590" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*运行“开发”或“测试”。您可以要求truffle命令使用特定的</p><p id="b087" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">*从命令行连接网络，例如</p><p id="3841" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*</p><p id="0e58" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">* $松露测试—网络<network-name/></p><p id="52c5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">*/</p><p id="3b83" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">网络:{</p><p id="a460" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//对测试有用。“开发”这个名字很特别——松露默认使用它</p><p id="28bb" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//如果在这里定义了，并且没有在命令行指定其他网络。</p><p id="dae5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//您应该在单独的终端中运行客户端(如ganache-cli、geth或parity)</p><p id="e5bd" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// tab如果您使用这个网络，您还必须设置“主机”、“端口”和“网络id”</p><p id="6d83" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//下面的选项给一些值。</p><p id="81c3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">//</p><p id="818f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//开发:{</p><p id="3ba5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// host: "127.0.0.1", // Localhost(默认:无)</p><p id="ba7a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//端口:8545，//标准以太坊端口(默认:无)</p><p id="dc06" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// network_id: "* "，//任何网络(默认:无)</p><p id="f76d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">// },</p><p id="da31" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//另一个具有更高级选项的网络…</p><p id="a777" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//高级:{</p><p id="e9f5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//端口:8777，//自定义端口</p><p id="2c36" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// network_id: 1342，//自定义网络</p><p id="87d2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// gas: 8500000，//每笔交易发送的gas(默认:~6700000)</p><p id="f924" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// gasPrice: 20000000000，// 20 gwei(在魏)(默认为100 gwei)</p><p id="1647" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// from: <address>，//发送txs的账户(默认:accounts[0])</address></p><p id="4f4c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// websocket: true //启用web3的EventEmitter接口(默认值:false)</p><p id="70d6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">// },</p><p id="414f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//对于部署到公共网络非常有用。</p><p id="2069" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// NB:将提供者包装成函数很重要。</p><p id="3eb9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// ropsten: {</p><p id="b24d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//provider:()= &gt; new hdwallet provider(助记符，' https://ropsten . in fura . io/v3/YOUR-PROJECT-id ')，</p><p id="963e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// network_id: 3，// Ropsten的id</p><p id="725a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// gas: 5500000，// Ropsten的阻塞限制比mainnet低</p><p id="f630" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// confsirmations: 2，// #在两次部署之间等待的conf。(默认值:0)</p><p id="6de3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// timeoutBlocks: 200，部署超时前的块数(最小值/默认值:50)</p><p id="e3a5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// skipDryRun: true //在迁移前跳过模拟运行？(默认值:对于公共网络为false)</p><p id="dd25" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">// },</p><p id="e4b9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//对专用网络有用</p><p id="a2c0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//私有:{</p><p id="e143" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//provider:()= &gt; new hdwallet provider(助记键，` https://network.io `)，</p><p id="b630" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// network_id: 2111，//这个网络是你的，在云端。</p><p id="fa17" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// production: true //将此网络视为公共网络。(默认值:false)</p><p id="78ba" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">// }</p><p id="bf89" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">林克比:{</p><p id="ae2e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">provider:()= &gt; new hdwallet provider(助记键，` https://rinke by . in fura . io/v3/$ { projectId } `)，</p><p id="1a08" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">network_id: 4，//林克比的id</p><p id="81ff" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">gas: 5500000，// Rinkeby的阻塞限制比mainnet低</p><p id="7aa1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">确认:2，在两次部署之间等待的确认次数。(默认值:0)</p><p id="d46a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">timeoutBlocks: 500，部署超时前的块数(最小值/默认值:50)</p><p id="2a12" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">skipDryRun: true //在迁移前跳过模拟运行？(默认值:对于公共网络为false)</p><p id="873d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">},</p><p id="ed47" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">},</p><p id="f578" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//在这里设置默认的摩卡选项，使用特殊的记者等。</p><p id="bb74" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">摩卡:{</p><p id="d9d4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//超时:100000</p><p id="5218" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">},</p><p id="582d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//配置您的编译器</p><p id="5d55" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">编译器:{</p><p id="2c53" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">solc: {</p><p id="5dd0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">版本:“0.8.9”，//从solc-bin中获取精确的版本(默认:truffle的版本)</p><p id="061d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// docker: true，//使用您已经用docker在本地安装的“0.5.1”(默认值:false)</p><p id="5fae" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//设置:{ //有关优化和版本的建议，请参见solidity文档</p><p id="1eaf" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//优化器:{</p><p id="d31a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// enabled: false，</p><p id="eac0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//运行:200</p><p id="c3d9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">// },</p><p id="070a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// evmVersion:“拜占庭”</p><p id="895d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">// }</p><p id="1630" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">}</p><p id="4131" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">},</p><p id="8d42" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// Truffle DB当前默认禁用；要启用它，请启用更改:</p><p id="3ccf" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// false为enabled: true。默认存储位置也可以是</p><p id="c2eb" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//通过指定适配器设置来重写，如下面的注释代码所示。</p><p id="c03d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">//</p><p id="c515" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//注意:不可能将您的合同迁移到truffle DB，您应该这样做</p><p id="1d42" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//在启用此功能之前，请将您的项目备份到安全的位置。</p><p id="1c03" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">//</p><p id="8c95" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//备份工件后，您可以通过运行migrate来利用DB，如下所示:</p><p id="c836" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// $ truffle迁移—重置—全部编译</p><p id="235b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">//</p><p id="0330" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// db: {</p><p id="0614" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">// enabled: false，</p><p id="63d1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//主机:“127.0.0.1”，</p><p id="9e5a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//适配器:{</p><p id="58f4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//名称:" sqlite "，</p><p id="7ef6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//设置:{</p><p id="3952" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">//目录:"。数据库"</p><p id="2376" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">// }</p><p id="1924" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">// }</p><p id="2ae1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">// }</p><p id="4143" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt">};</p><p id="ea81" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">为了避免硬编码助记符和项目id，必须在项目目录中包含一个secrets.json文件(来自Infura)。只要安全，你可以自由使用任何你选择的替代秘密管理系统。</p><p id="1ebc" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在这种情况下，所使用的文件应该包括以下内容:</p><p id="3623" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> { </strong></p><p id="5d23" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">《助记术》:“车照眼飓风鹰……”，</strong></p><p id="9000" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">“项目id”:“505 c 127050……”</strong></p><p id="e084" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> } </strong></p><h1 id="3ab9" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">资助您的测试帐户</h1><p id="f9ec" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">要获得测试帐户，Truffle将在项目中为您提供，请执行:</p><p id="f097" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> npx松露控制台—网络rinkeby </strong></p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div class="fe ff lv"><img src="../Images/eda57ce9b53b635fc1d2d474d2eeefcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/0*ru_8hKOK-WutdnJe"/></div></figure><p id="652e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">然后:</p><p id="87d9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">松露(rinkeby) &gt;账目</strong></p><p id="a5a2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">此命令将删除您可以使用的不同帐户的列表:</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div class="fe ff lw"><img src="../Images/c757de39058037c2353ec46b99ded8e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/0*6sISspfrn6WqPng-"/></div></figure><p id="9490" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">选择第一个选项。</p><p id="fada" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">发一条关于它的推特或脸书帖子。</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lx"><img src="../Images/35f13450817a15f125a38e105f2b4091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q_9PK_XdmxyPm0zA"/></div></div></figure><p id="b673" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">复制它的URL并提交给Rinkeby的水龙头。</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff ly"><img src="../Images/bad30bb7f17f87cdcc218f975bfdd10d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*18l276T-p2kd5d0k"/></div></div></figure><p id="59d5" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">现在，你有了乙醚，所以你可以开始花些钱了！</p><h1 id="c0c6" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">部署:</h1><p id="633b" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">在您的项目目录中，执行以下命令:</p><p id="5bdf" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> npx松露控制台—网络rinkeby </strong></p><p id="c85a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">松露&gt;迁移</strong></p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lz"><img src="../Images/661318506ebb344725f1b6a2f81a2861.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NYZholHM_TDNjabH"/></div></div></figure><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff ma"><img src="../Images/bd67d56a1dd1543822f68e9a1122fe06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SNDaobj7zUGS1giU"/></div></div></figure><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff mb"><img src="../Images/7c97d34d900741570404dc27edb792c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*86uum5wzMYa7B4C9"/></div></div></figure><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lz"><img src="../Images/8aea55ca628ce88aaccc58141a55cd75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*46rTPnBuiGZK9opH"/></div></div></figure><p id="63d6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">现在部署您的合同:</p><p id="522a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">mynft = await ERC 721 prestminterpauserautoid . deployed()</strong></p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff mc"><img src="../Images/7c3b420b79e7d1bcffb79f365df58921.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/0*qsFKSSNlRRIIgJ1H"/></div></div></figure><h1 id="0174" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">当合同完成时</h1><p id="8645" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">如果一切顺利，你应该可以与合同互动，所以我们将铸币1 NFT:</p><p id="87aa" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">松露(rinkeby) &gt;等待mynft . mint(" YOUR _ meta mask _ ACCOUNT _ ADDRESS ")</strong></p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff md"><img src="../Images/3cbd8ac6ef183587ec08b2060228dfe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HAoKncksNzKW02L5"/></div></div></figure><h1 id="343b" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">OpenSea</h1><p id="4eec" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">现在，我们将在OpenSea上列出我们的NFT，以便任何人都可以看到和购买。</p><p id="559c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们可以使用松露控制台在Rinkeby上找到我们的合同地址:</p><p id="0c2a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu">松露(rinkeby) &gt; mynft.address </strong></p><p id="0039" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">导航到Opensea并选择“我的收藏”，后面跟着三个竖线点表示“导入现有智能合同”</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lg"><img src="../Images/21dae9bea4c35fb3aadb04b60057d43c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JRpAYJHJzoyvIgfX"/></div></div></figure><p id="d96c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">选择“在线测试”后，复制并粘贴您的智能合同地址:</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lg"><img src="../Images/89e81f76fd276f0605f99d1360fe7bd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aMoRAV98JGzLYFS-"/></div></div></figure><p id="b6d1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">你可以看到这样的信息:“我们找不到这个合同。”请检查这是在Rinkeby上部署的合法ERC721或ERC1155合同，并且您已经在合同上创建了内容。'</p><p id="f45b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">这是一个常规问题；Opensea将显示您的令牌，但这可能需要一些时间。只要代币合约和交易在Etherscan Rinkeby上可见，就知道是真的ERC-721合约，有铸造的X东西。你可能要等12/24小时才能看到他们的非功能性消化不良。</p><p id="f1ce" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">并且，假设没有问题出现，我们应该能够在OpenSea上看到我们的NFT，结构如下:</p><p id="7994" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><a class="ae ky" href="https://rinkeby.opensea.io/assets/[nft" rel="noopener ugc nofollow" target="_blank"><strong class="iz hu">https://rinkeby . opensea . io/assets/【NFT</strong></a><strong class="iz hu">合同地址]/【令牌id】</strong></p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff me"><img src="../Images/fb9382b118d4ab004095c0c3a6ce226a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WOJwRUAw1iQ_sQKQ"/></div></div></figure><h1 id="bec8" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">将其导入到您的元掩码钱包中</h1><p id="a4f3" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">您也应该能够将您的NFTs导入到您的元掩码钱包中。只需启动Metamask Chrome扩展，输入您用于铸造的地址，然后从菜单中单击“导入令牌”。您将被要求提供合同地址，一旦复制，该地址将自动设置您之前提供的令牌符号。你还必须选择小数。</p><figure class="lh li lj lk fq iu fe ff paragraph-image"><div class="fe ff mf"><img src="../Images/703f65fd5fa31677f19772f58e33ef43.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/0*6AJVI4cM6wXDyc3u"/></div></figure><figure class="lh li lj lk fq iu fe ff paragraph-image"><div class="fe ff mg"><img src="../Images/da4917b9ff70fff3765900a6f22a5e6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:734/0*eSBTOOva3Dw9Udmv"/></div></figure><h1 id="bd94" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">以下步骤</h1><p id="2b56" class="pw-post-body-paragraph ix iy ht iz b ja kt jc jd je ku jg jh ji kv jk jl jm kw jo jp jq kx js jt ju hm dt translated">此时，有几个选项可以进一步开发您的NFTs:</p><p id="59d3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">其中之一可能是研究如何在mainnet上部署以及如何估算成本。</p><p id="eade" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">另一种可能性是在契约中包含神谕来执行确认的链外操作。</p><p id="0a22" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">检查如何直接包含所有链上元数据，以及汽油和费用是如何起作用的。</p><p id="6558" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">API可以用来提供集中的元数据。</p><p id="f204" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">制作交互式NFT。</p><p id="1549" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><em class="lc">原载于2022年7月13日</em><a class="ae ky" href="https://kryptomind.com/how-to-create-your-nft-from-scratch-and-list-it-on-opensea/" rel="noopener ugc nofollow" target="_blank"><em class="lc">https://kryptomind.com</em></a>T22。</p><blockquote class="mh"><p id="413d" class="mi mj ht bd mk ml mm mn mo mp mq ju ek translated"><em class="mr">加入Coinmonks </em> <a class="ae ky" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank"> <em class="mr">电报频道</em> </a> <em class="mr">和</em> <a class="ae ky" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> <em class="mr"> Youtube频道</em> </a> <em class="mr">了解加密交易和投资</em></p></blockquote><h1 id="bed9" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg ms ki kj kk mt km kn ko mu kq kr ks dt translated">另外，阅读</h1><ul class=""><li id="2706" class="mv mw ht iz b ja kt je ku ji mx jm my jq mz ju na nb nc nd dt translated"><a class="ae ky" rel="noopener" href="/coinmonks/3commas-review-an-excellent-crypto-trading-bot-2020-1313a58bec92">3商业评论</a> | <a class="ae ky" href="https://coincodecap.com/pionex-review-exchange-with-crypto-trading-bot" rel="noopener ugc nofollow" target="_blank"> Pionex评论</a> | <a class="ae ky" rel="noopener" href="/coinmonks/coinrule-review-2021-a-beginner-friendly-crypto-trading-bot-daf0504848ba"> Coinrule评论</a></li><li id="b69b" class="mv mw ht iz b ja ne je nf ji ng jm nh jq ni ju na nb nc nd dt translated"><a class="ae ky" rel="noopener" href="/coinmonks/ledger-vs-ngrave-zero-7e40f0c1d694">莱杰vs n格拉夫</a> | <a class="ae ky" rel="noopener" href="/coinmonks/ledger-nano-s-vs-x-battery-hardware-price-storage-59a6663fe3b0">莱杰纳诺s vs x </a> | <a class="ae ky" rel="noopener" href="/coinmonks/binance-review-ee10d3bf3b6e">币安评论</a></li><li id="b8b2" class="mv mw ht iz b ja ne je nf ji ng jm nh jq ni ju na nb nc nd dt translated"><a class="ae ky" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a> | <a class="ae ky" href="https://coincodecap.com/bingbon-review" rel="noopener ugc nofollow" target="_blank"> Bingbon评论</a></li><li id="a6f0" class="mv mw ht iz b ja ne je nf ji ng jm nh jq ni ju na nb nc nd dt translated"><a class="ae ky" rel="noopener" href="/coinmonks/bybit-exchange-review-dbd570019b71"> Bybit Exchange审查</a> | <a class="ae ky" href="https://coincodecap.com/bityard-reivew" rel="noopener ugc nofollow" target="_blank"> Bityard审查</a> | <a class="ae ky" href="https://coincodecap.com/jet-bot-review" rel="noopener ugc nofollow" target="_blank"> Jet-Bot审查</a></li><li id="a1fb" class="mv mw ht iz b ja ne je nf ji ng jm nh jq ni ju na nb nc nd dt translated"><a class="ae ky" rel="noopener" href="/coinmonks/3commas-vs-pionex-vs-cryptohopper-best-crypto-bot-6a98d2baa203">3 commas vs crypto hopper</a>|<a class="ae ky" rel="noopener" href="/coinmonks/earn-crypto-interest-b10b810fdda3">赚取加密利息</a></li></ul></div></div>    
</body>
</html>