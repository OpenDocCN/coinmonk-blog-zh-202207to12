<html>
<head>
<title>Ethernaut-CoinFlip — realm of no randomness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以太币翻转——没有随机性的领域</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/ethernaut-coinflip-realm-of-no-randomness-a2bf05faac80?source=collection_archive---------40-----------------------#2022-08-20">https://medium.com/coinmonks/ethernaut-coinflip-realm-of-no-randomness-a2bf05faac80?source=collection_archive---------40-----------------------#2022-08-20</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="9b98" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">区块链是一个巨大的huuuuuge数据库，其中没有任何东西在幕后运行。所有的交易、合同、变量状态和其他一切都在那里——等待任何想看的人。当然，这可能会产生很多安全、隐私的问题……因此，我们使用加密技术。好吧，但是如果我们不公开所有信息，事情不是更简单吗？如果有些信息不会保存在区块链呢？这个问题的答案是‘也许吧，但是我们想要区块链的所有信息’。我们需要它的原因之一是新块的生成机制。</p><h1 id="213f" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl dt translated">区块链的新街区</h1><p id="27de" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hm dt translated">区块链是一系列相连的区块。每个块包含关于区块链内部的交易、在某段时间内创建的合同等信息。每个块都由一个特殊的函数散列，比如<a class="ae kr" href="https://ethereum.stackexchange.com/questions/11572/how-does-the-keccak256-hash-function-work" rel="noopener ugc nofollow" target="_blank"> keccak256 </a>。在下一个块中使用输出散列来创建该块的散列，等等。通过这种方式，我们得到了我们的区块链。当任何块中的任何信息发生变化时，哈希也会发生变化。因此，这个街区不适合区块链的其他地方。什么时候会出现这样的事情，有两种选择:</p><ul class=""><li id="b9ae" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la dt translated">有人改变了这个街区，</li><li id="e819" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la dt translated">这条街之后每个街区都有人换了。</li></ul><p id="9da5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了判断哪个场景是真实的，区块链的节点(拥有整个区块链副本的机器)将它们的副本与区块链进行比较，寻找不同之处。如果节点间的区块链不同，算法接受最长的区块链，数据不正确的节点将被视为恶意节点。</p><p id="9f23" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">因为我知道一个视频比文字更能给予1000倍，我在这里放了一个YT的电影，它精确地描述了所有这些是如何工作的。</p><figure class="lg lh li lj fq lk"><div class="bz el l di"><div class="ll lm l"/></div></figure><p id="0e91" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">因此，我们看到，为了安全起见，区块链的一举一动的信息都是必要的。这适用于所有类型的证明，如<a class="ae kr" href="https://www.investopedia.com/terms/p/proof-work.asp" rel="noopener ugc nofollow" target="_blank">工作</a>、<a class="ae kr" href="https://www.forbes.com/advisor/ca/investing/cryptocurrency/proof-of-stake/" rel="noopener ugc nofollow" target="_blank">股份</a>或<a class="ae kr" href="https://www.investopedia.com/terms/p/proof-capacity-cryptocurrency.asp" rel="noopener ugc nofollow" target="_blank">产能</a>。</p><h1 id="16c9" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl dt translated">随机性</h1><p id="9e0e" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hm dt translated">嗯，但是当其他节点必须拥有相同的数据时，我们如何在智能契约中使用随机性呢？有人可能会考虑使用散列函数，并使用块的数量、某种契约的地址以及其他一些类似于以太网中的<a class="ae kr" href="https://ethernaut.openzeppelin.com/level/0x4dF32584890A0026e56f7535d0f2C6486753624f" rel="noopener ugc nofollow" target="_blank">这一阶段</a>中制作的东西。但这不是真正的随机，其结果是可以预测的，就像我在<a class="ae kr" href="https://github.com/eszymi/Ethernaut" rel="noopener ugc nofollow" target="_blank">我的解决方案</a>中所做的那样。我是怎么做到的？让我们提醒我，我们能够从区块链获得每一个信息，所以我们可以让我们的程序并行工作，并以同样的方式作为我们想要复制的合同(关于以太网合同中使用的blockhash和block.number，我在另一篇<a class="ae kr" rel="noopener" href="/@eszymi/ethernaut-telephone-who-are-there-a2a24c65a129">帖子</a>中写了)。</p><p id="6b61" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">所以现在我们有一个问题。随机性在各种场合都是非常必要的。我们应该想出如何取代它，我们应该只创建不需要随机的程序吗？幸好没有。</p><p id="d221" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Chainlink是一个创造了工具的组织，感谢我们可以在智能合同中自由使用随机性。因为他们对这个工具做了很好的介绍，所以我只添加了一个<a class="ae kr" href="https://docs.chain.link/docs/vrf/v2/introduction/" rel="noopener ugc nofollow" target="_blank">链接</a>并跳过了我自己的描述。</p><figure class="lg lh li lj fq lk fe ff paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="fe ff ln"><img src="../Images/00f50176a5b295dc6b383e31bf562732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bAqBGTFUT4qj6atQ.jpg"/></div></div><figcaption class="lu lv fg fe ff lw lx bd b be z ek">Logo of Chainlink</figcaption></figure><p id="08f9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当我们想使用随机性时，总是使用像Chainlink这样的工具是非常重要的。因为在其他任何情况下，我们的合同都是脆弱的。</p></div><div class="ab cl ly lz hb ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="hm hn ho hp hq"><p id="2409" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我希望这篇文章对你有用。如果你有任何想法，我如何能使我的帖子更好，请告诉我。我随时准备学习。你可以在<a class="ae kr" href="https://pl.linkedin.com/in/szymon-skrzy%C5%84ski-881462214" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>和<a class="ae kr" href="https://t.me/eszymi" rel="noopener ugc nofollow" target="_blank"> Telegram </a>上和我连线。</p><p id="0b39" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你想和我谈论这个话题或者我写的其他话题，请随意。我乐于交谈。</p><p id="f9fe" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">快乐学习！</p><blockquote class="mf"><p id="ab27" class="mg mh ht bd mi mj mk ml mm mn mo jn ek translated">交易新手？尝试<a class="ae kr" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或<a class="ae kr" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>