# 我们如何在 rhino.fi 建立多链 zk 汇总

> 原文：<https://medium.com/coinmonks/how-weve-built-a-multi-chain-zk-rollup-at-rhino-fi-774fb6291d04?source=collection_archive---------19----------------------->

rhino.fi 是从主要的以太坊区块链涌现出来的零知识(zk)一代人之一。我们的目标是解决以太坊的可扩展性挑战，并利用 zk 技术的速度和效率优势推动 DeFi 的大规模采用。

然而，我们认识到，就其更广泛的认知度而言，零知识技术名副其实。很少有人知道它，更少人理解它。作为 zk rollup 项目的集合，到目前为止，我们还没有很好地解释创新。

因此，在本文中，我们将努力纠正这一点。我们将介绍如何使用 zk tech 构建我们的[无摩擦多链网关](https://app.rhino.fi/)，并在此过程中回答以下问题:

*   **什么是 zk 汇总，他们的技术是如何工作的？**
*   **ZK 汇总 vs 乐观汇总:有什么区别？**
*   rhino.fi 如何将 zk 技术应用到我们的项目中？
*   为什么我们选择了 zk tech 的这个版本，它为我们的用户提供了什么好处？

# 好的，首先:什么是 zk 汇总，术语“zk 技术”在实践中是什么意思？

像 rhino.fi 这样的 ZK 汇总项目使用一种被称为零知识验证的验证机制。

当进行交易时，该技术使证明方能够向验证方证明交易是有效的，而不泄露关于交易本身或所涉及的各方的任何信息。所以它提供了完全的隐私和最大的安全性。

证明者面临着解决一系列数学方程的挑战，如果没有关于交易的特定知识，这些数学方程是不可能的。如果要打个比方，就像穿过一个迷宫，里面有一系列的门，每扇门上都标有一个特殊的数字，供你收集。在迷宫的尽头，你通过以正确的顺序重复所有的数字来证明你走对了路。

这与乐观汇总相反，乐观汇总简单地假设所有事务在默认情况下都是有效的(因此得名)，并且仅在社区质询时运行计算。

zk 汇总和乐观汇总都有相同的核心目标:让区块链交易更快，并解决主要的以太坊区块链上发现的一些问题，这些问题受到极度拥堵和交易速度缓慢的困扰。

然而，由于 zk 汇总检查每一笔交易，并且在主以太坊区块链上发布交易数据时必须提交正式的“有效性证明”,因此它们提供了比乐观汇总更强的安全属性。

我们已经写了一个关于 zk 汇总项目如何工作的完整解释，它详细地涵盖了 zk 汇总和**乐观**汇总之间的差异(顺便提一下，人们经常谈论‘ZK 汇总 vs 乐观汇总’，但事实上乐观是一个品牌名称——乐观汇总是正确的术语)。

反正我们跑题了。你可以在这里找到讲解人[。](https://rhino.fi/blog/rhinolearn-what-are-zero-knowledge-zk-proofs-and-why-do-we-need-them/)

# 好的，那么 rhino.fi 是如何应用 zk 技术的呢？

现在你知道什么是 zk 汇总，我们可以深入研究我们如何应用这项技术来促进链之间的高速、低成本交易。

rhino.fi 使用 StarkEx 构建，StarkEx 是一种第 2 层技术，利用零知识验证来提供可扩展的非托管交易。

StarkEx 技术包括一个证明者和一个验证者:换句话说，它既可以设置数学难题，又可以解决它们，从而证明交易细节是有效的。

StarkEx 系统分为四个关键步骤:

1.  我们批量处理一批离线交易，然后一起发送给 StarkEx。
2.  StarkEx 服务验证批中的所有交易，并更新相关余额。
3.  StarkEx 生成一个 STARK 证明，确认该批中所有交易的有效性，并将该证明发布在主以太坊区块链上。
4.  一份连锁智能合同就是最好的证明。一旦该证明被验证，对新的平衡状态的承诺被存储在链上。

至关重要的是，我们在任何阶段都不会控制你的资金。您保持完全控制，通过用户签名同意我们代表您进行交易。

# 我们为什么采用这种制度？

区块链的演变是基于妥协。

除了让区块链更具可扩展性(换句话说，每秒钟允许更多的交易)之外，我们还希望实现完全的去中心化和最大限度的安全性，这超出了您从旧的法定银行获得的保护。

这是一个微妙的平衡动作。增加的可伸缩性通常会导致安全性和/或分散性降低。这通常被称为区块链的“三难困境”，因为这三个目标很难同时满足。

在这种背景下，我们认为 StarkEx 提供了最好的一系列好处。我们是第一个与 StarkWare 合作将这项技术带给用户的人，从那以后，它已经被许多其他团队使用，如 dYdX 和 ImmutableX。

一方面，内置的 zk 技术方便了近乎即时的交易和转账，以及我们用户的低费用。然而，它也是私有的，并保留自我主权——我们不拥有你的资金，你拥有。

# 最后，ZK 理工在我们的多链系统中扮演什么角色？

还有其他几个 zk rollup 项目，但是每个都有不同的侧重点。

一些，如 zkSync，正致力于以更低的成本建立一个完全兼容 EVM 的 rollup，以反映以太坊的确切功能。其他人的目标是创建高度可扩展的衍生品交易所，如 dYdX。在 rhino.fi，我们希望利用该技术构建一个单一、统一的平台，以便在所有连锁店中获得最佳的 DeFi。

StarkEx 在我们的智能合同系统中提供路由器；所有单个链条环绕的中心枢纽。当你在 rhino.fi 上进行跨链交易时，你可以在 StarkEx 上进行，根本不需要接触你想要的链。事实上，你所需要做的就是指出你想做的交换。

要更详细地分析这是如何工作的，请前往我们关于智能合约的专用博客文章，你会得到一个完整的解释。

# 好了，这就是 zk rollups 的深层含义和我们的工作原理

我们也强烈建议你去看看[以太坊的 zk 科技](https://ethereum.org/en/zero-knowledge-proofs/)指南，并阅读 [StarkWare 对 StarkEx](https://starkware.co/starkex/) 的解释。它们都写得很好，补充了你在这篇博文中学到的东西。

如果您对 zk rollup 项目或任何其他与这个极其复杂的主题相关的问题有任何疑问，请联系我们，我们将很高兴与您一起进入杂草中。

因为我们喜欢这个概念。可能叫零知识，但不代表零理解。

> 交易新手？尝试[加密交易机器人](/coinmonks/crypto-trading-bot-c2ffce8acb2a)或[复制交易](/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c)