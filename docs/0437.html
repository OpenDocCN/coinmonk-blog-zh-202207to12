<html>
<head>
<title>Understanding SMART CONTRACT — BYTECODE &amp; ABI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解智能合约——字节码和ABI</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/understanding-smart-contract-bytecode-abi-4747b1616450?source=collection_archive---------2-----------------------#2022-07-09">https://medium.com/coinmonks/understanding-smart-contract-bytecode-abi-4747b1616450?source=collection_archive---------2-----------------------#2022-07-09</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/632a11ff259e91f5f4ceffe8164e215d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*khyQillRqJxYk3mPgvhH6Q.png"/></div></div><figcaption class="ic id fg fe ff ie if bd b be z ek">Smart Contract</figcaption></figure><div class=""/><p id="bb57" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在上一篇文章中，我们看到了智能合同如何优于纸质合同。在这里阅读👉I <a class="ae kd" href="https://taniskannpurna.hashnode.dev/introduction-to-smart-contracts" rel="noopener ugc nofollow" target="_blank"> ntro智能合约</a></p><h1 id="875d" class="ke kf ii bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">让我们开始…</h1><p id="7bfb" class="pw-post-body-paragraph jf jg ii jh b ji lc jk jl jm ld jo jp jq le js jt ju lf jw jx jy lg ka kb kc hm dt translated">我们已经看到智能合同如何优于旧的纸质合同，以及EVM如何确保智能合同信守承诺。</p><p id="a8cd" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">现在，EVM不懂任何高级语言。它能理解低级语言。因此，我们需要将我们的智能合同转换成低级语言，即字节码。</p><p id="b423" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">💜<strong class="jh ij">字节码</strong><br/>——字节码是一种由数字和字母组合而成的低级语言。字节码很难写也很难读。基本上它不是人类可读的。使用不同的框架，比如solcjs、ethers、hardhat等等，我们可以将智能合约转换成字节码。这是字节码寻找一个非常小而简单的智能契约的方式。<br/><br/><strong class="jh ij">608060405234801561001057600080 FD 5b 5061077180610020600396000 F3 Fe 60806040523480156100105760080 FD 5b 5060436106100061005757760000000。<br/> - EVM是一个堆栈机器，这意味着它使用堆栈来运行任何脚本。它存储函数，推送函数，弹出函数等等。字节码可能看起来乱码，但它们是EVM如何与堆栈交互的命令。如果我们将这些字节码转换成操作码，也就是操作码，我们将会看到这些组合是如何或向EVM发出什么命令的。<br/> -有很多网站可以转换字节码- &gt;操作码。我正在使用以太扫描。<br/>👉[https://etherscan . io/opcode-tool](链接)</strong></p><blockquote class="lh li lj"><p id="0cf1" class="jf jg lk jh b ji jj jk jl jm jn jo jp ll jr js jt lm jv jw jx ln jz ka kb kc hm dt translated">交易新手？试试<a class="ae kd" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或者<a class="ae kd" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote><p id="d92a" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这就是我们得到的…</p><blockquote class="lh li lj"><p id="e234" class="jf jg lk jh b ji jj jk jl jm jn jo jp ll jr js jt lm jv jw jx ln jz ka kb kc hm dt translated">[0]DUP1<br/>[2]push 1 0x 40<br/>[3]m store<br/>[4]call value<br/>[5]DUP1<br/>[6]is zero<br/>[9]push 2 0x 010<br/>[10]jump I<br/>[12]push 1 0x 00<br/>[13]DUP1<br/>[14]REVERT<br/>[15]dest jump<br/>[16]POP【POP👉请记住，EVM将每个数字都视为十六进制数。“0x”表示该数字是十六进制数。现在在EVM的例子中，它不需要任何“0x ”,因为它将每个数字都视为十六进制。所以“0x40”在EVM我们可以把它仅仅看成“40”。*</p></blockquote><p id="22fd" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这些不同的命令帮助了EVM。下面是他们的意思<br/>T1 1。PUSH1 0x40  - &gt;这意味着将1字节的值“0x40”放入堆栈。现在PUSH1的十六进制值是“60”。所以命令变成了“6040”。<br/> <strong class="jh ij"> 2。MSTORE </strong> - &gt;这将分配0x60的内存，并将0x40移入其中。MSTORE的十六进制代码是“0x52”。</p><blockquote class="lh li lj"><p id="cfe3" class="jf jg lk jh b ji jj jk jl jm jn jo jp ll jr js jt lm jv jw jx ln jz ka kb kc hm dt translated">所以这些的最终字节码变成… <br/> <em class="ii"> 604052 </em></p></blockquote><p id="3e1e" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这样，每一个字节码都有它们的意义，并告诉EVM该做什么。我们不需要知道每一个字节码对编写智能契约意味着什么。仅仅知道它做什么是好的。但是如果你想了解更多，这里有一个链接会很有帮助[ether VM . io](<a class="ae kd" href="https://www.ethervm.io/" rel="noopener ugc nofollow" target="_blank">https://www.ethervm.io/</a>)。</p><p id="fb31" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在上一篇文章中我们看到了ABI。好吧，智能合约只有在有人可以使用时才是好的。所以这里帮助ABI。</p><p id="c206" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">💜<strong class="jh ij">ABI</strong><br/>——ABI代表应用二进制接口。ABI的代码不像字节码那样复杂，是人类可读的。<br/>——ABI长这样:</p><blockquote class="lh li lj"><p id="af31" class="jf jg lk jh b ji jj jk jl jm jn jo jp ll jr js jt lm jv jw jx ln jz ka kb kc hm dt translated"><strong class="jh ij"><br/>{<br/>【inputs】:<br/>{<br/>【internal type】:" string "、<br/>【name】:" _ name "、<br/>【type】:" string "<br/>}、<br/>{<br/>【internal type ":" uint 256 "、<br/>" name ":" _ favorite number "、<br/>【type】:" uint 256 "<br/>}<br/></strong></p></blockquote><p id="527b" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">-正如我们所看到的，这些只是JSON格式的文件，扩展名为。abi <br/> -如果我们仔细观察，这些abi包含类似的类型:“函数”或“uint256”或“字符串”。<br/> -这些文件包含关于智能合约的所有细节，如变量、变量类型、变量名称、函数名称、访问修饰符、可支付或不可支付等等。</p><p id="eae0" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">Ex-&gt;当类型为“uint256”或“string”时，这意味着它是一个变量，但当类型为“function”时，这意味着它是一个函数。</p><p id="c492" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">-当JavaScript想要与智能合约交互时使用它，这就是abi的用武之地。没有abi，就不会有任何交互，你不能调用任何函数或做任何事情。</p><p id="f363" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">💜让我们总结一下…</p><p id="4d31" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">-智能合约需要字节码和abi才能运行。字节码是非人类可读的，它告诉EVM如何执行智能合同。<br/> -字节码可以转换成人类可读的操作码。<br/> -字节码中的每个数字在EVM中都意味着一个命令。EVM认为每个数字都是十六进制的。<br/> - ABI是一个扩展名为. ABI的JSON文件。它包含了关于变量、访问修饰符、函数、它们的返回类型等等的细节。<br/> - ABI让JavaScript调用智能合约中的函数成为可能。</p><p id="7a6b" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">👉请记住，如果您能编写正确的字节码和ABI，您可以简单地将其部署在链上。</p><p id="5188" class="pw-post-body-paragraph jf jg ii jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在下一篇文章中，我们将看到如何将智能合约转换成字节码和ABI。我们还将了解可靠性的基础知识，以及如何编写智能合同和部署。</p><blockquote class="lh li lj"><p id="300c" class="jf jg lk jh b ji jj jk jl jm jn jo jp ll jr js jt lm jv jw jx ln jz ka kb kc hm dt translated"><strong class="jh ij">你好，我是Tanisk Annpurna <br/>我发布关于<br/>的消息🚀web3、区块链、以太坊<br/>🐦智能合同，可靠性<br/>🎉JavaScript、ReactJS、NodeJS <br/>关注并喜欢更多这样的帖子。！！✌️!！</strong></p></blockquote><blockquote class="lo"><p id="ebb5" class="lp lq ii bd lr ls lt lu lv lw lx kc ek translated">加入Coinmonks <a class="ae kd" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae kd" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="2cd1" class="ke kf ii bd kg kh ki kj kk kl km kn ko kp ly kr ks kt lz kv kw kx ma kz la lb dt translated">另外，阅读</h1><ul class=""><li id="b313" class="mb mc ii jh b ji lc jm ld jq md ju me jy mf kc mg mh mi mj dt translated"><a class="ae kd" href="https://coincodecap.com/binance-futures-trading" rel="noopener ugc nofollow" target="_blank">币安期货交易</a>|<a class="ae kd" href="https://coincodecap.com/mudrex-3commas-etoro" rel="noopener ugc nofollow" target="_blank">3 comas vs Mudrex vs eToro</a></li><li id="be7d" class="mb mc ii jh b ji mk jm ml jq mm ju mn jy mo kc mg mh mi mj dt translated"><a class="ae kd" href="https://coincodecap.com/buy-monero" rel="noopener ugc nofollow" target="_blank">如何购买Monero </a> | <a class="ae kd" href="https://coincodecap.com/idex-review" rel="noopener ugc nofollow" target="_blank"> IDEX评论</a> | <a class="ae kd" href="https://coincodecap.com/bitkan-trading-bot" rel="noopener ugc nofollow" target="_blank"> BitKan交易机器人</a></li><li id="6c4f" class="mb mc ii jh b ji mk jm ml jq mm ju mn jy mo kc mg mh mi mj dt translated"><a class="ae kd" rel="noopener" href="/coinmonks/coindcx-review-8444db3621a2"> CoinDCX评论</a> | <a class="ae kd" href="https://coincodecap.com/crypto-margin-trading-exchanges" rel="noopener ugc nofollow" target="_blank">加密保证金交易交易所</a></li><li id="458c" class="mb mc ii jh b ji mk jm ml jq mm ju mn jy mo kc mg mh mi mj dt translated"><a class="ae kd" href="https://coincodecap.com/red-dog-casino-review" rel="noopener ugc nofollow" target="_blank">红狗赌场评论</a> | <a class="ae kd" href="https://coincodecap.com/swyftx-review" rel="noopener ugc nofollow" target="_blank"> Swyftx评论</a> | <a class="ae kd" href="https://coincodecap.com/coingate-review" rel="noopener ugc nofollow" target="_blank"> CoinGate评论</a></li><li id="6424" class="mb mc ii jh b ji mk jm ml jq mm ju mn jy mo kc mg mh mi mj dt translated"><a class="ae kd" href="https://coincodecap.com/bookmap-review-2021-best-trading-software" rel="noopener ugc nofollow" target="_blank"> Bookmap评论</a> | <a class="ae kd" href="https://coincodecap.com/crypto-exchange-usa" rel="noopener ugc nofollow" target="_blank">美国5大最佳加密交易所</a></li></ul></div></div>    
</body>
</html>