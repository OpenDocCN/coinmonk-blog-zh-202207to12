<html>
<head>
<title>Token Gating With Lit Protocol</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于Lit协议的令牌门控</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/token-gating-with-lit-protocol-b27ef6141696?source=collection_archive---------7-----------------------#2022-09-16">https://medium.com/coinmonks/token-gating-with-lit-protocol-b27ef6141696?source=collection_archive---------7-----------------------#2022-09-16</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="15ec" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这是文章B<a class="ae jo" rel="noopener" href="/@kingzamzon/beginner-guide-to-lit-protocol-b939d7e06672">Lit协议的入门指南</a>的延续，以防你错过。在本文中，我将带您了解使用Lit协议的令牌选通URL。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/6ec4e055678a899870a5d8645afe96bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OUSFOWIHSPUByUDQz1OCMg.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Lit Protocol Homepage at <a class="ae jo" href="https://litprotocol.com/" rel="noopener ugc nofollow" target="_blank">https://litprotocol.com/</a></figcaption></figure><p id="5c78" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">什么是令牌门控？</strong> <br/>令牌门控是一种<strong class="is hu">方法，通过要求客户获得特定的NFT或令牌数量来控制和限制对独家内容的访问</strong>。简而言之，代币或NFT被用作打开特定大门钥匙。</p><p id="9cbf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">什么是访问控制条件？</strong> <br/>在Lit JS SDK中，访问控制条件是您想要检查的规则，例如，用户拥有多个令牌，用户是DOA的成员。<a class="ae jo" href="https://developer.litprotocol.com/AccessControlConditions/intro" rel="noopener ugc nofollow" target="_blank">参见此处的示例</a>。</p><p id="b035" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">先决条件:</strong> <br/>使用<a class="ae jo" rel="noopener" href="/@kingzamzon/token-gating-with-lit-protocol-b27ef6141696"> OpenZeppelin向导</a>创建一个EIP 721智能合约并部署。</p><p id="bdb2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">入门</strong> <br/>要开始，我们必须创建一个新的Next应用程序，下一个是react框架</p><pre class="jq jr js jt fq kf kg kh ki aw kj dt"><span id="6202" class="kk kl ht kg b fv km kn l ko kp">npx create-next-app@latest</span></pre><p id="e90f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">安装Lit协议JS SDK </strong> <br/>修改目录进入新创建的下一个项目，下一个默认的app名称是my-app，<code class="eh kq kr ks kg b">cd my-app</code></p><pre class="jq jr js jt fq kf kg kh ki aw kj dt"><span id="fc11" class="kk kl ht kg b fv km kn l ko kp">yarn add lit-js-sdk</span></pre><p id="e3ab" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在您应该在package.json依赖项中看到<code class="eh kq kr ks kg b">lit-js-sdk</code></p><p id="25df" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">将下一个应用程序连接到Lit协议</strong> <br/>更新您的<code class="eh kq kr ks kg b">pages/index.js</code></p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="kt ku l"/></div></figure><p id="348c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们使用下面的命令在本地运行web应用程序，并在您的浏览器中导航到<code class="eh kq kr ks kg b"><a class="ae jo" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a></code>。</p><pre class="jq jr js jt fq kf kg kh ki aw kj dt"><span id="5c56" class="kk kl ht kg b fv km kn l ko kp">npm run dev</span></pre><p id="6e4a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">打开你的浏览器控制台，点击连接按钮，你的浏览器控制台将显示你的应用程序和Lit协议之间的交互。如果成功连接。你最后的两个游戏机将是<code class="eh kq kr ks kg b">lit is ready</code>和<code class="eh kq kr ks kg b">Am Connected</code>。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kv"><img src="../Images/025389d22fd45ea615c3c2e2fad084d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZbpbIVlBSm7uUjIIQoJwXA.png"/></div></div></figure><p id="9b71" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果需要，可能会提示您切换网络，如果成功，它会在您的浏览器控制台中返回签名。</p><p id="545d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在我们已经连接了JS SDK，让我们进入联系我们页面。我们只希望已经获得我们的NFT的用户在我们的网站上与我们联系，对于这个演示NFT部署在多边形孟买网络:<a class="ae jo" href="https://mumbai.polygonscan.com/address/0xd65fd8e1ee88b23cc2937dce6323b21615737613" rel="noopener ugc nofollow" target="_blank">0x d 65 FD 8e 1 ee 88 b 23 cc 2937 DCE 6323 b 21615737613</a></p><p id="1ae5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">安装cookie，js-cookie和uuid: </strong> <br/> Lit JS SDK在握手验证的时候会返回jwt token，我们会使用cookie和js-cookie包来存储这个token。uuid将用于为访问联系我们路线的用户生成唯一id。</p><pre class="jq jr js jt fq kf kg kh ki aw kj dt"><span id="f7f2" class="kk kl ht kg b fv km kn l ko kp">yarn add cookies js-cookie uuid</span></pre><p id="4fdb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">在您的项目根目录下创建context.js文件:</strong> <br/>我们将共享由uuid包生成的唯一ID，用于联系我们页面的唯一标识。</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="kt ku l"/></div></figure><p id="d0ff" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">编辑</strong> <code class="eh kq kr ks kg b"><strong class="is hu">pages/_app.js</strong></code> <strong class="is hu"> : </strong></p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="kt ku l"/></div></figure><p id="02b5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">更新</strong> <code class="eh kq kr ks kg b"><strong class="is hu">pages/index.js</strong></code> <strong class="is hu"> : </strong></p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="kt ku l"/></div></figure><p id="18e8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">C <strong class="is hu">在pages目录下创建</strong> <code class="eh kq kr ks kg b"><strong class="is hu">contactus.js</strong></code> <strong class="is hu">文件:</strong></p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="kt ku l"/></div></figure><p id="7e52" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">访问<a class="ae jo" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>点击连接按钮，使用您之前创建的NFT的所有者帐户。完成后，在metamask上创建另一个帐户并与之连接。祝贺你🎈您只需使用Lit协议令牌网关一个URL。</p><p id="d303" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">资源:</strong></p><div class="kw kx fm fo ky kz"><a href="https://developer.litprotocol.com/docs/ToolsAndExamples/SDKExamples/EncryptAndDecrypt/installation" rel="noopener  ugc nofollow" target="_blank"><div class="la ab ej"><div class="lb ab lc cl cj ld"><h2 class="bd hu fv z el le eo ep lf er et hs dt translated">安装| Lit协议开发人员文档</h2><div class="lg l"><h3 class="bd b fv z el le eo ep lf er et ek translated">您可以使用Lit来加密和存储任何静态内容。这可能是一个文件，一个字符串，或者任何不会改变的东西…</h3></div><div class="lh l"><p class="bd b gc z el le eo ep lf er et ek translated">developer.litprotocol.com</p></div></div></div></a></div><div class="kw kx fm fo ky kz"><a href="https://github.com/dabit3/nextjs-lit-token-gating" rel="noopener  ugc nofollow" target="_blank"><div class="la ab ej"><div class="lb ab lc cl cj ld"><h2 class="bd hu fv z el le eo ep lf er et hs dt translated">GitHub-dabi T3/nextjs-lit-token-gating:使用Next.js和Lit进行令牌门控的最小示例…</h2><div class="lg l"><h3 class="bd b fv z el le eo ep lf er et ek translated">这是一个简单的例子，展示了如何通过getServerSideProps使用Lit协议对Next.js页面进行令牌控制。这个令牌…</h3></div><div class="lh l"><p class="bd b gc z el le eo ep lf er et ek translated">github.com</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jz kz"/></div></div></a></div><blockquote class="lo"><p id="f2f8" class="lp lq ht bd lr ls lt lu lv lw lx jn ek translated">交易新手？尝试<a class="ae jo" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或<a class="ae jo" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>