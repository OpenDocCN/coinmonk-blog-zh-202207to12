<html>
<head>
<title>Enum in solidity from zero to hero</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从零到英雄</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/enum-in-solidity-from-zero-to-hero-f709796b1670?source=collection_archive---------14-----------------------#2022-10-13">https://medium.com/coinmonks/enum-in-solidity-from-zero-to-hero-f709796b1670?source=collection_archive---------14-----------------------#2022-10-13</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/151efb9e21169a92d5929fd2f41b910f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RVqjdF6UiVJqAMoW2PFY5g.jpeg"/></div></div></figure><h1 id="dc60" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">列举型别</h1><ul class=""><li id="aa01" class="jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dt translated">枚举是在solidity中创建用户定义类型的一种方式</li><li id="9a49" class="jz ka ht kb b kc kr ke ks kg kt ki ku kk kv km kn ko kp kq dt translated">枚举是值类型，包括预定义的常数值列表</li><li id="18e0" class="jz ka ht kb b kc kr ke ks kg kt ki ku kk kv km kn ko kp kq dt translated">带有枚举的常量值可以显式转换为整数</li><li id="fc46" class="jz ka ht kb b kc kr ke ks kg kt ki ku kk kv km kn ko kp kq dt translated">每个常数值从零开始得到一个整数值</li><li id="71e5" class="jz ka ht kb b kc kr ke ks kg kt ki ku kk kv km kn ko kp kq dt translated">枚举需要至少一个数字</li><li id="8ebf" class="jz ka ht kb b kc kr ke ks kg kt ki ku kk kv km kn ko kp kq dt translated">枚举不能超过256个成员</li><li id="6543" class="jz ka ht kb b kc kr ke ks kg kt ki ku kk kv km kn ko kp kq dt translated">不能使用数字(正数或负数)或布尔值(小写的true或false)作为枚举的成员。然而，真假(大写)都是可以接受的。</li><li id="be7f" class="jz ka ht kb b kc kr ke ks kg kt ki ku kk kv km kn ko kp kq dt translated">不需要用分号结束枚举声明。编译器使用分号；和花括号{}来确定代码的范围</li><li id="d964" class="jz ka ht kb b kc kr ke ks kg kt ki ku kk kv km kn ko kp kq dt translated">使用类型(枚举的名称)。min获得最小值</li><li id="10c4" class="jz ka ht kb b kc kr ke ks kg kt ki ku kk kv km kn ko kp kq dt translated">使用类型(枚举的名称)。max获得最大值</li></ul><h1 id="6962" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">枚举的示例</h1><pre class="kw kx ky kz fq la lb lc ld aw le dt"><span id="10d8" class="lf jc ht lb b fv lg lh l li lj">enum status {ON,OFF}<br/>status lightOn=status.ON;<br/>status lightOff=status.OFF</span></pre><figure class="kw kx ky kz fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lk"><img src="../Images/6199746e4cde8fb44a6027629d3a69a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QT-oO1X0iyfoQ7czj3dVAg.jpeg"/></div></div><figcaption class="ll lm fg fe ff ln lo bd b be z ek">enum example in solidity</figcaption></figure><h1 id="6e3d" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">装运示例</h1><figure class="kw kx ky kz fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/689722ab03f7f6ebf8e812a07c91d17e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ub3hv3I40CxsorQot5jYjw.jpeg"/></div></div></figure><pre class="kw kx ky kz fq la lb lc ld aw le dt"><span id="2708" class="lf jc ht lb b fv lg lh l li lj">// SPDX-License-Identifier: GPL-3.0<br/>pragma solidity ^0.8.16;<br/>contract enumTest{</span><span id="6ec8" class="lf jc ht lb b fv lp lh l li lj">enum shipMent{notFound,approved,rejected}<br/>shipMent status;<br/>shipMent defaultStatus=shipMent.notFound;</span><span id="257a" class="lf jc ht lb b fv lp lh l li lj">function setToApproved() public{<br/>status=shipMent.approved;<br/>}</span><span id="8370" class="lf jc ht lb b fv lp lh l li lj">function setToRejected() public{<br/>status=shipMent.rejected;<br/>}</span><span id="2c29" class="lf jc ht lb b fv lp lh l li lj">function getChoise() public view returns(shipMent){<br/>return status;<br/>}</span><span id="a512" class="lf jc ht lb b fv lp lh l li lj">function getDefaultStatus() public view returns(shipMent){<br/>return defaultStatus;<br/>}</span><span id="72b8" class="lf jc ht lb b fv lp lh l li lj">function getSmallestValue() public pure returns(shipMent){<br/>return type(shipMent).min;<br/>}</span><span id="6652" class="lf jc ht lb b fv lp lh l li lj">function getLargestValue() public pure returns(shipMent){<br/>return type(shipMent).max;<br/>}<br/>}</span></pre><h1 id="411d" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">可靠性文档示例</h1><pre class="kw kx ky kz fq la lb lc ld aw le dt"><span id="8dd3" class="lf jc ht lb b fv lg lh l li lj">// SPDX-License-Identifier: GPL-3.0<br/>pragma solidity ^0.8.8;<br/><br/>contract test {<br/>    <strong class="lb hu">enum</strong> ActionChoices { GoLeft, GoRight, GoStraight, SitStill }<br/>    ActionChoices choice;<br/>    ActionChoices constant defaultChoice = ActionChoices.GoStraight;<br/><br/>    function setGoStraight() public {<br/>        choice = ActionChoices.GoStraight;<br/>    }<br/><br/><br/>    function getChoice() public view returns (ActionChoices) {<br/>        return choice;<br/>    }<br/><br/>    function getDefaultChoice() public pure returns (uint) {<br/>        return uint(defaultChoice);<br/>    }<br/><br/>    function getLargestValue() public pure returns (ActionChoices) {<br/>        return type(ActionChoices).max;<br/>    }<br/><br/>    function getSmallestValue() public pure returns (ActionChoices) {<br/>        return type(ActionChoices).min;<br/>    }<br/>}</span></pre><h1 id="00a2" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">极客给极客的例子</h1><pre class="kw kx ky kz fq la lb lc ld aw le dt"><span id="28b9" class="lf jc ht lb b fv lg lh l li lj">// Solidity program to demonstrate<br/>// how to use 'enumerator'<br/>pragma solidity ^0.5.0;</span><span id="9c0a" class="lf jc ht lb b fv lp lh l li lj">// Creating a contract<br/>contract Types {</span><span id="e74f" class="lf jc ht lb b fv lp lh l li lj">// Creating an enumerator<br/> enum week_days<br/> {<br/> Monday,<br/> Tuesday,<br/> Wednesday,<br/> Thursday,<br/> Friday,<br/> Saturday,<br/> Sunday<br/> }</span><span id="68b0" class="lf jc ht lb b fv lp lh l li lj">// Declaring variables of<br/> // type enumerator<br/> week_days week;<br/> <br/> week_days choice;</span><span id="0ff8" class="lf jc ht lb b fv lp lh l li lj">// Setting a default value<br/> week_days constant default_value<br/> = week_days.Sunday;<br/> <br/> // Defining a function to<br/> // set value of choice<br/> function set_value() public {<br/> choice = week_days.Thursday;<br/> }</span><span id="92d2" class="lf jc ht lb b fv lp lh l li lj">// Defining a function to<br/> // return value of choice<br/> function get_choice(<br/> ) public view returns (week_days) {<br/> return choice;<br/> }<br/> <br/> // Defining function to<br/> // return default value<br/> function getdefaultvalue(<br/> ) public pure returns(week_days) {<br/>  return default_value;<br/> }<br/>}</span></pre><h1 id="5cda" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">果汁大小示例</h1><pre class="kw kx ky kz fq la lb lc ld aw le dt"><span id="ca26" class="lf jc ht lb b fv lg lh l li lj">// SPDX-License-Identifier: GPL-3.0<br/>pragma solidity ^0.8.0;</span><span id="45bd" class="lf jc ht lb b fv lp lh l li lj">contract test {</span><span id="cac1" class="lf jc ht lb b fv lp lh l li lj">// predefined value enum EnumName<br/>enum FreshJuiceSize{ SMALL, MEDIUM, LARGE }</span><span id="7b9d" class="lf jc ht lb b fv lp lh l li lj">//Enum variable<br/>FreshJuiceSize choice;</span><span id="6b8d" class="lf jc ht lb b fv lp lh l li lj">// access default choice<br/>FreshJuiceSize constant defaultChoice = FreshJuiceSize.MEDIUM;</span><span id="3032" class="lf jc ht lb b fv lp lh l li lj">function setLarge() public {<br/>choice = FreshJuiceSize.LARGE;<br/>}</span><span id="4e96" class="lf jc ht lb b fv lp lh l li lj">function getChoice() public view returns (FreshJuiceSize) {<br/>return choice;<br/>}</span><span id="a785" class="lf jc ht lb b fv lp lh l li lj">function getDefaultChoice() public pure returns (uint) {<br/>return uint(defaultChoice);<br/>}</span><span id="bdcf" class="lf jc ht lb b fv lp lh l li lj">}</span></pre><h1 id="8714" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">已装运状态</h1><pre class="kw kx ky kz fq la lb lc ld aw le dt"><span id="82cd" class="lf jc ht lb b fv lg lh l li lj">// SPDX-License-Identifier: MIT<br/>pragma solidity ^0.8.0;</span><span id="db6e" class="lf jc ht lb b fv lp lh l li lj">contract Enum {<br/>//enum representing shipping status<br/>enum Status {Pending,Shipped, Accepted, Rejected,Canceled}</span><span id="9047" class="lf jc ht lb b fv lp lh l li lj">//enum variable, Default value  pending =0<br/>Status public status;</span><span id="9966" class="lf jc ht lb b fv lp lh l li lj">function getChoice() public view returns (Status) {<br/>return status;<br/>}</span><span id="befc" class="lf jc ht lb b fv lp lh l li lj">// Update status by passing uint into input<br/>function set(Status _status) public {<br/>status = _status;<br/>}</span><span id="2689" class="lf jc ht lb b fv lp lh l li lj">//You can update to a specific enum like this<br/>function cancel() public {<br/>status = Status.Canceled;<br/>}</span><span id="78f2" class="lf jc ht lb b fv lp lh l li lj">// delete resets the enum to it's first value, 0<br/>function reset() public {<br/>delete status;<br/>}<br/>}</span></pre><h1 id="62f1" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">在枚举元素之间移动</h1><pre class="kw kx ky kz fq la lb lc ld aw le dt"><span id="1405" class="lf jc ht lb b fv lg lh l li lj">// SPDX-License-Identifier: MIT<br/>pragma solidity ^0.8.0;<br/>contract Enum {</span><span id="598e" class="lf jc ht lb b fv lp lh l li lj">enum Status {Pending,Shipped, Accepted, Rejected,Canceled}<br/>Status public status;</span><span id="b897" class="lf jc ht lb b fv lp lh l li lj">function nextChoice() public  {<br/>status=Status(uint(status)+1);<br/>}<br/>}</span></pre><h1 id="9bfc" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">允许显式转换</h1><pre class="kw kx ky kz fq la lb lc ld aw le dt"><span id="b30a" class="lf jc ht lb b fv lg lh l li lj">// SPDX-License-Identifier: MIT<br/>pragma solidity ^0.8.0;</span><span id="4a4f" class="lf jc ht lb b fv lp lh l li lj">contract EnumTest {<br/>enum Status {Pending,Shipped, Accepted, Rejected,Canceled}</span><span id="efbd" class="lf jc ht lb b fv lp lh l li lj">function explicitConvertion() public pure returns(uint){<br/>return uint(Status.Accepted);<br/>}<br/>}</span></pre><p id="6c2e" class="pw-post-body-paragraph lq lr ht kb b kc ls lt lu ke lv lw lx kg ly lz ma ki mb mc md kk me mf mg km hm dt translated">堆栈交换示例</p><pre class="kw kx ky kz fq la lb lc ld aw le dt"><span id="5939" class="lf jc ht lb b fv lg lh l li lj">// Lets see Enums which are often used for state machine like this<br/>enum State { Created, Locked, Inactive };<br/><br/>// post this a variable can be Declared like this<br/>State public state;<br/><br/>// Initializing the state can be done like this<br/>state = State.Created;<br/><br/>// It is important to note that enums can be explicitly converted to ints like this<br/>uint createdState = uint(State.Locked);</span></pre><p id="2c08" class="pw-post-body-paragraph lq lr ht kb b kc ls lt lu ke lv lw lx kg ly lz ma ki mb mc md kk me mf mg km hm dt translated">枚举和映射</p><pre class="kw kx ky kz fq la lb lc ld aw le dt"><span id="87e4" class="lf jc ht lb b fv lg lh l li lj">// SPDX-License-Identifier: MIT<br/>pragma solidity ^0.8.0;<br/>contract Enum {<br/>enum Status {Pending,Shipped, Accepted, Rejected,Canceled}<br/>mapping(uint=&gt; Status) enumMappnig;<br/>}</span></pre><p id="4b18" class="pw-post-body-paragraph lq lr ht kb b kc ls lt lu ke lv lw lx kg ly lz ma ki mb mc md kk me mf mg km hm dt translated">枚举和结构</p><pre class="kw kx ky kz fq la lb lc ld aw le dt"><span id="2be7" class="lf jc ht lb b fv lg lh l li lj">// SPDX-License-Identifier: MIT<br/>pragma solidity ^0.8.0;<br/>contract Enum {</span><span id="eb81" class="lf jc ht lb b fv lp lh l li lj">enum Status {Pending,Shipped, Accepted, Rejected,Canceled}</span><span id="a989" class="lf jc ht lb b fv lp lh l li lj">struct enumStruct{<br/>Status _status;<br/>}<br/>}</span></pre><blockquote class="mh"><p id="06a2" class="mi mj ht bd mk ml mm mn mo mp mq km ek translated">交易新手？试试<a class="ae mr" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或者<a class="ae mr" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>