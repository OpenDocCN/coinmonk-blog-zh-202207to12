<html>
<head>
<title>Interact with a live deployed smart contract using Remix IDE</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Remix IDE与实时部署的智能合约进行交互</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/interact-with-a-live-deployed-smart-contract-using-remix-ide-1ea7e3fde52f?source=collection_archive---------1-----------------------#2022-07-26">https://medium.com/coinmonks/interact-with-a-live-deployed-smart-contract-using-remix-ide-1ea7e3fde52f?source=collection_archive---------1-----------------------#2022-07-26</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="7c99" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">摘要:本文与部署在区块链的testnet或mainnet上的智能合约的交互有关。我们总是可以编写测试用例或脚本来与契约进行交互，但是remix提供了一种快速的方法来轻松地查询和交互一个活动的智能契约。</p><p id="df4b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这个例子中，我已经在<a class="ae jo" href="https://docs.polygon.technology/docs/develop/network-details/network/" rel="noopener ugc nofollow" target="_blank"> polygon (mumbai) testne </a> t上部署了一个智能契约。</p><h1 id="6d75" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">要求</h1><ol class=""><li id="aba4" class="kn ko ht is b it kp ix kq jb kr jf ks jj kt jn ku kv kw kx dt translated">已部署的智能合约源代码:请查找下面的代码。</li><li id="d0f3" class="kn ko ht is b it ky ix kz jb la jf lb jj lc jn ku kv kw kx dt translated">部署合同地址:<a class="ae jo" href="https://mumbai.polygonscan.com/address/0x68B1D87F95878fE05B998F19b66F4baba5De1aed" rel="noopener ugc nofollow" target="_blank">0x 68 B1 d 87 f 95878 Fe 05 b 998 f 19 b 66 F4 Baba 5 de 1 aed</a></li><li id="8f11" class="kn ko ht is b it ky ix kz jb la jf lb jj lc jn ku kv kw kx dt translated">元掩码；配置了区块链，以及与之连接的令牌合约钱包的所有者，并且钱包中有一些令牌。</li></ol><pre class="ld le lf lg fq lh li lj bn lk ll bi"><span id="82f0" class="lm jq ht li b be ln lo l lp lq">// NFTToken.sol<br/>//SPDX-License-Identifier: Unlicense<br/>pragma solidity 0.8.4;<br/><br/>import "@openzeppelin/contracts/token/ERC721/ERC721.sol";<br/>import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";<br/>import "@openzeppelin/contracts/utils/Counters.sol";<br/><br/>contract NFTToken is ERC721URIStorage {<br/>    /// @dev auto-increment field for each token<br/>    /// @param<br/>    using Counters for Counters.Counter;<br/>    Counters.Counter private _tokenIds; //this variable can be viewed by public, but cannot be called.<br/><br/>    //owner of NFT Token and Marketplace are same.<br/>    address nftMarketAddress; //address of the NFT marketplace<br/><br/>    constructor(address marketplaceAddress) ERC721("Nifty Tokens", "IFTY") {<br/>        nftMarketAddress = marketplaceAddress;<br/>    }<br/><br/>    /// @notice create a new token and assign it to the caller of the function.<br/>    /// @param tokenURI: token URI<br/>    function createToken(string memory tokenURI) public returns (uint256) {<br/>        //sets a new token id for the token to be minted. Like: 0, 1, 2, 3, 4, ...<br/>        _tokenIds.increment();<br/><br/>        //this stores the newly assinged tokenID<br/>        uint256 newItemId = _tokenIds.current();<br/><br/>        //mint a new token<br/>        _mint(msg.sender, newItemId);<br/><br/>        //given the token is valid, tokenURI is created using baseURI and tokenId<br/>        _setTokenURI(newItemId, tokenURI);<br/><br/>        //give marketplace authority to make transaction on behalf of the user.<br/>        //If this is not done, any the marketplace cannot buy and sell<br/>        // this token in the marketplace, here both marketplace and token belong<br/>        //to the same owner so it was easy to supply marketplace address<br/>        //and give the required approval.<br/>        setApprovalForAll(nftMarketAddress, true);<br/><br/>        //returns the new token id as uint<br/>        return newItemId;<br/>    }<br/>}</span></pre><h1 id="a5a7" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">步骤1:在Remix IDE中编译契约</h1><ul class=""><li id="b40c" class="kn ko ht is b it kp ix kq jb kr jf ks jj kt jn lr kv kw kx dt translated">在浏览器中访问https://remix.ethereum.org<a class="ae jo" href="https://remix.ethereum.org" rel="noopener ugc nofollow" target="_blank">打开混音IDE。</a></li><li id="f3e0" class="kn ko ht is b it ky ix kz jb la jf lb jj lc jn lr kv kw kx dt translated">复制您已经部署的智能协定的源代码，并再次编译它。成功编译后，您应该会看到类似这样的内容，</li></ul><figure class="ld le lf lg fq lt fe ff paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="fe ff ls"><img src="../Images/2f44c615ec488cd5d91f945473542fc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fs2Stw-EYFOwgSZ_UR3_Og.png"/></div></div><figcaption class="ma mb fg fe ff mc md bd b be z ek">successful compile</figcaption></figure><h1 id="3628" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">步骤2:连接你的混音IDE到metamask</h1><p id="6d6b" class="pw-post-body-paragraph iq ir ht is b it kp iv iw ix kq iz ja jb me jd je jf mf jh ji jj mg jl jm jn hm dt translated">在部署配置中设置环境。</p><figure class="ld le lf lg fq lt fe ff paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="fe ff mh"><img src="../Images/8b5c6f91559e47dabdb21f4ba99a8bf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k8Hb1Z0nKJFlvW3qXczclA.png"/></div></div><figcaption class="ma mb fg fe ff mc md bd b be z ek">Set the envrionment as Metamask</figcaption></figure><p id="177f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为弹出权限选择是/连接，以便您可以将remix IDE链接到metamask wallet，确保您在连接时选择了正确的帐户。</p><h1 id="90a9" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">步骤3:连接你的混音IDE到Metamask</h1><p id="1fcf" class="pw-post-body-paragraph iq ir ht is b it kp iv iw ix kq iz ja jb me jd je jf mf jh ji jj mg jl jm jn hm dt translated">我们不想部署此合同，因为它已经部署。我们需要简单地连接已经部署的契约。</p><p id="5db9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">将智能合同的地址粘贴到“地址”部分。</p><figure class="ld le lf lg fq lt fe ff paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="fe ff mi"><img src="../Images/7822af0be665e27decf58c06022b681c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h0HjjRe1iIA6-z5ihLqC1A.png"/></div></div></figure><p id="8b63" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最后，点击“地址”蓝色按钮。</p><figure class="ld le lf lg fq lt fe ff paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="fe ff mj"><img src="../Images/521c26a08c5d34ed74719293a1d86662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tfGWVATovPjRQriecfo4DA.png"/></div></div><figcaption class="ma mb fg fe ff mc md bd b be z ek">click the blue “At Address” button after pasting the address.</figcaption></figure><figure class="ld le lf lg fq lt fe ff paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="fe ff mk"><img src="../Images/f023465ec27cd53fd2307a2696b24b5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VEBF_UOk6ecHKLi-HAgy-g.png"/></div></div></figure><figure class="ld le lf lg fq lt fe ff paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="fe ff ml"><img src="../Images/e9f22fcc3af55e2bc43f4ce32d76634b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F6cEyDgbVckUoVc0T3ezCA.png"/></div></div></figure><p id="6b31" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">从结果中，我了解到智能合约中没有创建令牌。这是您与实时智能合同进行交互的方式。</p><p id="eb5c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">由于此功能是一个简单的读取功能，所以不会产生任何气体费用。</p><blockquote class="mm"><p id="1c1d" class="mn mo ht bd mp mq mr ms mt mu mv jn ek translated">交易新手？尝试<a class="ae jo" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或<a class="ae jo" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>