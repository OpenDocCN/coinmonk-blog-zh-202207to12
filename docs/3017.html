<html>
<head>
<title>How do payment channels actually work?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">支付渠道实际上是如何运作的？</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-do-payment-channels-actually-work-5c310cc76c75?source=collection_archive---------49-----------------------#2022-08-31">https://medium.com/coinmonks/how-do-payment-channels-actually-work-5c310cc76c75?source=collection_archive---------49-----------------------#2022-08-31</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/8ac0029a0dd8ebb6365dfc11f0708738.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AksVsOYs8ukYmXcc5OJZEw.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Topline schematic algorithm of payment channel settlement</figcaption></figure><blockquote class="jf jg jh"><p id="811c" class="ji jj jk jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg hm dt translated">每个人都在以汇总的形式谈论以太坊的第二层扩展解决方案，然而，比特币上使用最多的扩展解决方案是基于支付渠道的。事实上，多亏了他们，你可能会在Twitter上得到提示，或者通过crypto买一杯咖啡。但是它们到底是什么呢？让我们开始吧。</p></blockquote></div><div class="ab cl kh ki hb kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hm hn ho hp hq"><h1 id="df39" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated"><strong class="ak">什么是支付渠道？</strong></h1><p id="dcc6" class="pw-post-body-paragraph ji jj ht jl b jm lm jo jp jq ln js jt lo lp jw jx lq lr ka kb ls lt ke kf kg hm dt translated">支付通道是第2层扩展解决方案，允许双方或多方之间无需托管的即时离线支付。支付通道通过管理区块链主网(第1层)之外的交易，增强了区块链应用程序的可伸缩性，同时仍然受益于主网强大的分散安全范例。</p><p id="44cb" class="pw-post-body-paragraph ji jj ht jl b jm jn jo jp jq jr js jt lo jv jw jx lq jz ka kb ls kd ke kf kg hm dt translated">使用最多的支付通道第二层解决方案是闪电网络，它依赖比特币作为第一层。根据<a class="ae lu" href="https://defillama.com/protocol/lightning-network" rel="noopener ugc nofollow" target="_blank"> Defi Llama </a>目前闪电网络上的TVL达到9200万美元。</p><h1 id="a8d2" class="ko kp ht bd kq kr lv kt ku kv lw kx ky kz lx lb lc ld ly lf lg lh lz lj lk ll dt translated">它们是如何工作的？</h1><p id="e53c" class="pw-post-body-paragraph ji jj ht jl b jm lm jo jp jq ln js jt lo lp jw jx lq lr ka kb ls lt ke kf kg hm dt translated">为了打开与特定交易方的支付通道，个人或实体应在智能合同中存入适当数量的密码，然后智能合同根据一组预定义的规则打开并维护支付通道。一旦初始资金被发送到这个智能合约，它们就会被锁定在multisig钱包中。智能合约向基础区块链发送tx结果，以验证交易方余额的初始状态。通常，这些余额的总和就是信道容量，并且在信道的生命周期内不会改变(信道具有“容量守恒”属性)。</p><p id="9119" class="pw-post-body-paragraph ji jj ht jl b jm jn jo jp jq jr js jt lo jv jw jx lq jz ka kb ls kd ke kf kg hm dt translated">在初始存款交易已经过账到基础区块链之后，交易对手可以开始自由地在链外彼此之间执行交易。同时，smart contract应该充当簿记员，在每次成功交易后更新各方的余额。当各方认为支付已经结束时，他们可以关闭他们的支付通道。在接收到双方的签名之后，智能合同将他们的余额的最终结果发布到基础区块链，并且在此之后，资金被解锁并以各自的金额返回给双方。</p><p id="870e" class="pw-post-body-paragraph ji jj ht jl b jm jn jo jp jq jr js jt lo jv jw jx lq jz ka kb ls kd ke kf kg hm dt translated">值得注意的是，尽管支付通道通常存在于两个特定方之间，但是即使他们之间没有开放的支付通道，甲方也完全有可能向乙方发送密码。这要归功于支付途径。节点通常通过经由与其他用户的现有开放支付信道在彼此之间最佳地连接网络用户来执行这种路由。他们通常收取服务费。</p><h1 id="a094" class="ko kp ht bd kq kr lv kt ku kv lw kx ky kz lx lb lc ld ly lf lg lh lz lj lk ll dt translated">为什么以及在哪里使用它们？</h1><p id="1626" class="pw-post-body-paragraph ji jj ht jl b jm lm jo jp jq ln js jt lo lp jw jx lq lr ka kb ls lt ke kf kg hm dt translated">可伸缩性是区块链目前面临的一个大问题。这就是所有第2层解决方案派上用场的地方。支付通道能够大幅提高TPS、降低tx费用、加快tx终结等。</p><p id="09a2" class="pw-post-body-paragraph ji jj ht jl b jm jn jo jp jq jr js jt lo jv jw jx lq jz ka kb ls kd ke kf kg hm dt translated">许多主要的区块链都有支付渠道解决方案，但最著名的是比特币(<a class="ae lu" href="https://lightning.network/" rel="noopener ugc nofollow" target="_blank">闪电网络</a>)和以太坊(<a class="ae lu" href="https://raiden.network/" rel="noopener ugc nofollow" target="_blank">闪电网络</a>)的支付渠道解决方案。</p><p id="4300" class="pw-post-body-paragraph ji jj ht jl b jm jn jo jp jq jr js jt lo jv jw jx lq jz ka kb ls kd ke kf kg hm dt translated">闪电网络促进了大多数B2C比特币互动(如BTC的商品支付)，并与支付处理和其他公司建立了广泛的合作伙伴关系，而雷电网络的吸引力则有限得多，因为以太坊上其他类型的缩放解决方案(如多边形、L2易拉宝等)很受欢迎。)</p><h1 id="72ae" class="ko kp ht bd kq kr lv kt ku kv lw kx ky kz lx lb lc ld ly lf lg lh lz lj lk ll dt translated">支付渠道有什么好处？</h1><p id="0fad" class="pw-post-body-paragraph ji jj ht jl b jm lm jo jp jq ln js jt lo lp jw jx lq lr ka kb ls lt ke kf kg hm dt translated">支付渠道允许用户进行几乎即时的低费用交易。它们还支持微交易，如果直接在第1层执行，从经济角度来看，微交易通常是不可行的。通过安排支付交易和二维码发票，可以通过支付渠道方便地安排账单。最后，他们促成了<a class="ae lu" href="https://www.investopedia.com/terms/a/atomic-swaps.asp#:~:text=An%20atomic%20swap%20is%20an,give%20token%20owners%20total%20control." rel="noopener ugc nofollow" target="_blank">原子互换</a>，这是一种相对创新的非托管低费用p2p令牌交换方式。</p><h1 id="ba58" class="ko kp ht bd kq kr lv kt ku kv lw kx ky kz lx lb lc ld ly lf lg lh lz lj lk ll dt translated">他们的缺点是什么？</h1><p id="abc0" class="pw-post-body-paragraph ji jj ht jl b jm lm jo jp jq ln js jt lo lp jw jx lq lr ka kb ls lt ke kf kg hm dt translated">支付通道的第一个缺点是，在双方之间建立支付通道之前，必须锁定智能合同中的资金。这并不总是一种方便的方法，尤其是如果你只是想通过crypto购买一个早餐羊角面包和一杯咖啡。此外，由于大多数支付通道解决方案的目的是提供可伸缩性和低费用，所以提供给节点的路由费用通常不足以进行有效和成功的支付路由，这可能导致支付通道用户的失败或缓慢的交易。最后，支付渠道经常遭受黑客攻击和滥用，这可能导致资金损失、网络拥塞、交易失败等。</p><h1 id="95c3" class="ko kp ht bd kq kr lv kt ku kv lw kx ky kz lx lb lc ld ly lf lg lh lz lj lk ll dt translated">结果</h1><p id="56f7" class="pw-post-body-paragraph ji jj ht jl b jm lm jo jp jq ln js jt lo lp jw jx lq lr ka kb ls lt ke kf kg hm dt translated">在我们看来，支付渠道是crypto中值得跟踪和理解的扩展解决方案类型。它们可以作为特定B2B和B2C交易(尤其是那些与网络内定期小额支付相关的交易)的非常有效的网关。然而，在当前的发展状态下，它们仍然有一系列的限制，阻碍了它们的进一步采用和利用。</p><p id="7abc" class="pw-post-body-paragraph ji jj ht jl b jm jn jo jp jq jr js jt lo jv jw jx lq jz ka kb ls kd ke kf kg hm dt translated">感谢您的阅读，如果您觉得内容有用，请订阅！</p><blockquote class="ma"><p id="1a96" class="mb mc ht bd md me mf mg mh mi mj kg ek translated">交易新手？试试<a class="ae lu" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或者<a class="ae lu" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>