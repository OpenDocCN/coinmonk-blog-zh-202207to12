<html>
<head>
<title>Polygon Edge : Architecture &amp; Local Setup with Metamask for deploying ERC20 &amp; ERC721 Contracts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">多边形边缘:使用元掩码部署ERC20和ERC721合同的架构和本地设置</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/polygon-edge-architecture-local-setup-with-metamask-for-erc20-erc721-contracts-9705d63ef438?source=collection_archive---------5-----------------------#2022-08-20">https://medium.com/coinmonks/polygon-edge-architecture-local-setup-with-metamask-for-erc20-erc721-contracts-9705d63ef438?source=collection_archive---------5-----------------------#2022-08-20</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div class="fe ff iq"><img src="../Images/7bb72904b7111a8b7d85557386bff262.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*blLCqvGijyuWsVyuduOYpg.png"/></div></figure><p id="8143" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在这篇文章中，我们将讨论-</p><ol class=""><li id="ad25" class="jv jw ht iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd dt translated">什么是多边形边？</li><li id="eae9" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju ka kb kc kd dt translated">多边形边使用的模块有哪些？</li><li id="147b" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju ka kb kc kd dt translated">从头开始多边形边局部设置</li><li id="2f70" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju ka kb kc kd dt translated">在多边形边缘部署智能合约</li><li id="591e" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju ka kb kc kd dt translated">使用元遮罩配置多边形边</li></ol><h1 id="45d8" class="kj kk ht bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">什么是多边形边？</h1><p id="a37d" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated"><strong class="iz hu"> Polygon Edge </strong>是一个可扩展的模块化框架，用于开发以太坊兼容的侧链、区块链网络和通用扩展解决方案。该框架的主要作用是引导新的区块链网络，同时提供与以太坊交易和智能合约的完全兼容性。它利用一个<a class="ae lm" href="https://chainbridge.chainsafe.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="iz hu">集中式网桥解决方案</strong> </a>来支持与多个区块链的通信，使ERC-20和ERC-721令牌的转移成为可能。</p><blockquote class="ln lo lp"><p id="08c8" class="ix iy lq iz b ja jb jc jd je jf jg jh lr jj jk jl ls jn jo jp lt jr js jt ju hm dt translated">共识支持:<a class="ae lm" rel="noopener" href="/poa-network/proof-of-authority-consensus-model-with-identity-at-stake-d5bd15463256"> PoA </a>(授权证明)<a class="ae lm" href="https://consensys.net/blog/blockchain-explained/what-is-proof-of-stake/" rel="noopener ugc nofollow" target="_blank"> PoS </a>(利益证明)</p></blockquote></div><div class="ab cl lu lv hb lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hm hn ho hp hq"><h1 id="2bcc" class="kj kk ht bd kl km mb ko kp kq mc ks kt ku md kw kx ky me la lb lc mf le lf lg dt translated">多边形边缘提供的模块</h1><p id="5aae" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">多边形边缘提供了广泛的模块，开发人员可以根据自己的需要定制。</p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff mg"><img src="../Images/e9abc64c819a4faf2a5563928a692b61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2HkIYwjeMRcb9qd2.jpg"/></div></div><figcaption class="mp mq fg fe ff mr ms bd b be z ek">Source : Polygon Edge Documentation</figcaption></figure><h2 id="4bea" class="mt kk ht bd kl mu mv mw kp mx my mz kt ji na nb kx jm nc nd lb jq ne nf lf ng dt translated"><strong class="ak"> 1。区块链</strong>和<strong class="ak">状态</strong></h2><p id="db05" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">区块链处理区块链中包含新区块时发生的所有逻辑。状态代表<em class="lq">状态转换</em>对象。它处理当包含新块时状态如何变化。</p><p id="529b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">这两部分相互连接，为协议提供了蓝图。在其他功能中，它们允许执行事务和运行EVM。</p><p id="bd7c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">例如，当区块链层接收到新的区块(并且没有发生重组)时，它调用状态来执行状态转换。</p><h2 id="62f4" class="mt kk ht bd kl mu mv mw kp mx my mz kt ji na nb kx jm nc nd lb jq ne nf lf ng dt translated"><strong class="ak"> 2。共识</strong></h2><p id="a402" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">共识为共识机制提供了一个接口。它提供了两种共识引擎-</p><ul class=""><li id="0128" class="jv jw ht iz b ja jb je jf ji jx jm jy jq jz ju nh kb kc kd dt translated">IBFT早熟禾</li><li id="d365" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju nh kb kc kd dt translated">IBFT PoS</li></ul><h2 id="1cfc" class="mt kk ht bd kl mu mv mw kp mx my mz kt ji na nb kx jm nc nd lb jq ne nf lf ng dt translated"><strong class="ak"> 3。Libp2p </strong></h2><p id="869c" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">Libp2p为底层网络层提供了基础，并为多边形边缘中使用的更多高级功能提供了很好的基础。</p><h2 id="85db" class="mt kk ht bd kl mu mv mw kp mx my mz kt ji na nb kx jm nc nd lb jq ne nf lf ng dt translated"><strong class="ak"> 4。联网(GPRC) </strong></h2><p id="d732" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">GRPC层对于操作员交互至关重要。它利用节点之间的通信，帮助节点操作员轻松地与客户端交互。</p><h2 id="f86c" class="mt kk ht bd kl mu mv mw kp mx my mz kt ji na nb kx jm nc nd lb jq ne nf lf ng dt translated"><strong class="ak"> 5。JSON RPC </strong></h2><p id="cf7b" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">JSON RPC层是一个API层，允许开发者使用它与区块链进行通信。</p><h2 id="a6b3" class="mt kk ht bd kl mu mv mw kp mx my mz kt ji na nb kx jm nc nd lb jq ne nf lf ng dt translated"><strong class="ak"> 6。Tx池</strong></h2><p id="160d" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">Tx Pool层汇集了来自系统不同部分的事务，它与系统中的其他模块紧密相连，因为可以从多个入口点添加事务。</p></div><div class="ab cl lu lv hb lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hm hn ho hp hq"><h1 id="f85a" class="kj kk ht bd kl km mb ko kp kq mc ks kt ku md kw kx ky me la lb lc mf le lf lg dt translated">多边形边局部设置</h1><p id="0617" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">所以，在看了Polygon Edge使用的架构和模块之后。让我们局部地设置多边形边缘网络。在进行下一步之前，让我们讨论一下先决条件</p><p id="18a8" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">1.本地计算机上的Go &gt;=1.17</p><p id="7261" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">2.你选择的任何编辑</p><p id="5e0d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">3.元掩码</p><p id="b7e2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在你完成先决条件后，我们可以使用<em class="lq"> go install安装多边形边二进制文件。</em></p><p id="fca6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在您的终端中粘贴以下命令-</p><pre class="mh mi mj mk fq ni nj nk nl aw nm dt"><span id="a9b7" class="mt kk ht nj b fv nn no l np nq">go install github.com/0xPolygon/polygon-edge@develop</span></pre><p id="db8d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">该命令之后的二进制文件将位于GOBIN环境变量中。</p><p id="d285" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">之后你可以在你的终端输入<em class="lq">多边形边缘</em>来确认你的安装。</p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff nr"><img src="../Images/38a4e11a8ed7271d2777609016734bfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N_tFeXUSWZdV6IsLmgs52A.png"/></div></div></figure><p id="5fb9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">现在，我们将设置使用<a class="ae lm" href="https://github.com/ethereum/EIPs/issues/650" rel="noopener ugc nofollow" target="_blank"> IBFT共识协议</a>的多边形边区块链网络。</p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff ns"><img src="../Images/7fcf5ddb0b7260b8d2b82e14dfd349e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vZ8sppTwJAvTc1xxb8ms-w.png"/></div></div><figcaption class="mp mq fg fe ff mr ms bd b be z ek">Source : Polygon-Edge Documentation</figcaption></figure><p id="73ae" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">上图所示的区块链网络由4个节点组成，其中4个节点都是验证节点，因此有资格申请块和验证来自其他申请人的块。</p><p id="61ea" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在我们的文章中，我们将使用一个节点，这个节点既可以作为验证器，也可以提出新的块。</p><blockquote class="ln lo lp"><p id="591d" class="ix iy lq iz b ja jb jc jd je jf jg jh lr jj jk jl ls jn jo jp lt jr js jt ju hm dt translated">注意:集群中的节点数量没有最小值，这意味着只有一个验证器节点的集群是可能的。请记住，使用<em class="ht">单</em>节点集群，没有崩溃容忍度，也没有BFT保证。</p><p id="e7c0" class="ix iy lq iz b ja jb jc jd je jf jg jh lr jj jk jl ls jn jo jp lt jr js jt ju hm dt translated">因此，为实现BFT保证，建议的最小节点数是4，因为在4节点群集中，可以容忍1个节点出现故障，其余3个正常工作。</p></blockquote><p id="2abd" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">为了生成功能完整的IBFT集群，我们需要遵循以下步骤-</p><h2 id="c835" class="mt kk ht bd kl mu mv mw kp mx my mz kt ji na nb kx jm nc nd lb jq ne nf lf ng dt translated">1.初始化数据目录</h2><pre class="mh mi mj mk fq ni nj nk nl aw nm dt"><span id="9362" class="mt kk ht nj b fv nn no l np nq">polygon-edge secrets init --data-dir test-chain-1</span></pre><p id="29aa" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><em class="lq"> test-chain-1 </em>这里指的是节点的名称。你可以根据自己的方便来命名。</p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff nt"><img src="../Images/f47db742da2986c87dfabeb9b7ec1c7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xSmY6Hc9nDJlrCsgcWeXsA.png"/></div></div></figure><p id="0594" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">以上命令打印验证器密钥和<a class="ae lm" href="https://docs.libp2p.io/concepts/peer-id/" rel="noopener ugc nofollow" target="_blank">节点ID </a>。下一步我们将需要节点ID。</p><p id="1219" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">您还应该看到一个由您指定的节点名创建的文件夹。</p><h2 id="61b7" class="mt kk ht bd kl mu mv mw kp mx my mz kt ji na nb kx jm nc nd lb jq ne nf lf ng dt translated">2.为bootnode准备多地址连接字符串</h2><p id="1ea0" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">如果一个节点想要建立一个成功的连接，它必须知道要连接到哪个bootnode服务器，以便获得关于网络上所有剩余节点的信息。</p><p id="5c61" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">由于我们将使用单个节点进行演示，因此同一个节点将充当bootnode，因为每个多边形边节点都可以充当bootnode，但是在多个节点的情况下，每个多边形边节点都需要指定一组bootnode，将联系这些节点以提供有关如何与网络中所有剩余节点连接的信息。</p><blockquote class="ln lo lp"><p id="8955" class="ix iy lq iz b ja jb jc jd je jf jg jh lr jj jk jl ls jn jo jp lt jr js jt ju hm dt translated">注意:至少需要一个bootnode，以便网络中的其他节点可以发现彼此。建议使用更多的bootnodes，因为它们可以在发生故障时为网络提供弹性。</p></blockquote><p id="b18c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">为了创建用于指定bootnode的连接字符串，我们需要遵循<a class="ae lm" href="https://docs.libp2p.io/concepts/addressing/" rel="noopener ugc nofollow" target="_blank"> multiaddr格式</a>。</p><pre class="mh mi mj mk fq ni nj nk nl aw nm dt"><span id="b897" class="mt kk ht nj b fv nn no l np nq">/ip4/&lt;ip_address&gt;/tcp/&lt;port&gt;/p2p/&lt;node_id&gt;</span></pre><p id="e375" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">这里，</p><p id="99d7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">ip_address :127.0.0.1(因为我们在本地主机上运行)</p><p id="a521" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">端口:10001</p><p id="1829" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">node _ id:16 uiu 2 hampvqybqtf 5 uxtsftwbaveeoc 5 muqtv 3 bwfhfna 6 fwrte</p><p id="21ff" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">您可能有不同的node_id，所以用您的node _ id替换它。</p><pre class="mh mi mj mk fq ni nj nk nl aw nm dt"><span id="ab91" class="mt kk ht nj b fv nn no l np nq"><em class="lq">/ip4/127.0.0.1/tcp/10001/p2p/</em>16Uiu2HAmPvqyBqtF5UxTsXftWBavEeoC5mUqtv3bWfhFna6FwrTe</span></pre><h2 id="d976" class="mt kk ht bd kl mu mv mw kp mx my mz kt ji na nb kx jm nc nd lb jq ne nf lf ng dt translated">3.用单个节点生成源文件</h2><pre class="mh mi mj mk fq ni nj nk nl aw nm dt"><span id="1d3b" class="mt kk ht nj b fv nn no l np nq">polygon-edge genesis --consensus ibft --ibft-validators-prefix-path test-chain- --bootnode /ip4/&lt;ip_address&gt;/tcp/&lt;port&gt;/p2p/&lt;node_id&gt;</span></pre><p id="8d96" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在执行这个命令之前，我们还可以使用- <em class="lq"> premine </em>标志将一些余额预存在我们的帐户地址中。您可以从元掩码中获取任何地址，并提供一些乙醚。</p><pre class="mh mi mj mk fq ni nj nk nl aw nm dt"><span id="894e" class="mt kk ht nj b fv nn no l np nq">polygon-edge genesis --consensus ibft --ibft-validators-prefix-path test-chain- --bootnode /ip4/127.0.0.1/tcp/10001/p2p/ 16Uiu2HAmPvqyBqtF5UxTsXftWBavEeoC5mUqtv3bWfhFna6FwrTe --premine =&lt;YOUR_METAMASK_ADDRESS&gt;:&lt;AMOUNT_IN_WEI&gt;</span></pre><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff nu"><img src="../Images/473e6fdb5b77c16fb2782e84a7b073a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RfFzR9Q8dNhbRaC-Of7umQ.png"/></div></div></figure><p id="e930" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">如您所见，我已经将1000 ETH预存在我的帐户地址中，我们的genesis文件现在已成功创建。</p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff nv"><img src="../Images/725fb261ee923ce128a5fc9c6aacd957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gR3yMXn7UvB6fTJwgzWMaw.png"/></div></div></figure><h2 id="af41" class="mt kk ht bd kl mu mv mw kp mx my mz kt ji na nb kx jm nc nd lb jq ne nf lf ng dt translated">4.启动节点</h2><p id="fd8c" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">因为我们只是运行单个多边形边节点，所以不会有任何基于端口的冲突问题，但是如果您有多个节点，请检查端口以避免冲突。</p><p id="ae9f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">对于我们的单个节点，我们有-</p><p id="c50d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">10000 : gRPC服务器</p><p id="d6d6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">10001 : libp2p服务器</p><p id="176f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">10002 : JSON-RPC服务器</p><p id="391e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">现在，让我们使用命令-</p><pre class="mh mi mj mk fq ni nj nk nl aw nm dt"><span id="42cf" class="mt kk ht nj b fv nn no l np nq">polygon-edge server --data-dir ./test-chain-1 --chain genesis.json --grpc-address :10000 --libp2p :10001 --jsonrpc :10002 --seal</span></pre><p id="86d3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">您也可以使用标志-<strong class="iz hu">-<em class="lq">-闭塞时间，为闭塞的创建提供您想要设置的闭塞时间。</em> </strong>默认情况下封锁时间为2秒。</p><p id="43d3" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">您的终端现在一定已经运行了，您现在可以通过键入您的JSON-RPC URL在您的浏览器中进行检查。</p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div class="fe ff nw"><img src="../Images/6463ed92ae16d8ae1f723e5021bc550a.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*9nSwi0wT53W0w_koqueU1g.png"/></div></figure><p id="a477" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">如果你得到了这样的东西，你就已经成为了ITTT！！！您已经成功启动了多边形边节点！！！</p><p id="4132" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">让我们检查一下Metamask，看看我们是否得到了预设的余额。</p><p id="feac" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">登录到元掩码，使用JSON-RPC URL添加一个新网络，如下所示-<a class="ae lm" href="http://localhost:10002/" rel="noopener ugc nofollow" target="_blank">http://localhost:10002/</a></p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div class="fe ff nx"><img src="../Images/31e9137761d464491e318c143a05acf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*X5NPRl1JY7uHG3TMh5VA3A.png"/></div></figure><p id="d57c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">好了，我们得到了我们预先设定的第1000个ETH。忽略令牌符号，因为我已经把它作为PGE。你可以保留任何你选择的象征符号。</p></div><div class="ab cl lu lv hb lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hm hn ho hp hq"><h1 id="3d33" class="kj kk ht bd kl km mb ko kp kq mc ks kt ku md kw kx ky me la lb lc mf le lf lg dt translated">在多边形边缘部署智能合约</h1><p id="ebef" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">让我们尝试在多边形边缘部署一个ERC20 &amp; ERC721契约。</p><p id="563c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">为此你需要一些先决条件-</p><ol class=""><li id="ec59" class="jv jw ht iz b ja jb je jf ji jx jm jy jq jz ju ka kb kc kd dt translated">您应该在本地设置hardhat环境</li><li id="6b2f" class="jv jw ht iz b ja ke je kf ji kg jm kh jq ki ju ka kb kc kd dt translated">设置一个基本的Hardhat Javascript项目</li></ol><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div class="fe ff ny"><img src="../Images/6f3a90f1989609d1d2d499386054dae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*7ci0JxDTD3xetLK7QMBkZw.png"/></div></figure><p id="0131" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">设置好您的hardhat项目后，您的项目结构可能如下所示。因此，首先我们将配置我们的hardhat.config文件，在其中添加多边形边网络。</p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div class="fe ff nz"><img src="../Images/71219062b1305c0907f000a11eb3bba2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*MUuz3t4NroQ38xW1HRoR-w.png"/></div></figure><p id="4dbe" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">将此设置添加到hardhat.config文件中。从您帐户地址的元掩码中导出您的PRIVATE_KEY。</p><blockquote class="ln lo lp"><p id="c70a" class="ix iy lq iz b ja jb jc jd je jf jg jh lr jj jk jl ls jn jo jp lt jr js jt ju hm dt translated">注意:默认情况下，chainId是100，尽管我们可以在上面的步骤中使用chainId标志来更改它。</p></blockquote><p id="416e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">现在让我们写一个简单的ERC 20和ERC 721合约，分别铸造可替代和不可替代的代币。</p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff oa"><img src="../Images/b64eda830dc0f666050da56b8ee38f6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XxHpsgcseQURkTFiUsrQow.png"/></div></div><figcaption class="mp mq fg fe ff mr ms bd b be z ek">ERC20Contract</figcaption></figure><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff ob"><img src="../Images/88623886a7f94dd1439aef72d25a0849.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O1q0ZGRYZleXmisHmVZExg.png"/></div></div><figcaption class="mp mq fg fe ff mr ms bd b be z ek">ERC721Contract</figcaption></figure><p id="aed8" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">现在，让我们为我们的合同编写部署脚本来部署我们的合同。</p><p id="be9a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在scripts文件夹中，我们创建了两个文件——ERC 20 demo . js和ERC721Demo.js，用于部署我们的智能合约。</p><blockquote class="ln lo lp"><p id="c48a" class="ix iy lq iz b ja jb jc jd je jf jg jh lr jj jk jl ls jn jo jp lt jr js jt ju hm dt translated">注意:您甚至可以从单个文件部署2个智能合约，但是为了更好地理解我们的演示，我使用了2个不同的文件。</p></blockquote><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff oc"><img src="../Images/72135555d6bf145137be69820b1bbf28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I_zfLAkcfc5vPF5oO7Ihtg.png"/></div></div><figcaption class="mp mq fg fe ff mr ms bd b be z ek">ERC20Demo.js</figcaption></figure><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff od"><img src="../Images/e162932de10dbefb3ef683620084ea69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r1I89GTz8orA8yzWZhCRXQ.png"/></div></div><figcaption class="mp mq fg fe ff mr ms bd b be z ek">ERC721Demo.js</figcaption></figure><p id="8223" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">完成部署脚本后，现在让我们使用命令来部署契约</p><pre class="mh mi mj mk fq ni nj nk nl aw nm dt"><span id="e7c3" class="mt kk ht nj b fv nn no l np nq">npx hardhat run scripts/ERC20Demo.js --network polygon_edge</span><span id="7725" class="mt kk ht nj b fv oe no l np nq">npx hardhat run scripts/ERC721Demo.js --network polygon_edge</span></pre><p id="c1f8" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">确保在运行命令之前运行多边形边网络已启动并正在运行。</p><p id="c6f4" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">部署智能合同后，您将获得ERC20和ERC721的已部署合同地址。一定要把它存放在某个地方，因为我们会需要它。</p></div><div class="ab cl lu lv hb lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hm hn ho hp hq"><h1 id="399a" class="kj kk ht bd kl km mb ko kp kq mc ks kt ku md kw kx ky me la lb lc mf le lf lg dt translated">在元掩码Wallet中导入令牌</h1><p id="fb22" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">现在您已经获得了部署的合同地址，现在让我们将它导入到Metamask wallet中。</p><p id="f61f" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">沿着这条路走-</p><p id="188b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">元掩码wallet -&gt;资产-&gt;导入令牌-&gt;您部署的令牌地址</p><p id="36c7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">输入令牌地址后，它会自动检测您的令牌符号。</p><blockquote class="ln lo lp"><p id="3c6b" class="ix iy lq iz b ja jb jc jd je jf jg jh lr jj jk jl ls jn jo jp lt jr js jt ju hm dt translated">注意:确保你在元遮罩的多边形边网络中。</p></blockquote><p id="aa46" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">将这两个令牌添加到元掩码后，您可能会看到令牌被导入到我们的元掩码wallet中。</p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div class="fe ff nx"><img src="../Images/4770743e33f5f553d11740250e4eb7a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*9cocvrh8iiEPXi0Zh4xA5g.png"/></div></figure><p id="fbdf" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">万岁！！！我们的Metamask钱包中现在有100个ERC20令牌和1个ERC721令牌。</p><p id="9ad1" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">嗯，这篇文章应该到此结束，但让我们通过向Metamask中的不同帐户发送ERC20令牌来完成奖金部分。</p><h1 id="4c9e" class="kj kk ht bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">奖金部分</h1><p id="d9b0" class="pw-post-body-paragraph ix iy ht iz b ja lh jc jd je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju hm dt translated">沿着这条路走-</p><p id="6974" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">进入您的ERC20令牌-&gt;发送-&gt;我的帐户间转账-&gt;指定您要发送的金额-&gt;确认。</p><blockquote class="ln lo lp"><p id="ca8a" class="ix iy lq iz b ja jb jc jd je jf jg jh lr jj jk jl ls jn jo jp lt jr js jt ju hm dt translated">注意:请确保您在Metamask wallet中有2个以上的帐户</p></blockquote><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div class="fe ff of"><img src="../Images/462922a5aa75c98abec0ffd602709b40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*hwbCVMx1ZilJIKFYRixQuQ.png"/></div></figure><p id="508c" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">现在你可能想知道为什么我要展示这个？</p><p id="b28b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在上图中，检查我们消耗的汽油费。SHOCKEDDD！！！是的，是0。我们没有使用我们在设置多边形边网络时给出的任何预设平衡。</p><p id="213a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">现在让我们检查接收者是否已经收到50个E20令牌。</p><p id="da74" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">嗯，如果你查一下寄件人账户的余额，现在是50英镑。</p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div class="fe ff of"><img src="../Images/9dc34875be8860bbe41471b2cc6e839e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*WhUUNIuR5X4Mgoa1k-JBqg.png"/></div></figure><p id="eea8" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">让我们在接收器端检查一下-</p><p id="135e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">您需要按照之前的步骤在您的其他帐户中导入ERC20合同地址。</p><figure class="mh mi mj mk fq iu fe ff paragraph-image"><div class="fe ff og"><img src="../Images/cf6fdbd8e22c2c1c1a439d34e1755a14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*x6lDuxXxVei_gsPycfgMuA.png"/></div></figure><p id="209a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">呀呀呀！！我们在接收者端得到50个E20代币。是的，这也不消耗任何汽油费:)</p><p id="6d65" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">本文到此结束。我希望这篇文章涵盖了你开始多边形边缘之旅所需要的一切。</p><p id="8be6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">Codinggg快乐！！！</p><p id="3b13" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">如果你有任何疑问，可以联系我-</p><p id="2094" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">领英-<a class="ae lm" href="https://in.linkedin.com/in/atharva-paliwal-70676a175" rel="noopener ugc nofollow" target="_blank">https://in.linkedin.com/in/atharva-paliwal-70676a175</a></p></div><div class="ab cl lu lv hb lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hm hn ho hp hq"><p id="5945" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">参考文献-</p><div class="oh oi fm fo oj ok"><a href="https://docs.polygon.technology/docs/edge/overview/" rel="noopener  ugc nofollow" target="_blank"><div class="ol ab ej"><div class="om ab on cl cj oo"><h2 class="bd hu fv z el op eo ep oq er et hs dt translated">多边形边缘|多边形技术|文档</h2><div class="or l"><h3 class="bd b fv z el op eo ep oq er et ek translated">这是一项正在进行中的工作，因此未来可能会发生架构上的变化。代码还没有被审计，所以…</h3></div><div class="os l"><p class="bd b gc z el op eo ep oq er et ek translated">文档.多边形.技术</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy iv ok"/></div></div></a></div><blockquote class="oz"><p id="81f3" class="pa pb ht bd pc pd pe pf pg ph pi ju ek translated">交易新手？试试<a class="ae lm" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a>或者<a class="ae lm" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>