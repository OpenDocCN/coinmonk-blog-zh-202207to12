<html>
<head>
<title>CSC Bulk Sender Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python的CSC批量发送程序</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/csc-bulk-sender-using-python-30d84a159154?source=collection_archive---------24-----------------------#2022-10-30">https://medium.com/coinmonks/csc-bulk-sender-using-python-30d84a159154?source=collection_archive---------24-----------------------#2022-10-30</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="d132" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你曾经尝试过发送CET或CRC20令牌到许多钱包地址吗？在本教程中，我们将编写python代码来自动化一些无聊的东西。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff jo"><img src="../Images/ad5f5886c590e06e022a359764163a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x0L4Tz25CV7a9RDg2bZXIA.png"/></div></div></figure><h2 id="472b" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jb kl km kn jf ko kp kq jj kr ks kt ku dt translated">介绍</h2><p id="9e3e" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated">主要思想是使用一些代码行发送大量事务，以避免一些例行工作。手动发送多个交易(例如:员工工资)是一项既无聊又耗时的工作。通过使用创造力和代码，我们可以很容易地做类似的工作。</p><h2 id="8057" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jb kl km kn jf ko kp kq jj kr ks kt ku dt translated">项目设置</h2><p id="daff" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated">首先，创建批量发件人目录，并将目录更改为:</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="4a7f" class="ka kb ht lb b fv lf lg l lh li">mkdir bulk-sender<br/>cd bulk-sender</span></pre><p id="13ed" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">然后使用touch创建sender.py:</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="f3ee" class="ka kb ht lb b fv lf lg l lh li">touch sender.py</span></pre><p id="683a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，是编码的时候了。您可以使用任何想要的IDE或代码编辑器(我使用的是vscodium)</p><h2 id="0352" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jb kl km kn jf ko kp kq jj kr ks kt ku dt translated">Web3.py</h2><p id="b432" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated">web3.x是一组用于加密和联网的工具，使我们能够与Node-RPC进行交互。</p><p id="8532" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">要在终端类型中安装web3.py:</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="f402" class="ka kb ht lb b fv lf lg l lh li">pip install web3</span></pre><p id="0a77" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">要导入，请将它放在脚本的顶部:</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="3c94" class="ka kb ht lb b fv lf lg l lh li">from web3 import Web3</span></pre><p id="223d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们需要设置提供者(我们选择coinex智能链测试网):</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="5cb7" class="ka kb ht lb b fv lf lg l lh li">from web3.middleware import geth_poa_middleware<br/>provider = Web3.HTTPProvider("https://testnet-rpc.coinex.net")<br/>w3 = Web3(provider)</span></pre><p id="522e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">钱包生成</strong></p><p id="89f0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们生成一个钱包并存储它:</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="81bf" class="ka kb ht lb b fv lf lg l lh li">account = w3.eth.account.create();</span></pre><p id="cee6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">它会生成一个随机的钱包。我们可以使用以下代码将钱包地址和私钥分开:</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="a77d" class="ka kb ht lb b fv lf lg l lh li">account.privateKey.hex()<br/>account.address</span></pre><p id="0033" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">注意:当您运行上面的代码时，将会生成新的wallet。要为将来存储wallet，我们必须将数据保存在本地文件系统上:</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="4cb9" class="ka kb ht lb b fv lf lg l lh li">def create_account():<br/>    global account<br/>    account = w3.eth.account.create();<br/>    with open('config.json', 'r+') as config:<br/>        data = json.load(config)<br/>        data["privatekey"] = account.privateKey.hex()<br/>        data["address"] = account.address<br/>        config.seek(0)<br/>        config.write(json.dumps(data))<br/>        config.truncate()<br/>    print("your account has been created \n")</span></pre><p id="ffb9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们用python制作了一个config.json，并在其中存储了钱包地址和私钥。</p><p id="3443" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">做交易</strong></p><p id="f536" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">要进行csc交易，我们需要:</p><p id="e690" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">1 —收件人地址</p><p id="de1f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">2 — Nounce</p><p id="7831" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">3 —金额</p><p id="7422" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">4 —气体</p><p id="ec7e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">5 —私钥</p><p id="b2f7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们按照上面的格式进行交易:</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="5ccc" class="ka kb ht lb b fv lf lg l lh li">def send_transaction(amount , value):<br/>    with open('config.json', 'r') as config:<br/>        json_load = json.load(config)<br/>    nonce = w3.eth.getTransactionCount(json_load['address'])</span><span id="5814" class="ka kb ht lb b fv lj lg l lh li">    tx = {<br/>        'nonce': nonce,<br/>        'to': address,<br/>        'value': amount,<br/>        'gas': 2000000,<br/>        'gasPrice': w3.eth.gas_price<br/>    }<br/> signed_tx = w3.eth.account.sign_transaction(tx,json_load['privatekey'])</span><span id="3d25" class="ka kb ht lb b fv lj lg l lh li">    tx_hash = w3.eth.sendRawTransaction(signed_tx.rawTransaction)</span><span id="1a2d" class="ka kb ht lb b fv lj lg l lh li">    print("Congratulation! your transaction was successful \n TX Hash is : "+ w3.toHex(tx_hash)+"\n"</span></pre><p id="acb0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，我们应该从某个地方读取地址和金额，将CET发送到那个地方。解决方案是CSV。</p><h2 id="d40d" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jb kl km kn jf ko kp kq jj kr ks kt ku dt translated">战斗支援车</h2><p id="eace" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated"><strong class="is hu"> CSV(逗号分隔值)</strong>文件是一种纯文本文档，它使用特定的格式来组织表格信息。CSV文件格式是一种有界文本文档，使用逗号来区分值。文档中的每一行都是一个数据日志。每个日志由一个或多个用逗号分隔的字段组成。这是用于导入和导出电子表格和数据库的最流行的文件格式。</p><p id="69a9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">使用触摸创建list.csv:</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="03a0" class="ka kb ht lb b fv lf lg l lh li">touch list.csv</span></pre><p id="32bd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们可以从简单的文本编辑器或使用电子表格应用程序(例如:excel)创建CSV文件</p><p id="f591" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">举例:</strong></p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="983b" class="ka kb ht lb b fv lf lg l lh li">address,amount<br/>0x2233f3C61513CB28C0D20E71cD1dd51dD67C626F,22.2<br/>0xed3C61G5513CB28C0D20E71cD1dd51dD67CX53B6,33.3</span></pre><p id="21e1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">要读取csv文件导入csv:</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="177c" class="ka kb ht lb b fv lf lg l lh li">import<!-- --> <!-- -->csv</span></pre><p id="1e5e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">然后打开list.csv</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="4975" class="ka kb ht lb b fv lf lg l lh li">with open('list.csv', mode ='r')as file:</span><span id="327c" class="ka kb ht lb b fv lj lg l lh li"># reading the CSV file</span><span id="88bb" class="ka kb ht lb b fv lj lg l lh li">csvFile =<!-- --> <!-- -->csv.reader(file)</span></pre><p id="6577" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在我们将地址和金额传递给send _ transcation():</p><pre class="jp jq jr js fq la lb lc ld aw le dt"><span id="3a45" class="ka kb ht lb b fv lf lg l lh li">for i in csvFile:<br/>        send_transaction(i[0],i[1])</span></pre><p id="991a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">祝贺🥳</p><p id="dbae" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在我们有了一个批量发送器，使我们的日常工作变得简单！</p><blockquote class="lk"><p id="e179" class="ll lm ht bd ln lo lp lq lr ls lt jn ek translated">交易新手？尝试<a class="ae lu" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或<a class="ae lu" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>