<html>
<head>
<title>NFT tied to IoT device</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NFT与物联网设备紧密相连</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/nft-tied-to-iot-device-a-demo-application-73fa760196a9?source=collection_archive---------10-----------------------#2022-07-29">https://medium.com/coinmonks/nft-tied-to-iot-device-a-demo-application-73fa760196a9?source=collection_archive---------10-----------------------#2022-07-29</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><h2 id="8fd9" class="hr hs ht bd b gc hu hv hw hx hy hz ek ia translated" aria-label="kicker paragraph"><a class="ae gr" rel="noopener" href="/@donpablooooo/list/nft-series-34dea60327e7"> NFT系列</a></h2><div class=""/><div class=""><h2 id="1667" class="pw-subtitle-paragraph iz ic ht bd b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ek translated">演示应用程序</h2></div><p id="0824" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">当前的NFT通常与虚拟或物理的被动资产相关联，但在以下场景中，没有什么可以阻止它们与智能物联网设备相关联:</p><ul class=""><li id="c7cd" class="kn ko ht jt b ju jv jx jy ka kp ke kq ki kr km ks kt ku kv dt translated">NFT的所有者向设备发送命令，</li><li id="f1d7" class="kn ko ht jt b ju kw jx kx ka ky ke kz ki la km ks kt ku kv dt translated">该设备可以检查命令是否来自NFT的所有者并服从。</li></ul><figure class="lc ld le lf fq lg fe ff paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="fe ff lb"><img src="../Images/557828aae34f7cabc53f7210c0406266.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*K57Ftur3s9JOPCxR"/></div></div></figure><p id="4330" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">这种情况与我在<a class="ae ln" rel="noopener" href="/coinmonks/nfts-how-should-be-used-7909d34748e4">之前的一篇文章</a>中描述的情况非常相似，其中描述了证明NFT所有权的过程。</p><p id="45f8" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">乍一看，这似乎很简单，因为NFT持有者的地址在区块链上是公开的，但实际问题是:“所有者如何向智能设备证明他控制着该地址的私钥？”。</p><p id="420c" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">在一个简化的场景中，需要什么？</p><p id="a5da" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">用户，其:</p><ul class=""><li id="3735" class="kn ko ht jt b ju jv jx jy ka kp ke kq ki kr km ks kt ku kv dt translated">拥有设备绑定到的NFT，</li><li id="5075" class="kn ko ht jt b ju kw jx kx ka ky ke kz ki la km ks kt ku kv dt translated">有一个能够签署信息的数字钱包。</li></ul><p id="15f0" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">一种物联网设备，其:</p><ul class=""><li id="9d8a" class="kn ko ht jt b ju jv jx jy ka kp ke kq ki kr km ks kt ku kv dt translated">知道它所联系的NFT是什么，</li><li id="33ca" class="kn ko ht jt b ju kw jx kx ka ky ke kz ki la km ks kt ku kv dt translated">具有可用于通信的可访问web端点。</li></ul><p id="635e" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">然后，需要一个移动应用程序或Web应用程序来实现用户和设备之间的通信。</p><p id="2874" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">下面是所有权验证过程的一个示例。物联网设备变成了车锁，用户变成了汽车的主人，当然还有相关的NFT(id为42)。</p><figure class="lc ld le lf fq lg fe ff paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="fe ff lo"><img src="../Images/190d6d644f5702e45e59eedc1984eaff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jNVoy7bPGk8TQyEW"/></div></div></figure><p id="6e07" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">在这里，车主希望通过应用解锁他的汽车，因此通过应用向物联网设备发送解锁请求。</p><p id="6abb" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">设备用包含命令和其它相关信息的消息来响应。当收到消息时，应用程序会要求用户的钱包签名。签名将保证用户就是他所声称的那个人。</p><figure class="lc ld le lf fq lg fe ff paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="fe ff lo"><img src="../Images/fc1665623188b6041a4b8b981daab90e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Wo0XyAhmixLcqmNY"/></div></div></figure><p id="e53e" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">然后，应用程序将签名的消息发送回设备。该设备验证签名并解析用户的地址。</p><p id="5cb9" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">现在，设备已经具备了验证命令是否来自其实际所有者的所有要素。因此，它查询区块链并检查其关联NFT的所有者是否与消息发送者的地址匹配。如果是，解锁命令被触发，汽车打开。</p><p id="21c9" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">如果您对技术细节更感兴趣，我建议您阅读我以前的文章:“<a class="ae ln" rel="noopener" href="/coinmonks/nfts-how-should-be-used-7909d34748e4">实用程序NFT:如何证明所有权</a>”，在这里您可以找到部件之间交换消息的示例和一些代码片段，以了解验证应该如何实现。</p><h1 id="7de9" class="lp lq ht bd lr ls lt lu lv lw lx ly lz ji ma jj mb jl mc jm md jo me jp mf mg dt translated">演示应用程序</h1><p id="0c41" class="pw-post-body-paragraph jr js ht jt b ju mh jd jw jx mi jg jz ka mj kc kd ke mk kg kh ki ml kk kl km hm dt translated">在<a class="ae ln" href="https://rentable-nft.vercel.app" rel="noopener ugc nofollow" target="_blank">https://rentable-NFT . vercel . app</a>你可以找到整个过程的演示应用。</p><p id="38a1" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">当然，物联网设备是假的，你只会看到设备的图像，向它发送命令就意味着用另一个图像来改变那个图像。但我希望这足以理解事情是如何运作的。</p><p id="93a3" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">在演示中，我将假设备与可租赁的NFT相关联，因此您不需要成为NFT的所有者，而是它的“用户”。</p><p id="250b" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">如果你不知道什么是可出租的NFT，基本上它介绍了NFT的“用户”的数字，以便NFT的所有者可以在一定时间内将其出租给用户。在此期间，用户暂时获得NFT赋予的特权，但不能转让其所有权。</p><p id="79b8" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">如果你对可出租的NFTs更好奇，我推荐你这篇文章“<a class="ae ln" rel="noopener" href="/coinmonks/rentable-nft-eip-4907-how-can-be-improved-b20a1b5a27bf">可出租的NFT (ERC-4907):如何才能改进</a>”，里面有更多的细节。</p><figure class="lc ld le lf fq lg fe ff paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="fe ff mm"><img src="../Images/a31ff5dd30c13fc1a941d9b1454ec01c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7IJGK3RTUvMsQjlpxBohXA.png"/></div></div></figure><p id="04a3" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">该网站位于格利测试网络上，你所需要的只是一个装有格利的数字钱包，它将被用来租一辆NFT。你可以通过歌尔丽水龙头(【https://goerlifaucet.com】)将歌尔丽发送到你的钱包里。</p><p id="0441" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">第一步是将你的钱包连接到该网站，然后去汽车区(或另一个)寻找“可租赁的汽车”。</p><figure class="lc ld le lf fq lg fe ff paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="fe ff mm"><img src="../Images/4c40ede357389435dbbb7852a0c0082e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ns4Y2NcB2feU2OMPXZBHeA.png"/></div></div></figure><p id="465b" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">点击可供租赁的汽车，然后点击“租赁”按钮。</p><figure class="lc ld le lf fq lg fe ff paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="fe ff mn"><img src="../Images/aecc404882651c0bd9ebf015403b6bee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ivJh3XvDV65BUJCxBJYBCA.png"/></div></div></figure><p id="295a" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">用钱包确认房租交易；耐心等待交易完成，只需0.0012格里斯(加上一些油费)，绑在那辆车上的NFT一小时就是你的了。</p><p id="971d" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">页面自动重新加载(如果没有，自己重新加载)，并显示汽车接受的两个可能的命令:“锁定”和“解锁”。点击“解锁”按钮。</p><figure class="lc ld le lf fq lg fe ff paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="fe ff mo"><img src="../Images/6d16054ff544fd2e46278c77e2571a70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dPt6nYGuy-DlLJmB"/></div></div></figure><p id="9413" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">现在，你的钱包上会出现来自“设备”的签名请求。签了它，等待奇迹发生。</p><figure class="lc ld le lf fq lg fe ff paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="fe ff mm"><img src="../Images/9bc874bb0fc2526b41e04052da1d3272.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bLQ8Vzsnv6JmOKwBxtcVJA.png"/></div></div></figure><p id="0bf1" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">在引擎盖下，解锁按钮向一个假的物联网终端发送“解锁请求”，由Web应用程序控制。端点用要签名的消息进行响应。然后，Web应用程序向钱包请求签名。在您确认后，钱包会对消息进行签名，并将签名返回给应用程序，应用程序会将消息和签名发送回“设备”端点。进入端点，有之前解释过的验证逻辑。如果一切正常，你会看到车门开着的车。</p><p id="54ad" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">反正没有什么比给https://github.com/donpabblo/rentable-nft看一下代码更好的了:<a class="ae ln" href="https://github.com/donpabblo/rentable-nft" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="7099" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">随时给我反馈(也是负面的，不用担心:-))，关于这个话题的评论和建议。</p><p id="ca9e" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hm dt translated">更多阅读来自<a class="ae ln" rel="noopener" href="/@donpablooooo/list/nft-series-34dea60327e7"> <strong class="jt id"> NFT系列</strong> </a>。</p><blockquote class="mp"><p id="2316" class="mq mr ht bd ms mt mu mv mw mx my km ek translated">交易新手？试试<a class="ae ln" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或者<a class="ae ln" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>