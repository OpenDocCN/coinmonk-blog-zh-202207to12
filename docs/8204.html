<html>
<head>
<title>#8 — Ethernaut Challenge 8— Vault</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">#8 —以太挑战8 —跳马</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/8-ethernaut-challenge-8-vault-a245a2c5dc62?source=collection_archive---------69-----------------------#2022-12-28">https://medium.com/coinmonks/8-ethernaut-challenge-8-vault-a245a2c5dc62?source=collection_archive---------69-----------------------#2022-12-28</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/883a53dff16d042a82313fab4e34ea07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ckbqo6KmepnMSEfzLsm1iw.png"/></div></div></figure><h1 id="f04a" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">挑战的目标:</h1><ul class=""><li id="7013" class="jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dt translated">解锁金库以通过关卡</li></ul><h1 id="fb32" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">理解代码:</h1><pre class="kr ks kt ku fq kv kw kx bn ky kz bi"><span id="7ab3" class="la jc ht kw b be lb lc l ld le">// SPDX-License-Identifier: MIT<br/>pragma solidity ^0.8.0;<br/><br/>contract Vault {<br/>  bool public locked;<br/>  bytes32 private password;<br/><br/>  constructor(bytes32 _password) {<br/>    locked = true;<br/>    password = _password;<br/>  }<br/><br/>  function unlock(bytes32 _password) public {<br/>    if (password == _password) {<br/>      locked = false;<br/>    }<br/>  }<br/>}</span></pre><p id="1053" class="pw-post-body-paragraph lf lg ht kb b kc lh li lj ke lk ll lm kg ln lo lp ki lq lr ls kk lt lu lv km hm dt translated">代码声明了一个公共变量locked，这是一个布尔类型的变量，它将检查保险库是否被锁定。还有一个名为password的bytes32类型的私有变量。这个密码可能是私有的，但是我们将会看到，它仍然是可访问的。构造函数将锁定的变量标记为true，并设置来自部署者的部署附带的密码a _password。</p><p id="5f8c" class="pw-post-body-paragraph lf lg ht kb b kc lh li lj ke lk ll lm kg ln lo lp ki lq lr ls kk lt lu lv km hm dt translated">unlock函数接受_password作为参数，如果密码匹配，则解锁vault。</p><blockquote class="lw"><p id="811f" class="lx ly ht bd lz ma mb mc md me mf km ek translated">交易新手？在<a class="ae mg" rel="noopener" href="/coinmonks/crypto-exchange-dd2f9d6f3769">最佳密码交易所</a>上尝试<a class="ae mg" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a>或<a class="ae mg" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote><h1 id="e8cc" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm mh jo jp jq mi js jt ju mj jw jx jy dt translated">怎么黑这个合同？</h1><ol class=""><li id="ec56" class="jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km mk ko kp kq dt translated">在Ethernaut页面上启动控制台，并获得一个新实例。</li><li id="6dc7" class="jz ka ht kb b kc ml ke mm kg mn ki mo kk mp km mk ko kp kq dt translated">让我们通过检查<strong class="kb hu"> await contract.locked()来检查保险库是否真正锁定。</strong>它应该返回<strong class="kb hu"> true </strong>表示保险库被锁定。</li><li id="c351" class="jz ka ht kb b kc ml ke mm kg mn ki mo kk mp km mk ko kp kq dt translated">现在，让我们使用web3js —继续输入<strong class="kb hu">await web 3 . eth . getstorageat(contract . address，1)。</strong>这个命令只是检查契约的存储，以及在契约的内存槽中有什么可用(嗯，令人震惊:你的私有变量也是可见的)。所以，我们传入1的值来获得密码，如果你想获得锁定变量的值，你可以输入0。这是因为我们按顺序声明了这两个变量。所以在您运行这个命令之后，您会得到密码。</li><li id="0e7b" class="jz ka ht kb b kc ml ke mm kg mn ki mo kk mp km mk ko kp kq dt translated">现在你所要做的就是<strong class="kb hu"> contract.unlock("x ")，</strong>其中x是你在上一步中得到的密码。</li><li id="2a51" class="jz ka ht kb b kc ml ke mm kg mn ki mo kk mp km mk ko kp kq dt translated">检查<strong class="kb hu"> await contract.locked() </strong>以确保<strong class="kb hu"> locked </strong>现在为false并提交实例！</li><li id="52fe" class="jz ka ht kb b kc ml ke mm kg mn ki mo kk mp km mk ko kp kq dt translated">恭喜你！你打开了保险库！</li></ol><p id="e0f8" class="pw-post-body-paragraph lf lg ht kb b kc lh li lj ke lk ll lm kg ln lo lp ki lq lr ls kk lt lu lv km hm dt translated">如果你觉得这个博客有帮助，请关注并为更多类似的内容鼓掌！</p><p id="1019" class="pw-post-body-paragraph lf lg ht kb b kc lh li lj ke lk ll lm kg ln lo lp ki lq lr ls kk lt lu lv km hm dt translated">谢谢你读到这里。</p><blockquote class="lw"><p id="10b5" class="lx ly ht bd lz ma mb mc md me mf km ek translated">加入Coinmonks <a class="ae mg" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae mg" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="944c" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm mh jo jp jq mi js jt ju mj jw jx jy dt translated">另外，阅读</h1><ul class=""><li id="2a22" class="jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dt translated"><a class="ae mg" href="https://coincodecap.com/huobi-crypto-trading-signals" rel="noopener ugc nofollow" target="_blank">用于Huobi的加密交易信号</a> | <a class="ae mg" rel="noopener" href="/coinmonks/hitbtc-review-c5143c5d53c2"> HitBTC审查</a></li><li id="d079" class="jz ka ht kb b kc ml ke mm kg mn ki mo kk mp km kn ko kp kq dt translated"><a class="ae mg" href="https://coincodecap.com/traderwagon-review" rel="noopener ugc nofollow" target="_blank"> TraderWagon回顾</a> | <a class="ae mg" href="https://coincodecap.com/kraken-vs-gemini-vs-bityard" rel="noopener ugc nofollow" target="_blank">北海巨妖vs双子星vs BitYard </a></li><li id="18b6" class="jz ka ht kb b kc ml ke mm kg mn ki mo kk mp km kn ko kp kq dt translated"><a class="ae mg" href="https://coincodecap.com/ftx-futures-trading" rel="noopener ugc nofollow" target="_blank">如何在FTX交易所交易期货</a></li><li id="dfd5" class="jz ka ht kb b kc ml ke mm kg mn ki mo kk mp km kn ko kp kq dt translated"><a class="ae mg" href="https://coincodecap.com/okex-kucoin" rel="noopener ugc nofollow" target="_blank"> OKEx vs KuCoin </a> | <a class="ae mg" href="https://coincodecap.com/celsius-alternatives" rel="noopener ugc nofollow" target="_blank">摄氏替代品</a> | <a class="ae mg" href="https://coincodecap.com/buy-vechain" rel="noopener ugc nofollow" target="_blank">如何购买VeChain </a></li><li id="3d22" class="jz ka ht kb b kc ml ke mm kg mn ki mo kk mp km kn ko kp kq dt translated"><a class="ae mg" href="https://coincodecap.com/profitfarmers-review" rel="noopener ugc nofollow" target="_blank"> ProfitFarmers回顾</a> | <a class="ae mg" href="https://coincodecap.com/cornix-trading-bot" rel="noopener ugc nofollow" target="_blank">如何使用Cornix Trading Bot </a></li></ul></div></div>    
</body>
</html>