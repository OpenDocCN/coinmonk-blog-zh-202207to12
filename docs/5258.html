<html>
<head>
<title>CSC101- Slither</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSC101- Slither</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/csc101-slither-22a04ec8ac6f?source=collection_archive---------21-----------------------#2022-10-20">https://medium.com/coinmonks/csc101-slither-22a04ec8ac6f?source=collection_archive---------21-----------------------#2022-10-20</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="c688" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们已经在前面的教程中讨论了智能合同审计和常见漏洞。在这个实践教程中，我们想使用slither审计我们的智能合同。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff jo"><img src="../Images/78db353f85d00a7149d8bc2b6bc3c9de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nYib8N6wIy-Papn96wyEKg.png"/></div></div></figure><h2 id="eae6" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jb kl km kn jf ko kp kq jj kr ks kt ku dt translated">滑行</h2><p id="a073" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated">Slither是一个用Python 3编写的Solidity静态分析框架。它运行一套漏洞检测器，打印关于合同细节的可视信息，并提供一个API来轻松编写定制分析。Slither使开发人员能够发现漏洞，增强他们对代码的理解，并快速原型化定制分析。</p><h1 id="a7e1" class="la kb ht bd kc lb lc ld kg le lf lg kk lh li lj kn lk ll lm kq ln lo lp kt lq dt translated">特征</h1><ul class=""><li id="9387" class="lr ls ht is b it kv ix kw jb lt jf lu jj lv jn lw lx ly lz dt translated">以较低的误报率检测易受攻击的可靠性代码(参见<a class="ae ma" href="https://github.com/crytic/slither/blob/master/trophies.md" rel="noopener ugc nofollow" target="_blank">奖杯</a>列表)</li><li id="14b3" class="lr ls ht is b it mb ix mc jb md jf me jj mf jn lw lx ly lz dt translated">标识源代码中错误条件出现的位置</li><li id="bf77" class="lr ls ht is b it mb ix mc jb md jf me jj mf jn lw lx ly lz dt translated">轻松集成到持续集成和块菌构建中</li><li id="2622" class="lr ls ht is b it mb ix mc jb md jf me jj mf jn lw lx ly lz dt translated">内置“打印机”可快速报告重要的合同信息</li><li id="b7ce" class="lr ls ht is b it mb ix mc jb md jf me jj mf jn lw lx ly lz dt translated">用Python编写定制分析的检测器API</li><li id="3591" class="lr ls ht is b it mb ix mc jb md jf me jj mf jn lw lx ly lz dt translated">能够分析坚实度&gt; = 0.4的合同</li><li id="1bc6" class="lr ls ht is b it mb ix mc jb md jf me jj mf jn lw lx ly lz dt translated">中间表示(<a class="ae ma" href="https://github.com/trailofbits/slither/wiki/SlithIR" rel="noopener ugc nofollow" target="_blank"> SlithIR </a>)支持简单、高精度的分析</li><li id="aa68" class="lr ls ht is b it mb ix mc jb md jf me jj mf jn lw lx ly lz dt translated">正确解析99.9%的公共安全代码</li><li id="d52a" class="lr ls ht is b it mb ix mc jb md jf me jj mf jn lw lx ly lz dt translated">每个合同的平均执行时间不到1秒</li></ul><h2 id="e110" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jb kl km kn jf ko kp kq jj kr ks kt ku dt translated">装置</h2><p id="eeb0" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated">要在终端类型中安装Slither:</p><pre class="jp jq jr js fq mg mh mi mj aw mk dt"><span id="a006" class="ka kb ht mh b fv ml mm l mn mo">pip3 install slither-analyzer</span></pre><p id="b871" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你也可以从github库安装它:</p><pre class="jp jq jr js fq mg mh mi mj aw mk dt"><span id="503f" class="ka kb ht mh b fv ml mm l mn mo">git clone https://github.com/crytic/slither.git &amp;&amp; cd slither<br/>python3 setup.py install</span></pre><p id="4d01" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">注意:</strong>如果你喜欢通过git安装Slither，Slither开发团队推荐使用Python虚拟环境，详见<a class="ae ma" href="https://github.com/trailofbits/slither/wiki/Developer-installation" rel="noopener ugc nofollow" target="_blank">开发者安装说明</a>。</p><p id="ca2a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你也可以使用Docker安装slither:</p><p id="57af" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">使用<code class="eh mp mq mr mh b"><a class="ae ma" href="https://github.com/trailofbits/eth-security-toolbox/" rel="noopener ugc nofollow" target="_blank">eth-security-toolbox</a></code> docker图像。它在一个映像中包含了我们所有的安全工具和Solidity的每个主要版本。<code class="eh mp mq mr mh b">/home/share</code>将被安装到<code class="eh mp mq mr mh b">/share</code>的集装箱中。</p><pre class="jp jq jr js fq mg mh mi mj aw mk dt"><span id="fa57" class="ka kb ht mh b fv ml mm l mn mo">docker pull trailofbits/eth-security-toolbox</span></pre><p id="fed7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">要共享容器中的目录:</p><pre class="jp jq jr js fq mg mh mi mj aw mk dt"><span id="71c1" class="ka kb ht mh b fv ml mm l mn mo">docker run -it -v /home/share:/share trailofbits/eth-security-toolbox</span></pre><h2 id="4d23" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jb kl km kn jf ko kp kq jj kr ks kt ku dt translated">使用</h2><p id="da54" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated">在Truffle/Embark/Dapp/ether lime/hard hat应用程序上运行Slither:</p><pre class="jp jq jr js fq mg mh mi mj aw mk dt"><span id="c11d" class="ka kb ht mh b fv ml mm l mn mo">slither .</span></pre><p id="9558" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">对单个文件运行Slither:</p><pre class="jp jq jr js fq mg mh mi mj aw mk dt"><span id="d91d" class="ka kb ht mh b fv ml mm l mn mo">slither tests/uninitialized.sol</span></pre><h2 id="8775" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jb kl km kn jf ko kp kq jj kr ks kt ku dt translated">综合</h2><ul class=""><li id="f607" class="lr ls ht is b it kv ix kw jb lt jf lu jj lv jn lw lx ly lz dt translated">对于GitHub动作集成，使用<a class="ae ma" href="https://github.com/marketplace/actions/slither-action" rel="noopener ugc nofollow" target="_blank">滑动动作</a>。</li><li id="b679" class="lr ls ht is b it mb ix mc jb md jf me jj mf jn lw lx ly lz dt translated">要生成降价报告，使用<code class="eh mp mq mr mh b">slither [target] --checklist</code>。</li><li id="1c9c" class="lr ls ht is b it mb ix mc jb md jf me jj mf jn lw lx ly lz dt translated">要生成GitHub源代码高亮显示的Markdown，使用<code class="eh mp mq mr mh b">slither [target] --checklist --markdown-root https://github.com/ORG/REPO/blob/COMMIT/</code>(替换<code class="eh mp mq mr mh b">ORG</code>、<code class="eh mp mq mr mh b">REPO</code>、<code class="eh mp mq mr mh b">COMMIT</code>)</li></ul><p id="d536" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">使用<a class="ae ma" href="https://github.com/crytic/solc-select" rel="noopener ugc nofollow" target="_blank">solc——如果您的合同需要旧版本的solc，请选择</a>。有关其他配置，请参见<a class="ae ma" href="https://github.com/trailofbits/slither/wiki/Usage" rel="noopener ugc nofollow" target="_blank">用法</a>文档。</p><p id="21ed" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们可以在安全帽上使用滑板。就这么办吧！</p><p id="8dff" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><code class="eh mp mq mr mh b">npx hardhat compile</code></p><h2 id="ff5b" class="ka kb ht bd kc kd ke kf kg kh ki kj kk jb kl km kn jf ko kp kq jj kr ks kt ku dt translated">分析/审计</h2><p id="444d" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated">要分析智能合同，只需在终端中键入:</p><pre class="jp jq jr js fq mg mh mi mj aw mk dt"><span id="f9c6" class="ka kb ht mh b fv ml mm l mn mo">slither .</span></pre><h1 id="80d5" class="la kb ht bd kc lb lc ld kg le lf lg kk lh li lj kn lk ll lm kq ln lo lp kt lq dt translated">研究修复</h1><p id="b434" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated">通过使用google找到slither标记的问题，并研究和测试可能的修复方法，优先修复最严重的错误。</p><blockquote class="ms mt mu"><p id="9a06" class="iq ir mv is b it iu iv iw ix iy iz ja mw jc jd je mx jg jh ji my jk jl jm jn hm dt translated">记住每次你改变一个solidity文件时，你都必须在扫描前清理并重新编译。</p></blockquote><p id="6ebd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这个阶段可能非常复杂，为了完全理解、测试和建模控制流，您需要具备良好的开发知识水平，以便真正测试逻辑并确保它按预期工作。</p><p id="c93a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">实现这一点的最佳方式是通过自动化测试脚本，关于这一点的一篇好文章可以在<a class="ae ma" href="https://ethereum.org/en/developers/docs/smart-contracts/testing/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><blockquote class="mz"><p id="ff8e" class="na nb ht bd nc nd ne nf ng nh ni jn ek translated">交易新手？尝试<a class="ae ma" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或<a class="ae ma" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>