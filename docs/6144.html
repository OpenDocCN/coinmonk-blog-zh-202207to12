<html>
<head>
<title>Being a Super Rookie in Blockchain — [Blockchain Overall] 3. Consensus Algorithm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">做区块链超级新秀——【区块链整体】3。一致性算法</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/being-a-super-rookie-in-blockchain-blockchain-overall-3-consensus-algorithm-4f6f7f13d1f1?source=collection_archive---------34-----------------------#2022-11-09">https://medium.com/coinmonks/being-a-super-rookie-in-blockchain-blockchain-overall-3-consensus-algorithm-4f6f7f13d1f1?source=collection_archive---------34-----------------------#2022-11-09</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><pre class="iq ir is it fq iu iv iw ix aw iy dt"><span id="a3a0" class="iz ja ht iv b fv jb jc l jd je">Suitable for everyone to read</span></pre><p id="99c5" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="kd">第一次拜访我的故事？去查查我之前的故事。</em></p><div class="ke kf fm fo kg kh"><a rel="noopener follow" target="_blank" href="/@hottestchilipepper/being-a-super-rookie-in-blockchain-blockchain-overall-2188428c0181"><div class="ki ab ej"><div class="kj ab kk cl cj kl"><h2 class="bd hu fv z el km eo ep kn er et hs dt translated">成为区块链的超级新秀—[区块链整体]</h2><div class="ko l"><h3 class="bd b fv z el km eo ep kn er et ek translated">1.区块链是什么鬼？</h3></div><div class="kp l"><p class="bd b gc z el km eo ep kn er et ek translated">medium.com</p></div></div><div class="kq l"><div class="kr l ks kt ku kq kv kw kh"/></div></div></a></div><p id="1724" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="kd">如果你在谷歌上搜索了“如何开始区块链职业生涯”、“如何开始区块链职业生涯”、“在区块链找工作”、“成为区块链设计师”、“成为区块链金融建筑师”和“成为区块链开发商”，请抓紧了</em></p></div><div class="ab cl kx ky hb kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hm hn ho hp hq"><h1 id="84b6" class="le ja ht bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma dt translated">3.一致性算法</h1><p id="340d" class="pw-post-body-paragraph jf jg ht jh b ji mb jk jl jm mc jo jp jq md js jt ju me jw jx jy mf ka kb kc hm dt translated">“共识算法”是区块链网络参与者之间的一种共识方式。它是区块链协议的一部分。</p><p id="550e" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">提醒一下我们之前做的路易网。本打算给大卫寄1美元。Ben会将前一个块的哈希值加上句子“Ben sent 1 dollar to David”写入新的块中。然后，他会从上面的内容中派生出一个新的哈希值，并写入块中。这整个过程被称为“区块生产”、“区块创造”或“区块提议”<br/>本应复制新积木，并将其交给路易网络的参与者路易、蒂姆和丹。称这个过程为“阻塞传播”</p><h1 id="eb56" class="le ja ht bd lf lg mg li lj lk mh lm ln lo mi lq lr ls mj lu lv lw mk ly lz ma dt translated">3.1砌块生产规则</h1><p id="a8ed" class="pw-post-body-paragraph jf jg ht jh b ji mb jk jl jm mc jo jp jq md js jt ju me jw jx jy mf ka kb kc hm dt translated">你不傻就一定有问题。只有Ben应该创建一个新的block，让Ben向David发送美元吗？这不是必要的。<br/>由于网络参与者遵守网络协议，我们可以规定想要发送美元的参与者应该产生新的块。在这个规则中，Ben应该是一个网络参与者，以便Ben可以向David发送美元。</p><p id="87fa" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">但是，有一个假设，即块数据和网络参与者是完全独立的。正因为如此，才有优势；即使没有钱，任何人都可以参加。这是“路易协议”的一部分。</p><p id="6ca7" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">因此，区块链网络中的任何人都可以生成一个新的块，并传播它来记录Ben向David发送了1美元。一个问题，“谁生产一个新块？”发生在此时。区块链协议的一部分是“共识算法”来解决这个问题。</p><h2 id="fa84" class="iz ja ht bd lf ml mm mn lj mo mp mq ln jq mr ms lr ju mt mu lv jy mv mw lz mx dt translated">动力</h2><p id="aec9" class="pw-post-body-paragraph jf jg ht jh b ji mb jk jl jm mc jo jp jq md js jt ju me jw jx jy mf ka kb kc hm dt translated">PoW是“工作证明”的缩写这是最著名的共识算法。比特币用的是PoW，过去以太坊用的是PoW。(以太坊已将其共识算法改为PoS)</p><p id="4bd0" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">提醒路易网。当本想给大卫寄1美元时，本可以造一个句子(明显是‘数据’)，‘本给大卫寄了1美元’。然后将其发送给网络参与者。(这个过程显然不是‘传播’。)</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff my"><img src="../Images/5500a3841a53ed4df9942ce5ef73c9ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eA2bU6aTKEFW1eoHSD_s0A.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 1] Ben send the sentence to the other participants.</figcaption></figure><p id="93b0" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">然后，参与者路易斯、本、蒂姆和丹将前一个块的哈希值加上句子“本给大卫发了1美元”，再加上一个特定的数字，放入哈希函数中。哈希函数将返回一个哈希值。如果散列值低于特定值，则新块可以被传播并被区块链网络接受。你可能不明白是什么意思。还不错。让我们深潜。</p><p id="35f1" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">首先，我们必须知道“什么哈希值比另一个低”的含义。提醒哈希值。好像是‘0x 646 e 7 c 6 e 249 e 9 a 73 fa 8453099 c 7164 Fe 713 af 91e。’从本系列的第一个故事中我们知道，哈希值是十六进制的。十六进制是一种数字。所以我们可以比较两个十六进制。我们可以很容易地比较，如果一些零在十六进制的头部。0x0000bcd低于0x000abcd，因为每个有四个和三个零。你可能知道二进制数。二进制数11在十进制数中是2+1 = 3。二进制数111在十进制数中是2 +2+1 = 7。我们可以在数字的开头加零，比如011和111。我们可以注意到前者比后者低。</p><p id="ef48" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">站在路易的角度想想。他收到的句子是，“本给大卫寄了1美元。”然后Louis把[前一个块的hash值]+[收到的句子]+[一个特定的数]放入hash函数。哈希函数将返回一个哈希值。如果哈希值不低于特定值，则使用更改后的特定数字重试该过程。我们称这个特定的数字为“随机数”，称这个特定的值为“目标值”。'</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff nj"><img src="../Images/6557066f3a6dd5a213f1d6e931e7090c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4FQAhbVxCA6VQae9gXhHVw.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 2] Hash Function returns a hash created from the previous block’s hash value plus the received sentence plus a nonce.</figcaption></figure><p id="f538" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">“目标值”似乎是“0x 000000000000 ffffffffffffffffff”低于目标值意味着在头部具有比目标值更多或相等的零。开头的零的数量被称为“难度”那是什么意思？哈希值的位数固定为32。如果目标值有五个零，散列值的个数是2^(32–5)= 2 ⁷.否则，如果目标值有二十个零，则散列值的情况数是2^(32–20)= 2。您可以直观地看到，前者比后者更容易找到nonce。你猜对了。难度5比难度20容易。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff nk"><img src="../Images/3cc302d6ac73803dd7a4f70a83be4b15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1H6UFvFWHP1fW6mrUkKODw.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 3] Finding a proper nonce when the Difficulty is 12.</figcaption></figure><p id="22aa" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">最后，如果Louis找到了一个使哈希值满足“难度”的“Nonce”，则将[前一个块的哈希值]、[收到的句子]和[Nonce]记录到一个新块中。然后将该块传播到区块链网络。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff nl"><img src="../Images/4725bfff15b936b7338c308d96c3a22d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YOLE0jFKylD1RfwmA3RCtw.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 4] Louis found a proper nonce and wrote it and the hash value to a new block. Then propagate the new block to the other blockchain network participants.</figcaption></figure><p id="5473" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">随机数也是十六进制的。提醒哈希函数的特性。如果至少有一个数字发生变化，那么导出的哈希值将完全不同。在这种情况下，用任何随机数导出的散列值将完全随随机数而变化。所以找到一个符合“困难”的随机数是非常困难的。</p><p id="35df" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">我们不需要从0中寻找来得到一个符合难度的nonce。它可以从任意随机数开始。因为低于目标值的数字在数学上分布良好，所以无论你从哪里开始观察，找到合适随机数的概率总是相同的。</p><p id="87ef" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">如果丹找到一个合适的随机数，将其放入一个新的块中，并将该块传播到区块链网络，则接收到该块的其他人可能会停下来寻找一个随机数，并验证丹所做的块。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff nm"><img src="../Images/57297b688ab2f942c4cfd6141b7096f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yvws2wg_zB-RABFgY2f4Sw.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 5] Dan found a proper nonce. He made a new block and propagated it to the others. The others stop to find a nonce and validate the block from Dan.</figcaption></figure><p id="14c7" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">验证是确认新块是否有效。如果它是无效的，参与者不接受它并继续寻找一个随机数。我们将在以后的故事中探讨如何验证块。</p><h2 id="ebff" class="iz ja ht bd lf ml mm mn lj mo mp mq ln jq mr ms lr ju mt mu lv jy mv mw lz mx dt translated">位置</h2><p id="c1e5" class="pw-post-body-paragraph jf jg ht jh b ji mb jk jl jm mc jo jp jq md js jt ju me jw jx jy mf ka kb kc hm dt translated">PoS是“标桩证明”的缩写2022年9月，以太坊将其共识算法从PoW改为PoS。到目前为止，它似乎运行良好。</p><p id="26ce" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">记住，有四个网络参与者。路易斯有92美元，本有5美元，蒂姆有3美元，丹没有。想要在PoS上创建积木的参与者需要下注。假设所有参与者都押上了他们所有的钱。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff my"><img src="../Images/5500a3841a53ed4df9942ce5ef73c9ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eA2bU6aTKEFW1eoHSD_s0A.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 6] Ben wants to send 1 dollar to David when the number of blocks made is 3.</figcaption></figure><p id="617e" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在Louis协议中有一个承诺，将100个块创建的持续时间设置为一个“回合”。下注的参与者一个接一个地成为街区生产者。什么块必须由谁来生产。目前，Louis网络中有三个块，因此编号从4到95的块应该由Louis创建。编号从96到100的块应该由Ben创建，编号从101到103的块应该由Tim创建。丹从来不玩积木，因为他没有押任何美元。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff nn"><img src="../Images/319b3a5acadfdaa527c864902dd2eb2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JXB13xxnUAG9gac4xraQ4g.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 7] The block numbers that can be created by someone who staked some dollars.</figcaption></figure><p id="04c1" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">如果本造了一个积木，而另一个只能造一个积木，会发生什么？由于网络协议，所有参与者都知道谁可以产生块。因此，如果发生这种情况，参与者不会接受本的阻止，而被允许创建阻止的人会说一句话，“本给财政部送了2美元”，作为惩罚。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff my"><img src="../Images/f233d89684d33931701b7fbfee42ad3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pMojykcB6NtrfPgmhIyOBA.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 8] Ben creates a block when he is not allowed to create a block.</figcaption></figure><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff my"><img src="../Images/c5f7e9425695089d28c2a604ece9e18f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QiivqjACs7aYvqi_gi4hhQ.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 9] Tim insists that it is not Ben’s turn.</figcaption></figure><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff my"><img src="../Images/cfdc0cb079fe3738e7db1a4357b4b167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mnH4d3vnDqEsp4gpZA6qoA.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 10] Ben should pay some dollars as a punishment.</figcaption></figure><h2 id="0b98" class="iz ja ht bd lf ml mm mn lj mo mp mq ln jq mr ms lr ju mt mu lv jy mv mw lz mx dt translated">3.1.3残疾人组织</h2><p id="a6d0" class="pw-post-body-paragraph jf jg ht jh b ji mb jk jl jm mc jo jp jq md js jt ju me jw jx jy mf ka kb kc hm dt translated">DPoS是“委托立桩证明”的缩写假设路易斯网络的参与者已经增长到1000人，包括路易斯、本、蒂姆和丹。Louis不能将新块直接传播给999个参与者。另一方面，路易斯把它传播给身边的人，然后他们再传播给其他人。因此，如果区块链网络中有太多参与者，传播数据块可能需要很长时间。</p><p id="fb9b" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">我们还应该选择希望在PoS中生产积木的参与者。这也很难。残疾人组织的出现就是为了解决这些问题。</p><p id="5b12" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">假设Louis Network采用了DPoS，Louis、Ben、Tim和Dan坚持要成为委员会成员。委员会成员只能在dpo中生成块。所有在路易斯网络中拥有美元的参与者都可以将他们的美元委托给想要成为委员会成员的人。我们称这一过程为“委托立桩”</p><p id="1db7" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">委托赌注美元在PoS中以这种方式有效。例如，路易斯、本和蒂姆自己委托他们的美元。假设路易斯拿了代表102美元，本242美元，蒂姆124美元，丹372美元。以下是标桩比率。并且它们属于每个可以创建多少个块。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff no"><img src="../Images/bb77020f71d40a1daf0a9edc14a02a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XmfHDvlgZpO0XaE4FENj-A.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 11] Chance to create new blocks for each delegated participant.</figcaption></figure><h1 id="d0a5" class="le ja ht bd lf lg mg li lj lk mh lm ln lo mi lq lr ls mj lu lv lw mk ly lz ma dt translated">3.2终局性</h1><p id="ca64" class="pw-post-body-paragraph jf jg ht jh b ji mb jk jl jm mc jo jp jq md js jt ju me jw jx jy mf ka kb kc hm dt translated">终结性是一种保证或担保，即所有过去的块都是固定的，不能被修改或删除。有些区块链是终局的，有些保证是终局的。几乎所有权力区块链都以概率方式作出决定。波斯特·区块链用投票来保证最终结果。</p><h2 id="0bf9" class="iz ja ht bd lf ml mm mn lj mo mp mq ln jq mr ms lr ju mt mu lv jy mv mw lz mx dt translated">概率终结性</h2><p id="5c69" class="pw-post-body-paragraph jf jg ht jh b ji mb jk jl jm mc jo jp jq md js jt ju me jw jx jy mf ka kb kc hm dt translated">可以在功率区块链网络中创建两个或多个新块。想象一下路易斯网络使用电力。路易斯、本、蒂姆和丹之间的网速各不相同。两个部分控制着互联网的速度。其中之一是潜伏期。假设块在参与者之间传播需要时间，如下图所示。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff np"><img src="../Images/77bcec2300b64d406647e1704dc356c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5LsVaa0ji0GGkX-kHYL19g.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 12] Network latency between network participants.</figcaption></figure><p id="f820" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">一旦Louis创建了一个块，将它发送给Ben需要0.3秒(= 300毫秒)，Tim需要0.2秒。将Tim收到的接收块重新发送给Dan需要0.25秒。因此，向所有参与者传播一个新块将花费0.45秒，至少在找到一个适当的随机数之后。</p><p id="6a3e" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">如果路易斯找到了一个适当的随机数，而丹也在0.1秒后找到了另一个随机数，那么路易斯的新块和丹的新块存在于路易斯网络上。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff np"><img src="../Images/abe944b4364638d9d6ea6693ab71fdad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ATgET3AwP4BlFS-8WlgIcA.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 13] Louis’ new block and Dan’s new block exist on the Louis Network.</figcaption></figure><p id="730a" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在时间流逝的0.3秒后，路易斯找到了一个合适的随机数，蒂姆收到了路易斯创造的红色方块，本收到了丹创造的蓝色方块。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff np"><img src="../Images/d91e1796fbd844ce9a3f4965e031d31b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*orqHEk8WhOtFMWwnmIMLOg.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 14] Forked chain occurred.</figcaption></figure><p id="bded" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">从路易斯找到一个合适的随机数开始，经过了0.55秒的时间，红色和蓝色块已经在路易斯的网络中传播。在这种情况下，区块链显示单链变成两个分支。我们称这种情况为“分叉”</p><p id="196b" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">聚焦[图片13]。久而久之，所有参与者将占领区块链网络的所有街区。尽管如此，由某人创建的以下块应该与在fork情况下首先接收的块相连接。如果因为Tim比blue block更早地从Louis那里收到了red block，所以他为下一个block找到了合适的nonce，那么他应该将新的block连接到red block。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff np"><img src="../Images/18a9d86c7e7c4794c59289f6951224c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*APHeq6zj4oAzduB8mbPe4Q.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 15] Tim makes a new block colored red because he received the red one earlier than the blue one.</figcaption></figure><p id="0e2e" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">经过一段时间后，Tim创建的红色块会传播给所有参与者。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff np"><img src="../Images/3f3c91bfc48c769b2a88d62d3d8b2204.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vuKB3lEdMK8WDlSWwqXvbA.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 16] Tim’s red block has been propagated to the all network participants.</figcaption></figure><p id="3b67" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">当一个新的区块在特定时间后连接到蓝色区块时，参与者一致认为带有红色区块的链是他们的规范链，而放弃蓝色区块。</p><p id="06f9" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">尽管有人创造的一些区块已经被传播，但这些区块在上述共识方法中可能会失效。换句话说，不能保证“这些区块是最终的”。</p><p id="db92" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">当Tim创建第五个块时，如果先收到蓝色块的Ben或Dan找到另一个适当的nonce并创建一个新的，则Louis Network上将有两个红色块和两个蓝色块。然后，在传播第六个区块之后，两个红色区块或两个蓝色区块将变成无效。</p><p id="3bc1" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">重点关注在PoW区块链中使用了“以概率方式做出最终决定”而不是“保证最终决定”。在上述情况下，总是存在同时(在完全传播之前)和连续制造两个块的概率。但只有可能性是如此之低。概率终结性是比特币的特征之一，因为它使用PoW。许多人将这种共识算法称为“中本聪共识”，中本聪发现，从数学上讲，形成两个六个街区长的分叉链的概率趋近于零。正因为如此，如果我们要说区块是最终确定的，那么通过六个区块应该是。一旦你在交易所存入或取出比特币，你可以看到存入或取出需要几分钟。该持续时间用于等待六个块。</p><h2 id="be0b" class="iz ja ht bd lf ml mm mn lj mo mp mq ln jq mr ms lr ju mt mu lv jy mv mw lz mx dt translated">确定性终结</h2><p id="bd3e" class="pw-post-body-paragraph jf jg ht jh b ji mb jk jl jm mc jo jp jq md js jt ju me jw jx jy mf ka kb kc hm dt translated">一些区块链网络参与者可以做出最终决定。我们可以在dpo上看到确定性终结特性。残疾人组织网络的参与者应该相互联系。当创建一个新的块时，所有参与者验证该块的生产者是被允许产生一个新的块并验证该块中的内容和散列的人。然后他们可以投票决定它是否有效。如果有超过三分之二的参与者投赞成票，该区块将被所有网络参与者接受。</p><p id="dce1" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">想象一下，路易斯创造了一个积木，本和蒂姆投票认为积木是好的，但丹投票认为积木是不正常的，就像[图片19]。网络参与者中的三个人，路易斯、本和蒂姆，投票认为这个街区不错。因为3/4比2/3更重要，所以该块被接受。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff my"><img src="../Images/1dc3385b634eb9de4f35b5a14186dd00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kJYzghnG91DYLIdP0SC2Cg.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 17] Louis made a new block.</figcaption></figure><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff nq"><img src="../Images/1b3641c398613eb4e4803c8e52b4aee8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nC_0AHaE9vsMGXb5QxpgKQ.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 18] Ben voted the block is correct.</figcaption></figure><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff my"><img src="../Images/1c154098c29168140931992f6e15b8bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oh3gfeyPnf2T9F66Jub2TA.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 19] Dan voted the block is wrong.</figcaption></figure><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff my"><img src="../Images/37594687c86c4dfa8eca9e1464643cdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vNPwSR6XBru3Pa24p_Shyg.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 20] Tim voted the block is correct.</figcaption></figure><p id="4fd7" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">区块链网络接受新块的整个过程被称为“块终结”我们可以说在DPos网络中保证了“块终结”,因为新的块在后续块被创建之前被终结。我们称这种特性为“确定性终结”</p><h1 id="c4b4" class="le ja ht bd lf lg mg li lj lk mh lm ln lo mi lq lr ls mj lu lv lw mk ly lz ma dt translated">3.3连锁选择规则</h1><p id="6d5d" class="pw-post-body-paragraph jf jg ht jh b ji mb jk jl jm mc jo jp jq md js jt ju me jw jx jy mf ka kb kc hm dt translated">如果区块链网络不保证最终性，则使用权力共识，可能出现分叉链。因此，对于网络参与者应该接受什么样的链，应该有一致的算法。</p><h2 id="7e5e" class="iz ja ht bd lf ml mm mn lj mo mp mq ln jq mr ms lr ju mt mu lv jy mv mw lz mx dt translated">最长链规则</h2><p id="7b9a" class="pw-post-body-paragraph jf jg ht jh b ji mb jk jl jm mc jo jp jq md js jt ju me jw jx jy mf ka kb kc hm dt translated">我们已经在“3.2.1概率终结”中应用了最长链规则</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff np"><img src="../Images/3f3c91bfc48c769b2a88d62d3d8b2204.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vuKB3lEdMK8WDlSWwqXvbA.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 21] The chain consisting of red blocks is canonical.</figcaption></figure><p id="96fc" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">上图显示，网络参与者将接受最长的链作为主链。在类似上图的情况下，可以选择由红色块组成的链。</p><p id="bcc8" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">然而，由于概率终结性特征存在于PoW中，每个参与者应该决定什么链更长，而不是所有参与者都不决定它。尽管每个参与者都可以自主决定积木，但只有一个链最终会被所有参与者接受，因为需要付出艰苦的努力才能生产出动力积木。</p><p id="2651" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">我们来看一个例子。返回到使用PoW将第三个块传播到Louis网络的情况。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff np"><img src="../Images/abe944b4364638d9d6ea6693ab71fdad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ATgET3AwP4BlFS-8WlgIcA.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 22] Louis and Dan each found proper nonces and made new blocks.</figcaption></figure><p id="625e" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">假设路易斯和丹同时找到了第四个区块的正确随机数(不完全同时，但略有相同)。0.2秒后，蒂姆从路易斯手中接过红色方块，本从丹手中接过蓝色方块。然后红色和蓝色块传播到所有网络参与者。最后出现了分叉链。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff np"><img src="../Images/46bd13512c8ce075ff0f438a925518db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9XoxreN7Wp4WN-H9DLWolw.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 23] The fork occurred.</figcaption></figure><p id="a77a" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">与之前故事的图像不同，本和丹拥有的蓝色方块显示在红色方块的上方。它意味着每个网络参与者的链的优先级。轻松地说，路易斯和蒂姆将试着把下面的积木和红色的连接起来，本和丹将试着把下面的积木和蓝色的连接起来。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff np"><img src="../Images/416b6525bc413dc53679925e2fc5bbe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mstSKKVhEyEH2V4FUi18jw.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 24] Ben found a proper nonce and propagated it.</figcaption></figure><p id="e219" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">如果Ben为第5个块找到一个合适的随机数，并传播一个新块，蓝色块可能会被附加到参与者的链中，如上图所示。然后Louis和Tim提高蓝链的优先级来连接新的蓝块，因为蓝叉链最长。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="fe ff np"><img src="../Images/fd0c9ac8bd98291ac4cc1944d97b77c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jUxlBuKmMRNDl9AilBqASg.png"/></div></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 25] The blue chain is accepted as a canonical chain.</figcaption></figure><p id="0eeb" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">因此，Louis Network达成了友好的共识，因为Louis、Tim、Ben和d an将尝试将新块连接到blue chain！</p><p id="5c4a" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">比特币采用了“最长链规则”，我们称之为“幽灵”。GHOST是“贪婪最重对象子树”的缩写</p><h2 id="f57d" class="iz ja ht bd lf ml mm mn lj mo mp mq ln jq mr ms lr ju mt mu lv jy mv mw lz mx dt translated">3.3.2修改后的GHOST协议</h2><p id="7abd" class="pw-post-body-paragraph jf jg ht jh b ji mb jk jl jm mc jo jp jq md js jt ju me jw jx jy mf ka kb kc hm dt translated">当以太坊使用能量时，他们采用了“改良幽灵”</p><p id="487b" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">使用PoW的比特币协议将难度调整为10分钟左右。以太坊将平均块生成时间固定为12秒。出现分叉的概率随着块生产时间的缩短而变得更高。对于较短的制块时间来说，PoW对于以太坊的难度要比比特币容易。所以叉子比以太坊的比特币出现的多。</p><p id="5759" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在这种情况下，如果以太坊采用GHOST作为最长链规则，一些攻击者制作的链可以被区块链网络接受。所以以太坊采用了“改良的幽灵协议”</p><p id="6bc4" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在just GHOST，“最重的链条”意味着“最长的链条”在Modified GHOST中,“最重的链”的含义变为“具有最多块的链”</p><p id="b933" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">让我们深入探讨GHOST和修改后的GHOST协议之间的区别。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div class="fe ff nr"><img src="../Images/3c18a9ac47cccfbd38fa37dee4ae61a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*rqr3GTWpS3wr0Pob8ZekoA.png"/></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 26]</figcaption></figure><p id="64a2" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">类似上述情况的分叉在以太坊是可能发生的。如果网络属于GHOST协议，则底链由最长链规则的红色块组成。但是，假设它遵循修改后的GHOST协议。每个分支级别具有最多块的链将被接受。</p><p id="23a3" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">看到第一个分叉，蓝色和红色块。在蓝色区块，有4个绿色、1个橙色、1个天蓝色、2个黄色和2个紫色区块与蓝色区块相连。4+1+1+2+2 = 10.蓝色方块除了自己还有10个方块。红色区块有7个区块。因此，根据修改后的GHOST协议，蓝色块将被接受为规范链。</p><figure class="iq ir is it fq mz fe ff paragraph-image"><div class="fe ff ns"><img src="../Images/3699dc82f259a24b51e9777dadd3c98f.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*9CtyJ_Bt24U1S_8mo3dSYg.png"/></div><figcaption class="nf ng fg fe ff nh ni bd b be z ek">[Image 27] After ignoring the red chain.</figcaption></figure><p id="a393" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">之后，网络参与者可以在绿色、橙色和紫色块中进行选择。绿色街区有三个街区。橙色街区有3个街区，紫色街区有1个街区。因此，绿色和橙色块将被选中，因为它们具有相同的块数。参与者将在下一次块创建后就绿色或橙色链是否规范达成共识。</p><p id="28c6" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">那么，修改后的GHOST协议为什么要在以太坊？攻击者可以在GHOST协议中选择他的伪造块的一个分叉链。假设他有很好的计算能力(可以用来找到一个合适的随机数)。在这种情况下，攻击者的链可能是最长的，因为另一个分叉链可能有许多额外的分叉链。</p><p id="8764" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">假设攻击者的计算能力是网络参与者总计算能力的30%。这意味着在所有参与者制作的块的数量是100的情况下，攻击者可以制作的伪造块的数量是30。那么，70块是规则的，但是由70块组成的链有很多分叉。所以最长链的长度可能小于30。简单地认为70个块出现了3个分叉。一般情况下最长的链长是70/3(约23)。低于30。但是如果我们使用修改后的GHOST协议，不用担心。最长的链的长度是无用的。由70个块组成的链将被接受为规范链，因为该链具有最多的块。</p><p id="a390" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">如果你有任何问题，请关注我的推特，发微博给我。<br/>  <a class="ae nt" href="https://twitter.com/Louis_Overlabs" rel="noopener ugc nofollow" target="_blank">路易的推特</a></p><blockquote class="nu"><p id="884b" class="nv nw ht bd nx ny nz oa ob oc od kc ek translated">交易新手？尝试<a class="ae nt" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或<a class="ae nt" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote></div></div>    
</body>
</html>